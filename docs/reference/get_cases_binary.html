<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create Binary Environmental Suitability Indicator from Case Data — get_cases_binary • MOSAIC</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create Binary Environmental Suitability Indicator from Case Data — get_cases_binary"><meta name="description" content="This function creates a binary indicator of environmental suitability for cholera transmission
based on case count data. It uses sophisticated temporal logic to identify not only outbreak
periods but also the environmental conditions leading up to outbreaks, which may be more
predictive of future transmission risk."><meta property="og:description" content="This function creates a binary indicator of environmental suitability for cholera transmission
based on case count data. It uses sophisticated temporal logic to identify not only outbreak
periods but also the environmental conditions leading up to outbreaks, which may be more
predictive of future transmission risk."><meta property="og:image" content="https://institutefordiseasemodeling.github.io/MOSAIC-pkg/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MOSAIC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Default-MOSAIC-parameters.html">Default parameters for running MOSIAC</a></li>
    <li><a class="dropdown-item" href="../articles/Project-setup.html">Project setup</a></li>
    <li><a class="dropdown-item" href="../articles/Running-MOSAIC.html">Running MOSAIC</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create Binary Environmental Suitability Indicator from Case Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/blob/HEAD/R/get_cases_binary.R" class="external-link"><code>R/get_cases_binary.R</code></a></small>
      <div class="d-none name"><code>get_cases_binary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates a binary indicator of environmental suitability for cholera transmission
based on case count data. It uses sophisticated temporal logic to identify not only outbreak
periods but also the environmental conditions leading up to outbreaks, which may be more
predictive of future transmission risk.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_cases_binary</span><span class="op">(</span><span class="va">data</span>, cutoff <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing cholera surveillance data with columns:</p><ul><li><p><strong>iso_code</strong>: ISO country code</p></li>
<li><p><strong>cases</strong>: Weekly cholera case counts</p></li>
<li><p><strong>date_start</strong>: Start date of each week (for ordering)</p></li>
</ul></dd>


<dt id="arg-cutoff">cutoff<a class="anchor" aria-label="anchor" href="#arg-cutoff"></a></dt>
<dd><p>Numeric threshold for case counts. Weeks with cases &gt;= cutoff are considered
outbreak periods. Default is 1 (any cases).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The input data frame with an additional <code>cases_binary</code> column containing
the binary environmental suitability indicator (0 = unsuitable, 1 = suitable).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The environmental suitability logic works as follows:</p><ol><li><p><strong>Primary identification</strong>: Weeks with cases &gt;= cutoff are marked as suitable (1)</p></li>
<li><p><strong>Lead-up period</strong>: The week immediately before any outbreak week is marked as suitable</p></li>
<li><p><strong>Extended lead-up</strong>: If two consecutive weeks have cases &gt;= cutoff, then 2-3 weeks before are also marked as suitable</p></li>
</ol><p>This approach recognizes that environmental conditions favorable for cholera transmission
typically develop in the weeks preceding observable outbreaks. By marking these lead-up
periods as "suitable," the model can learn to predict environmental suitability before
cases are reported, which is more useful for early warning systems.</p>
<p><strong>Missing Data Handling</strong>: Weeks with missing case data (NA) are preserved as NA
in the binary indicator and are never retroactively marked as suitable during the
lead-up period logic. This prevents false environmental suitability signals during
periods with poor surveillance coverage.</p>
<p>The function processes each country separately to ensure that temporal relationships
are maintained within each location's outbreak history.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The temporal logic requires data to be ordered by date within each country. The function
will sort the data appropriately, but for best performance, input data should already
be ordered by iso_code and date_start.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="process_suitability_data.html">process_suitability_data</a></code> for the main data processing pipeline where this function is used.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Load cholera case data</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"cholera_weekly_data.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create binary suitability indicator with default cutoff</span></span></span>
<span class="r-in"><span><span class="va">data_with_binary</span> <span class="op">&lt;-</span> <span class="fu">get_cases_binary</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use higher cutoff for more conservative outbreak definition</span></span></span>
<span class="r-in"><span><span class="va">data_with_binary</span> <span class="op">&lt;-</span> <span class="fu">get_cases_binary</span><span class="op">(</span><span class="va">data</span>, cutoff <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gilesjohnr" class="external-link">John R Giles</a>, <a href="https://github.com/ChristopherWLorton" class="external-link">Christopher W Lorton</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

