<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region — process_WHO_weekly_data • MOSAIC</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region — process_WHO_weekly_data"><meta name="description" content="This function processes weekly cholera data by converting country names to ISO3 codes,
filtering the data for countries in the WHO AFRO region, and organizing the data by
year and week. It also generates start and stop dates for each ISO week."><meta property="og:description" content="This function processes weekly cholera data by converting country names to ISO3 codes,
filtering the data for countries in the WHO AFRO region, and organizing the data by
year and week. It also generates start and stop dates for each ISO week."><meta property="og:image" content="https://institutefordiseasemodeling.github.io/MOSAIC-pkg/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MOSAIC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.13.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/Running-LASER.html">Running LASER</a></li>
    <li><a class="dropdown-item" href="../articles/Running-MOSAIC.html">Running MOSAIC</a></li>
    <li><a class="dropdown-item" href="../articles/Deployment.html">Deployment</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region</h1>
      <small class="dont-index">Source: <a href="https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/blob/HEAD/R/process_WHO_weekly_data.R" class="external-link"><code>R/process_WHO_weekly_data.R</code></a></small>
      <div class="d-none name"><code>process_WHO_weekly_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function processes weekly cholera data by converting country names to ISO3 codes,
filtering the data for countries in the WHO AFRO region, and organizing the data by
year and week. It also generates start and stop dates for each ISO week.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_WHO_weekly_data</span><span class="op">(</span><span class="va">PATHS</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-paths">PATHS<a class="anchor" aria-label="anchor" href="#arg-paths"></a></dt>
<dd><p>A list containing paths to the raw and processed data directories. Typically generated by the <code><a href="get_paths.html">get_paths()</a></code> function and should include:</p><ul><li><p><strong>DATA_SCRAPE_WHO_WEEKLY</strong>: Path to the raw cholera data file (e.g., <code>cholera_country_weekly.csv</code>).</p></li>
<li><p><strong>DATA_WHO_WEEKLY</strong>: Path to save the processed cholera data (e.g., <code>cholera_country_weekly_processed.csv</code>).</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns <code>NULL</code>. Side effects:</p><ul><li><p>Reads raw data with <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code>.</p></li>
<li><p>Writes processed data to <code>PATHS$DATA_WHO_WEEKLY/cholera_country_weekly_processed.csv</code> via <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function performs the following tasks:</p><ul><li><p>Reads raw cholera data from a CSV file.</p></li>
<li><p>Converts country names to ISO3 codes using the <code><a href="convert_country_to_iso.html">MOSAIC::convert_country_to_iso</a></code> and <code><a href="convert_iso_to_country.html">MOSAIC::convert_iso_to_country</a></code> functions.</p></li>
<li><p>Filters the dataset to include only countries in the WHO AFRO region (based on <code><a href="iso_codes_who_afro.html">MOSAIC::iso_codes_who_afro</a></code>).</p></li>
<li><p>Orders the data by year, week, and country.</p></li>
<li><p>Renames columns for consistency: <code>cases_by_week</code> to <code>cases</code> and <code>deaths_by_week</code> to <code>deaths</code>.</p></li>
<li><p>Adds <code>date_start</code> and <code>date_stop</code> columns based on ISO week, using the <code><a href="https://rdrr.io/pkg/ISOweek/man/ISOweek2date.html" class="external-link">ISOweek::ISOweek2date</a></code> function.</p></li>
<li><p>Computes the <code>month</code> from <code>date_start</code>.</p></li>
<li><p>Filters out countries with fewer than ten observations.</p></li>
<li><p>Checks that no ISO week index 53 remains.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">PATHS</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_paths.html">get_paths</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_WHO_weekly_data</span><span class="op">(</span><span class="va">PATHS</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gilesjohnr" class="external-link">John R Giles</a>, <a href="https://github.com/ChristopherWLorton" class="external-link">Christopher W Lorton</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

