[{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md - MOSAIC R Package","title":"CLAUDE.md - MOSAIC R Package","text":"file provides comprehensive guidance Claude Code working MOSAIC R package.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"books-table-of-contents","dir":"","previous_headings":"","what":"ðŸ“š Table of Contents","title":"CLAUDE.md - MOSAIC R Package","text":"Quick Start: - âš¡ Quick Reference Card - ðŸš€ First Time MOSAIC - ðŸ“‹ Common Tasks Understanding MOSAIC: - Package Overview - Architecture - run_MOSAIC Workflow â­ CENTERPIECE - Function Organization - Parameter System Development: - Development Standards ðŸ“‹ CRITICAL - Version Management - Testing - Git Workflow - Documentation Deep Dives: - Python Integration - Likelihood Calculation - NPE Performance âš¡ PERFORMANCE CRITICAL Troubleshooting & Reference: - Things Go Wrong - Key Files Reference - Design Decisions - System Requirements","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"zap-quick-reference-card","dir":"","previous_headings":"","what":"âš¡ Quick Reference Card","title":"CLAUDE.md - MOSAIC R Package","text":"Check current state (FIRST): Development cycle: Commit workflow (ALWAYS): Essential commands: Critical paths (DONâ€™T BREAK ): - run_MOSAIC() â†’ R/run_MOSAIC.R:575 (main calibration workflow) - calc_model_likelihood() â†’ R/calc_model_likelihood.R:66 (called 1000s times) - sample_parameters() â†’ R/sample_parameters.R (301 parameters) - NPE optimization â†’ outputs/ subdirectory pattern (100-1200Ã— speedup) File rules: - âœ… Use ./claude/ temporary/exploratory files - âœ… Use get_paths() file operations (never hardcode paths) - âŒ Never modify: laser-cholera/, ees-cholera-mapping/, jhu_cholera_data/ (read-) - âŒ Never modify: MOSAIC-data/raw/ (read-) - âŒ Never create files package root without necessity stuck: - Check Common Tasks step--step guides - Check Troubleshooting common issues - Check Design Decisions context - ASK user unclear!","code":"git status                      # Any uncommitted changes? git log --oneline -5           # Recent commits grep \"^Version:\" DESCRIPTION   # Current version (you'll bump this) Rscript -e \"devtools::test()\" # Baseline: all tests should pass # 1. Write production-ready code (no placeholders!) # 2. Add/update tests Rscript -e \"devtools::test()\"              # Must pass  # 3. Update docs if function signatures changed Rscript -e \"devtools::document()\"  # 4. Check package builds cleanly R CMD check . Rscript -e \"pkgdown::build_site()\"        # If docs changed # 1. Bump version in DESCRIPTION (patch: 0.8.7â†’0.8.8, minor: 0.8.7â†’0.9.0, major: 0.8.7â†’1.0.0) # 2. Stage relevant files: git add DESCRIPTION R/my_file.R tests/... # 3. Commit with version: git commit -m \"Fix bug (v0.8.8)\" # 4. Push: git push origin main # Testing Rscript -e \"devtools::test()\"                    # Run all tests Rscript -e \"testthat::test_file('tests/testthat/test-foo.R')\"  # Single test  # Documentation Rscript -e \"devtools::document()\"                # Update docs Rscript -e \"?function_name\"                      # Check doc renders Rscript -e \"pkgdown::build_site()\"              # Rebuild website  # Package checks R CMD check .                                     # Full package check Rscript -e \"MOSAIC::check_dependencies()\"        # Verify Python env  # Git git log --oneline -10                            # Recent commits git diff                                          # See changes git log --grep=\"NPE\"                             # Search commits"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"rocket-first-time-on-mosaic","dir":"","previous_headings":"","what":"ðŸš€ First Time on MOSAIC","title":"CLAUDE.md - MOSAIC R Package","text":"â€™re new Claude instance starting work MOSAIC. â€™s FIRST.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"step-1-understand-current-state-5-minutes","dir":"","previous_headings":"ðŸš€ First Time on MOSAIC","what":"Step 1: Understand Current State (5 minutes)","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# What version are we at? grep \"^Version:\" DESCRIPTION # Output example: Version: 0.8.7  # What happened recently? git log --oneline -10 # Shows recent commits and their versions  # Read recent changes head -50 NEWS.md # Shows what's been added/fixed recently  # Any uncommitted work? git status # Should be clean. If not, ask user before proceeding.  # Do tests pass? (CRITICAL - establish baseline) Rscript -e \"devtools::test()\" # All tests should pass. If not, something's wrong - ask user."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"step-2-understand-the-task","dir":"","previous_headings":"ðŸš€ First Time on MOSAIC","what":"Step 2: Understand the Task","title":"CLAUDE.md - MOSAIC R Package","text":"Ask : - [ ] functionality already exist? (219 functions - check first!) - [ ] bug fix (patch 0.8.7â†’0.8.8) new feature (minor 0.8.7â†’0.9.0)? - [ ] files modify? - [ ] fit run_MOSAIC workflow? - [ ] tests can look similar functionality? Find existing functionality:","code":"# Search for similar functions ls R/ | grep -i \"keyword\"  # Search code for patterns git grep \"pattern\" R/  # Check function reference Rscript -e \"library(MOSAIC); help(package='MOSAIC')\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"step-3-read-relevant-context","dir":"","previous_headings":"ðŸš€ First Time on MOSAIC","what":"Step 3: Read Relevant Context","title":"CLAUDE.md - MOSAIC R Package","text":"different task types, read sections:","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"step-4-plan-before-coding","dir":"","previous_headings":"ðŸš€ First Time on MOSAIC","what":"Step 4: Plan Before Coding","title":"CLAUDE.md - MOSAIC R Package","text":"writing code: 1. Understand exists (read relevant files) 2. Understand design (check Design Decisions) 3. Plan approach (think scale: 40K simulations, 16-32 workers) 4. Write tests first (TDD - test-driven development) 5. implement Red flags mean â€œask user firstâ€: - Need add new R package dependency - Need add new Python package - Need change function signature exported function - Need modify run_MOSAIC core loop - Unsure approach (multiple valid solutions)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"step-5-follow-development-standards","dir":"","previous_headings":"ðŸš€ First Time on MOSAIC","what":"Step 5: Follow Development Standards","title":"CLAUDE.md - MOSAIC R Package","text":"See Development Standards complete checklists. Core principles: - âœ… Production-ready code (placeholders) - âœ… Test changes - âœ… Bump version every commit - âœ… Push remote done - âŒ Never break existing workflows - âŒ Never add debug code - âŒ Never hardcode paths Now â€™re ready! Proceed task following Development Standards.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"clipboard-common-tasks-step-by-step","dir":"","previous_headings":"","what":"ðŸ“‹ Common Tasks: Step-by-Step","title":"CLAUDE.md - MOSAIC R Package","text":"Detailed walkthroughs common development tasks MOSAIC.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"task-1-fix-a-bug","dir":"","previous_headings":"ðŸ“‹ Common Tasks: Step-by-Step","what":"Task 1: Fix a Bug","title":"CLAUDE.md - MOSAIC R Package","text":"Test-Driven Development workflow:","code":"# 1. Create test that reproduces the bug cat > tests/testthat/test-my_bugfix.R << 'EOF' test_that(\"function handles edge case correctly\", {   edge_case_input <- c(1, 2, NA, 3)   result <- my_function(edge_case_input, na.rm = TRUE)   expect_equal(result, expected_value)   expect_true(is.finite(result)) }) EOF  # 2. Verify test FAILS (proves it catches the bug) Rscript -e \"testthat::test_file('tests/testthat/test-my_bugfix.R')\"  # 3. Fix the bug in R/my_function.R # - Handle NAs, validate inputs, add comments explaining WHY  # 4. Verify test PASSES Rscript -e \"testthat::test_file('tests/testthat/test-my_bugfix.R')\"  # 5. Verify ALL tests pass Rscript -e \"devtools::test()\"  # 6. Update docs if needed Rscript -e \"devtools::document()\"  # 7. Bump version (0.8.7 â†’ 0.8.8), commit, push git add DESCRIPTION R/my_function.R tests/testthat/test-my_bugfix.R git commit -m \"Fix NA handling in my_function (v0.8.8)  - Handle NA values explicitly instead of crashing - Add validation and clear error messages - Add regression test for NA edge case\" git push origin main"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"task-2-modify-calc_model_likelihood-hot-path","dir":"","previous_headings":"ðŸ“‹ Common Tasks: Step-by-Step","what":"Task 2: Modify calc_model_likelihood() (HOT PATH!)","title":"CLAUDE.md - MOSAIC R Package","text":"âš ï¸ CRITICAL: Called THOUSANDS times - profile /!","code":"# 1. Understand function: NB likelihood, shape terms, guardrails # 2. Create performance baseline cat > /tmp/test_likelihood_performance.R << 'EOF' library(MOSAIC) obs_cases <- matrix(rpois(10*100, 10), nrow=10) est_cases <- matrix(rpois(10*100, 10), nrow=10) obs_deaths <- matrix(rpois(10*100, 1), nrow=10) est_deaths <- matrix(rpois(10*100, 1), nrow=10) system.time({   for (i in 1:100) {     ll <- calc_model_likelihood(obs_cases, est_cases, obs_deaths, est_deaths)   } }) EOF Rscript /tmp/test_likelihood_performance.R  # Record baseline  # 3. Make minimal, focused changes - don't break guardrails # 4. Test performance - must not regress! Rscript /tmp/test_likelihood_performance.R  # 5. Standard workflow: test, document, version bump, commit, push"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md - MOSAIC R Package","text":"MOSAIC (Metapopulation Outbreak Simulation Interventions Cholera) v0.8.7 production-quality R package simulating cholera transmission dynamics across Sub-Saharan Africa. integrates Python laser-cholera simulation engine (https://laser-cholera.readthedocs.io) provides 219 functions data processing, parameter estimation, Bayesian calibration, visualization. Key Capabilities: - Cholera transmission simulation using metapopulation SEIR models - Neural Posterior Estimation (NPE) Bayesian calibration - Environmental suitability modeling climate forcing - Vaccination WASH intervention analysis - Spatial transmission dynamics human mobility","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"never-create-files-in-package-root-without-necessity","dir":"","previous_headings":"Critical File Management Rules","what":"NEVER Create Files in Package Root Without Necessity","title":"CLAUDE.md - MOSAIC R Package","text":"MOSAIC-pkg standard R package sensitive unwanted files. Always follow rules: Use ./claude/ temporary, exploratory, analysis files R/ - New R function files (follow naming conventions) tests/testthat/ - New test files (prefix test-) man/ - Auto-generated documentation (via roxygen2) data/ - Package data objects (.rda files) Files explicitly requested user essential R package functionality? user explicitly requested file? Can go ./claude/ instead?","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"claude-directory-conventions","dir":"","previous_headings":"Critical File Management Rules","what":"Claude Directory Conventions","title":"CLAUDE.md - MOSAIC R Package","text":"creating files ./claude/: - Development plans: plan_*.md - Analysis reports: Descriptive names context - Bug summaries: Include issue type (e.g., na_bugs_summary.md) - Feature docs: Clear descriptive names","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"multi-repository-structure","dir":"","previous_headings":"Architecture","what":"Multi-Repository Structure","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"MOSAIC/                          # Root (set via set_root_directory()) â”œâ”€â”€ MOSAIC-pkg/                  # THIS PACKAGE (EDITABLE) â”‚   â”œâ”€â”€ R/                       # 219 function files â”‚   â”œâ”€â”€ tests/testthat/          # 38 test files â”‚   â”œâ”€â”€ inst/ â”‚   â”‚   â”œâ”€â”€ extdata/             # Default parameters (JSON, 3.9 MB) â”‚   â”‚   â””â”€â”€ py/                  # Python environment.yml â”‚   â”œâ”€â”€ data/                    # R data objects (.rda) â”‚   â”œâ”€â”€ model/ â”‚   â”‚   â”œâ”€â”€ input/               # LASER model inputs â”‚   â”‚   â”œâ”€â”€ output/              # LASER model outputs â”‚   â”‚   â””â”€â”€ LAUNCH.R             # Main workflow pipeline â”‚   â”œâ”€â”€ claude/                  # USE THIS for temporary files â”‚   â”œâ”€â”€ man/                     # Auto-generated documentation â”‚   â””â”€â”€ DESCRIPTION              # Package metadata â”œâ”€â”€ MOSAIC-data/                 # Data repository (EDITABLE) â”‚   â”œâ”€â”€ raw/                     # READ-ONLY - never modify â”‚   â””â”€â”€ processed/               # Output from processing functions â”œâ”€â”€ MOSAIC-docs/                 # Documentation website (EDITABLE) â”‚   â”œâ”€â”€ figures/                 # Output from plot_*() functions â”‚   â””â”€â”€ tables/                  # Output tables â”œâ”€â”€ laser-cholera/               # Python simulation engine (READ-ONLY) â”‚                                # Docs: https://laser-cholera.readthedocs.io â”œâ”€â”€ ees-cholera-mapping/         # Web scraping tools (READ-ONLY) â””â”€â”€ jhu_cholera_data/            # JHU scraper (READ-ONLY)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"files-ignored-by-r-cmd-check-rbuildignore","dir":"","previous_headings":"Architecture","what":"Files Ignored by R CMD check (.Rbuildignore)","title":"CLAUDE.md - MOSAIC R Package","text":"directories excluded package builds: - deprecated/, data-raw/, local/, azure/, model/, src/ - docs/, pkgdown/, vignettes/articles, .github, claude/","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"overview","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Overview","title":"CLAUDE.md - MOSAIC R Package","text":"run_MOSAIC() / run_mosaic_iso() workflow centerpiece MOSAIC package. orchestrates complete Bayesian calibration pipeline prior sampling posterior estimation. production-quality implementation spanning 4,243 lines across 3 files. Files: - R/run_MOSAIC.R (2,856 lines) - Main workflow public API - R/run_MOSAIC_helpers.R (1,037 lines) - Internal helpers validation - R/run_MOSAIC_infrastructure.R (350 lines) - Directory setup /O","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_1-simple-interface-run_mosaic_iso","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package > Two User Interfaces","what":"1. Simple Interface: run_mosaic_iso()","title":"CLAUDE.md - MOSAIC R Package","text":"Recommended users. Automatically loads defaults specified countries.","code":"# Single location run_mosaic_iso(   iso_code = \"ETH\",   dir_output = \"./output/eth_calibration\" )  # Multiple locations run_mosaic_iso(   iso_code = c(\"ETH\", \"KEN\", \"TZA\"),   dir_output = \"./output/east_africa\",   control = mosaic_control_defaults(     parallel = list(enable = TRUE, n_cores = 16)   ) )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_2-advanced-interface-run_mosaic","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package > Two User Interfaces","what":"2. Advanced Interface: run_MOSAIC()","title":"CLAUDE.md - MOSAIC R Package","text":"Full control model specification. Accepts custom config priors.","code":"# Load and customize config config <- get_location_config(iso = \"ETH\") config$date_start <- \"2020-01-01\" config$date_stop <- \"2024-12-31\"  # Load and customize priors priors <- get_location_priors(iso = \"ETH\")  # Run with custom settings run_MOSAIC(   config = config,   priors = priors,   dir_output = \"./output/custom_run\",   control = mosaic_control_defaults(     calibration = list(       n_simulations = 5000,       n_iterations = 5     )   ) )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"workflow-stages","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Workflow Stages","title":"CLAUDE.md - MOSAIC R Package","text":"workflow executes two main stages:","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"stage-1-bayesian-filtering-with-resampling-bfrs","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package > Workflow Stages","what":"STAGE 1: Bayesian Filtering with Resampling (BFRS)","title":"CLAUDE.md - MOSAIC R Package","text":"Three-phase adaptive calibration: Phase 1: Adaptive Calibration - Runs batches convergence (RÂ² target achieved) - Auto mode (default): n_simulations = NULL - Adaptive batch sizing based convergence - Stops target_r2 reached (default 0.5) - Monitors ESS (Effective Sample Size) per parameter - Fixed mode: n_simulations = 5000 - Runs exact number specified - early stopping Phase 2: Single Predictive Batch - Size calculated calibration phase - Generates samples posterior inference - Uses importance sampling weights Phase 1 Phase 3: Adaptive Fine-tuning - 5-tier batch sizing system: - Massive: 20,000 simulations - Large: 10,000 simulations - Standard: 5,000 simulations - Precision: 2,500 simulations - Final: 1,000 simulations - Tier selected based convergence metrics - Refines posterior around high-likelihood regions Outputs: Results written dir_output/1_bfrs/ parameter files, simulation outputs, convergence diagnostics. Note: Output directory structure subject change package evolves.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"stage-2-neural-posterior-estimation-npe-optional","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package > Workflow Stages","what":"STAGE 2: Neural Posterior Estimation (NPE) (Optional)","title":"CLAUDE.md - MOSAIC R Package","text":"enabled: control$npe$enable = TRUE Trains normalizing flow model BFRS results Provides fast posterior sampling without additional simulations Uses PyTorch/Zuko neural density estimation Outputs: Results written dir_output/2_npe/ trained model, posterior samples, diagnostics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"control-structure","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Control Structure","title":"CLAUDE.md - MOSAIC R Package","text":"Created mosaic_control_defaults():","code":"control <- mosaic_control_defaults(   # === CALIBRATION SETTINGS ===   calibration = list(     n_simulations = NULL,          # NULL = auto mode, integer = fixed mode     n_iterations = 3,              # LASER iterations per simulation     max_simulations = 100000,      # Safety limit for auto mode     batch_size = 1000,             # Simulations per batch     min_batches = 3,               # Minimum batches before convergence check     max_batches = 100,             # Maximum batches in auto mode     target_r2 = 0.5                # RÂ² convergence threshold   ),    # === PARAMETER SAMPLING ===   sampling = list(     sample_tau_i = TRUE,           # Sample diffusion parameter     sample_beta_j0_tot = TRUE,     # Sample transmission rate     sample_p_beta = TRUE,          # Sample H2H proportion     sample_theta_j = TRUE,         # Sample WASH coverage     sample_mu_j = TRUE,            # Sample case fatality ratio     # ... (see sample_parameters.R for all 34 parameters)   ),    # === PARALLELIZATION ===   parallel = list(     enable = FALSE,                # Set TRUE for cluster execution     n_cores = 1,                   # Number of parallel workers     type = \"PSOCK\",                # \"PSOCK\" or \"FORK\"     progress = TRUE                # Show progress bar   ),    # === CONVERGENCE TARGETS ===   targets = list(     ESS_param = 100,               # Target ESS per parameter     ESS_param_prop = 0.1,          # Proportion threshold (10%)     ESS_best = 50,                 # Target for top-weighted samples     A_best = 0.01,                 # Proportion for \"best\" (top 1%)     CVw_best = 2.0,                # CV of weights threshold     percentile_max = 99            # Percentile for fine-tuning   ),    # === FINE-TUNING ===   fine_tuning = list(     batch_sizes = list(       massive = 20000,       large = 10000,       standard = 5000,       precision = 2500,       final = 1000     )   ),    # === NEURAL POSTERIOR ESTIMATION ===   npe = list(     enable = FALSE,                # Set TRUE to enable NPE stage     weight_strategy = \"quantile\",  # or \"threshold\"     quantile = 0.95                # Use top 5% of weighted samples   ),    # === LIKELIHOOD CALCULATION ===   likelihood = list(     add_max_terms = TRUE,     add_peak_timing = TRUE,     add_peak_magnitude = TRUE,     add_cumulative_total = TRUE,     add_wis = TRUE,     weight_cases = 1.0,     weight_deaths = 1.0,     weight_max_terms = 0.5,     weight_peak_timing = 0.5,     weight_peak_magnitude = 0.5,     weight_cumulative_total = 0.3,     weight_wis = 0.8,     enable_guardrails = TRUE,     floor_likelihood = -999999999   ),    # === I/O SETTINGS ===   io = list(     format = \"parquet\",            # \"parquet\" or \"csv\"     compression = \"zstd\",          # \"none\", \"snappy\", \"gzip\", \"lz4\", \"zstd\"     compression_level = 10         # 1-22 for zstd   ) )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"simulation-worker-architecture","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Simulation Worker Architecture","title":"CLAUDE.md - MOSAIC R Package","text":"Key Features: - Reproducible seeding scheme: - seed_sim = sim_id (parameters) - seed_iter = (sim_id - 1) * n_iterations + j (LASER model) - Iteration collapsing: Multiple LASER runs averaged via log-mean-exp - Memory management: Explicit garbage collection prevent Python object buildup - Error handling: Graceful failure without crashing entire batch Located: R/run_MOSAIC.R lines 29-281 (.mosaic_run_simulation_worker())","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"parallel-execution","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Parallel Execution","title":"CLAUDE.md - MOSAIC R Package","text":"CRITICAL Thread Safety: Cluster Types: - PSOCK (default): Works platforms, requires explicit export - FORK (Linux/Mac): Faster startup, shares memory Setup: R/run_MOSAIC.R lines 757-826","code":"# Each worker limited to single-threaded BLAS MOSAIC:::.mosaic_set_blas_threads(1L)  # Without this: # 16 workers Ã— 8 BLAS threads = 128 total (severe oversubscription!) # With this: # 16 workers Ã— 1 BLAS thread = 16 threads (optimal!)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"adaptive-convergence-detection","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Adaptive Convergence Detection","title":"CLAUDE.md - MOSAIC R Package","text":"Metrics monitored: - RÂ² (correlation): Model fit observed data - ESS (Effective Sample Size): Per parameter overall - CVw (Coefficient Variation Weights): Weight distribution quality - A_best: Proportion high-quality samples Early stopping : - RÂ² â‰¥ target_r2 (default 0.5) - ESS meets target (default 100 per parameter) - CVw_best < 2.0 (well-distributed weights) Located: R/run_MOSAIC_helpers.R (.mosaic_check_convergence())","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"output-structure","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Output Structure","title":"CLAUDE.md - MOSAIC R Package","text":"Main directories: - dir_output/1_bfrs/ - Stage 1 calibration results (parameters, simulations, diagnostics) - dir_output/2_npe/ - Stage 2 NPE results (enabled) - dir_output/results/ - Final posterior summaries visualizations Note: Specific file structure subject change package evolves. Use functions like read_calibration_results() rather hardcoding file paths.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"performance-considerations","dir":"","previous_headings":"The run_MOSAIC Workflow: Centerpiece of the Package","what":"Performance Considerations","title":"CLAUDE.md - MOSAIC R Package","text":"Batch Size: - small: Overhead dominates, slow convergence - large: Memory issues, long iteration times - Recommended: 500-2000 simulations per batch Iterations per Simulation: - n_iterations = 1: Fastest, noisier likelihood estimates - n_iterations = 3: Good balance (default) - n_iterations = 5+: stable, slower Parallel Scaling: - Linear speedup ~32 cores (depends batch size) - Beyond 32 cores: Diminishing returns due overhead - Best practice: batch_size â‰¥ n_cores efficiency Memory Usage: - ~1-2 GB per worker (LASER simulations) - Scale accordingly: 16 cores â‰ˆ 32 GB RAM - NPE training: Additional 4-8 GB PyTorch","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"naming-conventions","dir":"","previous_headings":"Function Organization (219 Files)","what":"Naming Conventions","title":"CLAUDE.md - MOSAIC R Package","text":"Functions follow strict prefixes indicating purpose:","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"function-categories-by-purpose","dir":"","previous_headings":"Function Organization (219 Files)","what":"Function Categories by Purpose","title":"CLAUDE.md - MOSAIC R Package","text":"Core LASER Integration: - run_LASER.R - Wrapper Python laser-cholera simulations (68 lines) - make_LASER_config.R - Config validation & creation (897 lines, validates 60+ parameters) - get_default_LASER_config.R - Retrieve default configurations Run MOSAIC Workflow (CENTERPIECE): - run_MOSAIC.R - Main calibration workflow (2,856 lines) - run_MOSAIC_helpers.R - Internal helpers (1,037 lines) - run_MOSAIC_infrastructure.R - Directory setup (350 lines) Neural Posterior Estimation (NPE): - npe.R - Main NPE workflow (train_npe, sample_posterior, etc.) - npe_utils.R - Helper functions data preparation - npe_diagnostics.R - Convergence & quality checks - npe_plots.R - Posterior visualization - npe_posterior.R - Posterior sampling & analysis - calc_npe_diagnostics.R - Quantitative diagnostics Parameter System: - sample_parameters.R - Sample priors (301 parameters: 21 global + 280 location-specific) - priors_default.R - Documentation default priors - Initial condition estimation: est_initial_S.R, est_initial_E_I.R, est_initial_R.R, est_initial_V1_V2.R Likelihood & Model Evaluation: - calc_model_likelihood.R - Multi-component likelihood (NB + shape terms + guardrails) - calc_model_convergence.R - MCMC convergence diagnostics - calc_model_posterior_distributions.R - Posterior summaries - calc_model_weights_gibbs.R - Importance weight calculation - calc_model_ess.R - Effective sample size Data Processing Pipeline: - Climate: download_climate_data.R, process_climate_data.R - Surveillance: process_WHO_weekly_data.R, process_JHU_data.R, process_SUPP_data.R - Demographics: process_UN_demographics_data.R, est_demographic_rates.R - Vaccination: process_WHO_vaccination_data.R, est_vaccination_rate.R - WASH: get_WASH_data.R, est_WASH_coverage.R Visualization: - Model diagnostics: plot_model_ppc.R, plot_model_convergence.R, plot_model_fit_stochastic.R - Spatial: plot_mosaic_country_map.R, plot_vaccination_maps.R, plot_mobility.R - Parameters: plot_seasonal_transmission.R, plot_shedding_rate.R, plot_vibrio_decay_rate.R Utilities: - get_paths.R - Directory structure management (CRITICAL file operations) - set_root_directory.R - Set MOSAIC root directory - ISO code conversions: 8 files geographic coding Python Environment: - install_dependencies.R - Set conda environment inst/py/environment.yml - check_dependencies.R - Comprehensive diagnostics capability checks - remove_MOSAIC_python_env.R - Cleanup troubleshooting - check_python_env.R, lock_python_env.R, get_python_paths.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"package-data-datarda---17-files","dir":"","previous_headings":"Key Data Objects","what":"Package Data (data/*.rda - 17 files)","title":"CLAUDE.md - MOSAIC R Package","text":"Configurations: - config_default.rda - Default LASER configuration (158 KB) - config_simulation_endemic.rda - 5-year endemic simulation - config_simulation_epidemic.rda - 1-year outbreak simulation Parameters: - priors_default.rda - Prior distributions 301 parameters (9.7 KB) - estimated_parameters.rda - Literature-derived estimates Geographic: - iso_codes_africa.rda, iso_codes_ssa.rda, iso_codes_who_afro.rda - iso_codes_africa_{north,west,east,central,south}.rda - iso_codes_mosaic.rda - 40 countries used MOSAIC Outbreak Data: - epidemic_peaks.rda - Historical outbreak timing data","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"external-data-instextdata","dir":"","previous_headings":"Key Data Objects","what":"External Data (inst/extdata/)","title":"CLAUDE.md - MOSAIC R Package","text":"default_parameters.json - Full parameter file (3.9 MB, 133 KB compressed) priors_default.json - JSON format priors (147 KB) sim_endemic_parameters.json - Endemic simulation config (297 KB) enso_forecast_current.json, dmi_forecast_current.json - Hardcoded climate fallbacks","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"environment-setup","dir":"","previous_headings":"Python Integration","what":"Environment Setup","title":"CLAUDE.md - MOSAIC R Package","text":"Location: ~/.virtualenvs/r-mosaic (fixed path) Three capability tiers: 1. Core (required): laser-cholera, laser-core, numpy, h5py, pyarrow 2. Suitability (optional): tensorflow, keras 3. NPE (optional): torch, sbi, lampe, zuko, scikit-learn Install/Check:","code":"# First time setup MOSAIC::install_dependencies()  # Check installation MOSAIC::check_dependencies()  # Troubleshooting MOSAIC::remove_MOSAIC_python_env() MOSAIC::install_dependencies(force = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"critical-thread-safety","dir":"","previous_headings":"Python Integration","what":"Critical: Thread Safety","title":"CLAUDE.md - MOSAIC R Package","text":"ALWAYS set BLAS threads 1 importing PyTorch prevent cluster deadlocks: : PyTorch initializes BLAS/MKL import. R already set BLAS threads differently, causes deadlocks clusters.","code":"# This is built into train_npe() but critical for custom PyTorch usage if (exists(\".mosaic_set_blas_threads\", envir = asNamespace(\"MOSAIC\"))) {   MOSAIC:::.mosaic_set_blas_threads(1L) }  Sys.setenv(   OMP_NUM_THREADS = \"1\",   MKL_NUM_THREADS = \"1\",   OPENBLAS_NUM_THREADS = \"1\",   NUMEXPR_NUM_THREADS = \"1\" )  # Then import torch <- reticulate::import(\"torch\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"laser-model-integration","dir":"","previous_headings":"Python Integration","what":"LASER Model Integration","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# Import laser-cholera lc <- reticulate::import(\"laser_cholera\")  # Run model directly model <- lc$metapop$model$run_model(   paramfile = \"config.json\",   seed = 123L )  # Or use wrapper (recommended) model <- run_LASER(   paramfile = \"config.json\",   seed = 123L,   visualize = FALSE,   outdir = tempdir() )"},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"total-301-parameters","dir":"","previous_headings":"Parameter System Architecture","what":"Total: 301 Parameters","title":"CLAUDE.md - MOSAIC R Package","text":"21 Global Parameters: - Transmission: alpha_1, alpha_2, beta dynamics - Disease progression: iota (incubation), gamma_1/gamma_2 (recovery), epsilon (immunity waning) - Vaccination: phi_1/phi_2 (effectiveness), omega_1/omega_2 (waning) - Environment: decay_days_short/long, decay_shape_1/2, zeta_1/zeta_2, kappa - Observation: rho (reporting), sigma (symptomatic proportion) - Mobility: mobility_gamma, mobility_omega 280 Location-Specific (40 countries Ã— 7 params): - beta_j0_tot - Total baseline transmission rate - p_beta - Proportion human--human transmission - tau_i - Travel/diffusion probability - theta_j - WASH coverage (proportion adequate WASH) - mu_j - Case fatality ratio - a1, a2, b1, b2 - Seasonality Fourier coefficients - psi_star_a, psi_star_b, psi_star_z, psi_star_k - Suitability calibration 6 Initial Conditions (per location): - S_j_initial, E_j_initial, I_j_initial, R_j_initial, V1_j_initial, V2_j_initial","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"prior-distributions","dir":"","previous_headings":"Parameter System Architecture","what":"Prior Distributions","title":"CLAUDE.md - MOSAIC R Package","text":"Default priors priors_default.rda / inst/extdata/priors_default.json Initial Conditions (Beta distributions epidemiological realism): - S (Susceptible): Beta(30, 7.5) â†’ 80% mean - V1 (One dose): Beta(0.5, 49.5) â†’ 1% mean - V2 (Two doses): Beta(0.5, 99.5) â†’ 0.5% mean - E (Exposed): Beta(0.01, 9999.99) â†’ 0.0001% mean - (Infected): Beta(0.01, 9999.99) â†’ 0.0001% mean - R (Recovered): Beta(3.5, 14) â†’ 20% mean Transmission Parameters: - alpha_1: Beta distribution (range 0-1) - alpha_2: Beta distribution (range 0-1) - beta_j0_hum/env: Gamma distributions (country-specific) Disease Progression: - iota: Lognormal distribution - gamma_1: Uniform(1/7, 1/3) dayâ»Â¹ - gamma_2: Uniform(1/14, 1/7) dayâ»Â¹ - epsilon: Lognormal distribution","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"calc_model_likelihood-architecture","dir":"","previous_headings":"Likelihood Calculation","what":"calc_model_likelihood() Architecture","title":"CLAUDE.md - MOSAIC R Package","text":"Located: R/calc_model_likelihood.R Core Component: Negative Binomial time-series likelihood - Per location outcome (cases, deaths) - Weighted MoM dispersion estimation k_min floor (default 3) - Handles NA values gracefully Shape Terms (optional, default weights): 1. Multi-peak timing (weight 0.5): Normal likelihood time differences matched peaks 2. Multi-peak magnitude (weight 0.5): Log-Normal peak ratio adaptive sigma 3. Cumulative progression (weight 0.3): NB fractions [0.25, 0.5, 0.75, 1.0] 4. Max terms (weight 0.5): Legacy Poisson maxima (default ) 5. WIS (weight 0.8): Weighted Interval Score across quantiles (default ) Guardrails (enabled default): - Cumulative -prediction: sum(est) / sum(obs) > 10 â†’ floor - Cumulative -prediction: sum(est) / sum(obs) < 0.1 â†’ floor - Per-timestep max ratio: est[] / obs[] > 100 â†’ floor - Per-timestep min ratio: est[] / obs[] < 0.01 â†’ floor - Negative correlation: cor(est, obs) < 0 â†’ floor - Returns floor_likelihood = -999999999 violations Usage:","code":"ll <- calc_model_likelihood(   obs_cases = obs_cases_matrix,      # n_locations Ã— n_timesteps   est_cases = est_cases_matrix,   obs_deaths = obs_deaths_matrix,   est_deaths = est_deaths_matrix,   weight_cases = 1,   weight_deaths = 1,   weights_location = NULL,           # Uniform if NULL   weights_time = NULL,               # Uniform if NULL   config = config,                   # Optional (for metadata)   nb_k_min = 3,                      # Dispersion floor   add_peak_timing = TRUE,            # Enable shape term   add_peak_magnitude = TRUE,   add_cumulative_total = TRUE,   add_max_terms = TRUE,   add_wis = TRUE,   enable_guardrails = TRUE,          # Enable safety checks   guardrail_verbose = FALSE,         # Print violations   verbose = FALSE                    # Print component summaries )"},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"problem-40k-simulation-files","dir":"","previous_headings":"CRITICAL: NPE Performance Optimization","what":"Problem: 40K Simulation Files","title":"CLAUDE.md - MOSAIC R Package","text":"BFRS sampling, ~40K simulations create individual out_NNNNNNN.parquet files. 1-5% receive non-zero NPE weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"wrong-approach-removed-in-v087","dir":"","previous_headings":"CRITICAL: NPE Performance Optimization","what":"WRONG Approach (Removed in v0.8.7)","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# OLD: Combined all files, then filtered simulations.parquet (194 MB, all 40K) â†’ filter to weighted â†’ 2-5 MB Time: 30-120 seconds Memory: High"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"correct-approach-current","dir":"","previous_headings":"CRITICAL: NPE Performance Optimization","what":"CORRECT Approach (Current)","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"outputs/                          # Subdirectory for organization â”œâ”€â”€ timeseries_0000001.parquet   # Individual simulation files â”œâ”€â”€ timeseries_0000002.parquet â””â”€â”€ ... (39,465 files)  simulations.parquet               # Metadata only (18 MB) convergence_results.parquet       # Diagnostics priors.json                       # Parameter priors  # Load only weighted simulation files directly Time: 0.1-0.5 seconds Memory: Low Speedup: 100-1200Ã— faster (2-3 orders of magnitude)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"implementation-details","dir":"","previous_headings":"CRITICAL: NPE Performance Optimization","what":"Implementation Details","title":"CLAUDE.md - MOSAIC R Package","text":"Directory structure created : R/run_MOSAIC.R (directory setup section) Output file creation: .mosaic_run_simulation_worker() line 268 writes outputs/ subdirectory Loading logic: R/npe.R .prepare_npe_data() function Cleanup: NPE completes IMPORTANT: - âŒ combine individual files outputs.parquet - âœ… organize files outputs/ subdirectory - âœ… keep individual files NPE training completes - âœ… Entire outputs/ directory removed automatically NPE","code":"# Load only weighted simulation files outputs_dir <- file.path(iteration_dir, \"outputs\") weighted_files <- sprintf(\"timeseries_%07d.parquet\", sim_ids_weighted) # Read each file directly # Remove entire outputs/ directory unlink(file.path(iteration_dir, \"outputs\"), recursive = TRUE) # Frees 50-200 MB disk space"},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"Testing","what":"Running Tests","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# All tests Rscript -e \"devtools::test()\"  # Specific test file Rscript -e \"testthat::test_file('tests/testthat/test-calc_model_likelihood.R')\"  # With coverage Rscript -e \"covr::package_coverage()\"  # Single function test Rscript -e \"testthat::test_file('tests/testthat/test-calc_spatial_correlation.R')\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"test-structure-38-files","dir":"","previous_headings":"Testing","what":"Test Structure (38 files)","title":"CLAUDE.md - MOSAIC R Package","text":"Organized component: - Likelihood: test-calc_log_likelihood_negbin.R, test-calc_log_likelihood_poisson.R - Model evaluation: test-calc_model_likelihood.R, test-calc_model_convergence.R - Spatial: test-calc_spatial_correlation.R, test-calc_spatial_hazard.R - Initial conditions: test-est_initial_E_I.R, test-est_initial_R.R, test-est_initial_V1_V2.R - NPE: test-npe_v5_2.R, test-get_npe_observed_data.R, test-get_npe_simulated_data.R - Configuration: test-convert_config_to_dataframe.R, test-get_location_config.R - Statistics: test-weighted_statistics.R, test-calc_kl_divergence.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"adding-new-functions","dir":"","previous_headings":"Development Guidelines","what":"Adding New Functions","title":"CLAUDE.md - MOSAIC R Package","text":"Create function file R/ following naming convention Add roxygen2 documentation Update documentation Add unit tests tests/testthat/ Run tests Check package","code":"# R/est_new_parameter.R or R/plot_new_diagnostic.R #' Estimate New Parameter #' #' @param data Input data #' @param ... Additional arguments #' @return Estimated parameter value #' @export est_new_parameter <- function(data, ...) {   # Implementation } Rscript -e \"devtools::document()\" # tests/testthat/test-est_new_parameter.R test_that(\"est_new_parameter returns valid output\", {   result <- est_new_parameter(test_data)   expect_true(is.numeric(result))   expect_true(result > 0) }) Rscript -e \"devtools::test()\" R CMD check ."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"path-management","dir":"","previous_headings":"Development Guidelines","what":"Path Management","title":"CLAUDE.md - MOSAIC R Package","text":"ALWAYS use get_paths() file operations: Available paths (see R/get_paths.R): - PATHS$ROOT - MOSAIC root directory - PATHS$DATA_RAW, PATHS$DATA_PROCESSED - Data directories - PATHS$DATA_CLIMATE, PATHS$DATA_ENSO, PATHS$DATA_WHO_WEEKLY, etc. - PATHS$MODEL_INPUT, PATHS$MODEL_OUTPUT - Model directories - PATHS$DOCS_FIGURES, PATHS$DOCS_TABLES - Documentation outputs","code":"PATHS <- get_paths()  # Read from processed data data <- arrow::read_parquet(file.path(PATHS$DATA_PROCESSED, \"cholera/weekly/ETH.parquet\"))  # Write to model input write.csv(config, file.path(PATHS$MODEL_INPUT, \"parameters.csv\"))  # Save figures ggplot2::ggsave(file.path(PATHS$DOCS_FIGURES, \"transmission_map.png\"))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"error-handling","dir":"","previous_headings":"Development Guidelines","what":"Error Handling","title":"CLAUDE.md - MOSAIC R Package","text":"Parameter validation: Graceful degradation:","code":"# Extensive validation in make_LASER_config() if (!is.numeric(iota) || length(iota) != 1 || iota <= 0) {   stop(\"iota must be a numeric scalar greater than zero.\") }  if (!is.matrix(b_jt) || nrow(b_jt) != length(location_name) || ncol(b_jt) != length(t)) {   stop(\"b_jt must be a matrix with rows equal to length(location_name) and columns equal to the daily sequence from date_start to date_stop.\") } # Handle missing data data <- tryCatch(   arrow::read_parquet(file_path),   error = function(e) {     warning(\"Could not read file: \", file_path, \"\\nUsing defaults.\")     return(default_data)   } )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Development Guidelines","what":"Documentation","title":"CLAUDE.md - MOSAIC R Package","text":"exported functions MUST roxygen2 documentation: Build documentation:","code":"#' Function Title #' #' @description #' Detailed description of what the function does. #' #' @param param1 Description of param1 #' @param param2 Description of param2 #' @return Description of return value #' #' @examples #' \\dontrun{ #' result <- my_function(param1 = \"value\") #' } #' #' @export my_function <- function(param1, param2) {   # Implementation } Rscript -e \"devtools::document()\" Rscript -e \"pkgdown::build_site()\""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_1-package-development","dir":"","previous_headings":"Common Development Tasks","what":"1. Package Development","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# Document functions Rscript -e \"devtools::document()\"  # Run all tests Rscript -e \"devtools::test()\"  # Check package R CMD check .  # Build package R CMD build .  # Install from source Rscript -e \"devtools::install()\"  # Load for interactive development Rscript -e \"devtools::load_all()\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_2-python-environment-management","dir":"","previous_headings":"Common Development Tasks","what":"2. Python Environment Management","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# Check dependencies Rscript -e \"MOSAIC::check_dependencies()\"  # Install/update Python environment Rscript -e \"MOSAIC::install_dependencies()\"  # Force reinstall Rscript -e \"MOSAIC::install_dependencies(force = TRUE)\"  # Remove environment (troubleshooting) Rscript -e \"MOSAIC::remove_MOSAIC_python_env()\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_3-running-main-workflow","dir":"","previous_headings":"Common Development Tasks","what":"3. Running Main Workflow","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"cd model/ Rscript LAUNCH.R"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_4-parallel-execution-azure-style","dir":"","previous_headings":"Common Development Tasks","what":"4. Parallel Execution (Azure-style)","title":"CLAUDE.md - MOSAIC R Package","text":"","code":"# Run parallel simulations Rscript azure/azure_run_laser.R [n_sim] [n_iter] [n_cores]"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"dart-why-we-do-this-design-decisions","dir":"","previous_headings":"","what":"ðŸŽ¯ Why We Do This: Design Decisions","title":"CLAUDE.md - MOSAIC R Package","text":"Understanding behind key architectural choices helps work () system.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-bump-version-on-every-commit","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why bump version on EVERY commit?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: Without version tracking, debugging reported bugs impossible - canâ€™t identify bugs introduced commit fixed . Solution: Semantic versioning DESCRIPTION + commit messages Example: User reports â€œcalc_model_likelihood crashesâ€ â†’ Check version (0.8.7) â†’ Search git log version â†’ Find exact commit fix â†’ Determine need upgrade. Benefits: Traceable history, easy rollback, clear deployment state, professional version management Scheme: Patch (0.8.7â†’0.8.8): bug fixes; Minor (0.8.7â†’0.9.0): new features; Major (0.8.7â†’1.0.0): breaking changes","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-npe-uses-outputs-subdirectory","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why NPE uses outputs/ subdirectory?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: 40K BFRS simulations create individual files, 1-5% non-zero NPE weights. Loading files filtering wastes time. Old approach: Combine 40K files â†’ 194 MB parquet â†’ filter 2-5 MB used (30-120 seconds) New approach: Store outputs/ subdirectory â†’ load weighted file IDs directly (0.1-0.5 seconds) Speedup: 100-1200Ã— faster (2-3 orders magnitude) matters: NPE training iterative - saving 120s Ã— 10 attempts = 20 minutes. 100K simulations, old approach unusable. Implementation: Files written .mosaic_run_simulation_worker(), loaded .prepare_npe_data(), cleaned NPE completes. Key rules: - âŒ Donâ€™t combine files single outputs.parquet - âœ… Load weighted files directly - âœ… Clean outputs/ NPE completes","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-blas-threads-must--1-in-parallel-execution","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why BLAS threads must = 1 in parallel execution?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: BLAS libraries multithread default. parallel workers, causes severe oversubscription (16 workers Ã— 8 BLAS threads = 128 threads 16 cores), leading context switching, cache thrashing, potential deadlocks. Solution: Set BLAS threads = 1 worker Result: 16 workers Ã— 1 BLAS thread = 16 threads = optimal CPU usage, linear speedup, deadlocks Implementation: Set cluster initialization (R/run_MOSAIC.R) NPE training (R/npe.R) Critical: REQUIRED stable parallel execution. Without , jobs may hang indefinitely.","code":"MOSAIC:::.mosaic_set_blas_threads(1L) Sys.setenv(OMP_NUM_THREADS = \"1\", MKL_NUM_THREADS = \"1\", OPENBLAS_NUM_THREADS = \"1\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-get_paths-for-all-file-operations","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why get_paths() for ALL file operations?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: Hardcoded paths break across different systems, directory structures, testing environments. Solution: Centralized path management via get_paths() : User calls set_root_directory() â†’ get_paths() builds paths relative root â†’ Returns 30+ standard paths Benefits: Portable across systems, single source truth, self-documenting, consistent, testable Usage: 50+ files use . See R/get_paths.R definitions. Rule: ALWAYS use get_paths(). NEVER hardcode paths.","code":"# BAD: file.path(\"~/MOSAIC/MOSAIC-data/processed/climate/ETH.parquet\") # GOOD: PATHS <- get_paths() file.path(PATHS$DATA_CLIMATE, \"ETH.parquet\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-no-placeholder-code-ever","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why no placeholder code ever?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: Placeholder code ships production. Developer commits return(NULL) # TODO â†’ gets distracted â†’ weeks pass â†’ someone calls function â†’ production breaks. Solution: Production-ready code commit #1. Complete implementation committing. Benefits: Every commit shippable, technical debt, clear git history, forces proper planning, surprises Rule: Canâ€™t implement fully now? DONâ€™T commit. Ask help break smaller pieces.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-concise-documentation","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why concise documentation?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: Verbose roxygen2 docs cause R CMD check warnings, hard scan, take forever maintain. Bad: Multi-line @param nested \\itemize{} lists complex LaTeX â†’ warnings, users give Good: One-line @param descriptions â†’ clear, scannable, builds cleanly Guidelines: Title (1 line), Description (1-2 sentences), @param (1 line ), @return (1 line), Examples (simple, \\dontrun{}). Avoid nested lists, complex equations, verbose text. Detailed explanations go : Vignettes, CLAUDE.md, code comments - roxygen2","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-design-for-scale-test-small","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why â€œdesign for scale, test smallâ€?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: MOSAIC runs production scale (40K simulations, 16-32 workers, 100-200 GB memory). Testing full scale takes hours - development impossibly slow. Solution: Test 10-100 simulations (seconds) write code thinking 40K: - loops handle 40K efficiently? - Pre-allocate grow objects? (growing O(nÂ²)) - Vectorized slow element-wise? - Memory usage scale linearly? Bad: results <- list(); (1:n) results[[]] <- ... # Growing list O(nÂ²) Good: results <- vector(\"list\", n); (1:n) results[[]] <- ... # Pre-allocated Benefits: Fast development, scalable code, catch issues early, efficient iteration Rule: Test 100 examples. Think 40K examples.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"why-always-push-to-remote-after-completing-work","dir":"","previous_headings":"ðŸŽ¯ Why We Do This: Design Decisions","what":"Why always push to remote after completing work?","title":"CLAUDE.md - MOSAIC R Package","text":"Problem: Local-commits fragile: Computer crashes/disk fails â†’ work lost; Need different computer â†’ work stuck; Collaborator needs fix â†’ canâ€™t access; CI/CD doesnâ€™t run â†’ bugs caught Solution: Push every completed unit work: git push origin main Benefits: Backup (safe remote), collaboration (others access), CI/CD (auto tests), transparency (user sees progress), portability (continue elsewhere) Rule: Version bump means â€œcompleteâ€ - push immediately.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"wrench-when-things-go-wrong","dir":"","previous_headings":"","what":"ðŸ”§ When Things Go Wrong","title":"CLAUDE.md - MOSAIC R Package","text":"Systematic troubleshooting guide common issues.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"tests-failing-after-your-changes","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"Tests Failing After Your Changes","title":"CLAUDE.md - MOSAIC R Package","text":"Step 1: Identify test failing Step 2: Common causes fixes Step 3: Debug interactively Step 4: Check broke dependency","code":"# Run all tests to see failures Rscript -e \"devtools::test()\"  # Run just the failing test for details Rscript -e \"testthat::test_file('tests/testthat/test-my_function.R')\" # Load package in dev mode devtools::load_all()  # Run the problematic code step by step x <- test_input result <- my_function(x)  # Add browser() in function to step through # Find functions that call your modified function grep -r \"my_function(\" R/"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"r-cmd-check-errors-or-warnings","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"R CMD Check Errors or Warnings","title":"CLAUDE.md - MOSAIC R Package","text":"Common errors quick fixes:","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"pkgdownbuild_site-failing","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"pkgdown::build_site() Failing","title":"CLAUDE.md - MOSAIC R Package","text":"Error: â€œCanâ€™t find functionâ€ Causes: (1) Function exported - add @export tag; (2) Function _pkgdown.yml doesnâ€™t exist - remove fix typo; (3) Docs regenerated - run devtools::document() first Workflow function changes:","code":"devtools::document()              # Update docs # Update _pkgdown.yml if needed pkgdown::build_site()             # Test build"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"python-environment-issues","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"Python Environment Issues","title":"CLAUDE.md - MOSAIC R Package","text":"Symptom: â€œFailed import laser_choleraâ€ reticulate crashes Solution steps: problem persists:","code":"# Step 1: Check current configuration Rscript -e \"MOSAIC::check_python_env()\"  # Step 2: Check dependencies comprehensively Rscript -e \"MOSAIC::check_dependencies()\"  # Step 3: Check if environment exists ls -la ~/.virtualenvs/r-mosaic/  # Step 4: If environment is broken, reinstall Rscript -e \"MOSAIC::remove_MOSAIC_python_env()\" Rscript -e \"MOSAIC::install_dependencies(force = TRUE)\"  # Step 5: Restart R and try again Rscript -e \"library(MOSAIC); MOSAIC::check_dependencies()\" # Check conda availability which conda conda --version  # Check Python version python --version  # Should be 3.9+  # Manually check laser-cholera ~/.virtualenvs/r-mosaic/bin/python -c \"import laser_cholera; print('OK')\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"pytorch-hangs-when-importing-cluster-deadlock","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"PyTorch Hangs When Importing (Cluster Deadlock)","title":"CLAUDE.md - MOSAIC R Package","text":"Symptom: Code hangs indefinitely running torch <- reticulate::import(\"torch\") Cause: BLAS threading conflict Fix built run_MOSAIC train_npe, custom code:","code":"# BEFORE importing torch: MOSAIC:::.mosaic_set_blas_threads(1L)  Sys.setenv(   OMP_NUM_THREADS = \"1\",   MKL_NUM_THREADS = \"1\",   OPENBLAS_NUM_THREADS = \"1\" )  # NOW safe to import: torch <- reticulate::import(\"torch\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"memory-issues-during-calibration","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"Memory Issues During Calibration","title":"CLAUDE.md - MOSAIC R Package","text":"Symptom: â€œallocate vectorâ€ RAM Diagnosis: free -h (Linux) vm_stat (macOS) Common causes: 1. many workers - uses ~2 GB. 16 GB RAM: max 8 workers 2. Growing objects loops - Use results <- vector(\"list\", n) results <- c() 3. cleanup - Add periodic gc() every 100 iterations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"git-push-rejected","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"Git Push Rejected","title":"CLAUDE.md - MOSAIC R Package","text":"Cause: Remote commits donâ€™t Fix: git fetch origin && git pull origin main â†’ resolve conflicts â†’ git push origin main","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"quick-diagnostic-checklist","dir":"","previous_headings":"ðŸ”§ When Things Go Wrong","what":"Quick Diagnostic Checklist","title":"CLAUDE.md - MOSAIC R Package","text":"something breaks, run checklist: tests pass changes? (git log see changed) tests pass now? (devtools::test()) package check cleanly? (R CMD check .) regenerate docs? (devtools::document()) update _pkgdown.yml needed? dependencies? (MOSAIC::check_dependencies()) using get_paths() file operations? add @export function exported? bump version? Can reproduce issue minimal example? Still stuck? ASK USER!","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"critical-core-files","dir":"","previous_headings":"Key Files Reference","what":"Critical Core Files","title":"CLAUDE.md - MOSAIC R Package","text":"Complete Bayesian calibration workflow Three-phase adaptive calibration Parallel execution infrastructure Must read understand MOSAIC workflow Control validation merging Convergence detection algorithms Internal helper functions Reference extending run_MOSAIC Directory setup organization /O operations (parquet/CSV) Logging infrastructure Reference file structure Validates 60+ model parameters Extensive checks dimensions, types, ranges Handles compartments, demographics, vaccination, FOI Always read modifying parameter structure Simple wrapper Python laser-cholera Suppresses NumPy warnings Reference Python integration patterns Samples 301 parameters priors Handles global location-specific Read modifying parameter sampling Multi-component likelihood calculation Guardrails numerical stability Critical understanding calibration Main NPE workflow PyTorch integration Reference advanced calibration Defines directory paths Must use file operations Comprehensive environment diagnostics Three capability tiers (core, suitability, NPE) Reference troubleshooting","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"configuration-files","dir":"","previous_headings":"Key Files Reference","what":"Configuration Files","title":"CLAUDE.md - MOSAIC R Package","text":"inst/extdata/default_parameters.json (3.9 MB) - Full default config inst/py/environment.yml - Python dependencies .Rbuildignore - Files excluded package build","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"documentation-files","dir":"","previous_headings":"Key Files Reference","what":"Documentation Files","title":"CLAUDE.md - MOSAIC R Package","text":"README.md - Package overview NEWS.md - Version history changes man/ - Auto-generated function documentation","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_1-universal-export-pattern","dir":"","previous_headings":"Key Design Decisions","what":"1. Universal Export Pattern","title":"CLAUDE.md - MOSAIC R Package","text":"functions starting letters exported. simplifies development means internal functions need special naming (e.g., .mosaic_set_blas_threads).","code":"# NAMESPACE exportPattern(\"^[[:alpha:]]+\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_2-centralized-path-management","dir":"","previous_headings":"Key Design Decisions","what":"2. Centralized Path Management","title":"CLAUDE.md - MOSAIC R Package","text":"file operations go get_paths() maintain consistency across multi-repo structure.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_3-python-environment-isolation","dir":"","previous_headings":"Key Design Decisions","what":"3. Python Environment Isolation","title":"CLAUDE.md - MOSAIC R Package","text":"Fixed path ~/.virtualenvs/r-mosaic ensures consistency across sessions prevents conflicts.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_4-guardrails-in-likelihood","dir":"","previous_headings":"Key Design Decisions","what":"4. Guardrails in Likelihood","title":"CLAUDE.md - MOSAIC R Package","text":"Inline guardrails calc_model_likelihood() prevent numerical instabilities without requiring external validation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_5-performance-critical-npe-design","dir":"","previous_headings":"Key Design Decisions","what":"5. Performance-Critical NPE Design","title":"CLAUDE.md - MOSAIC R Package","text":"Individual parquet files outputs/ subdirectory allow selective loading based weights, achieving 100-1200Ã— speedup.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_6-backward-compatibility","dir":"","previous_headings":"Key Design Decisions","what":"6. Backward Compatibility","title":"CLAUDE.md - MOSAIC R Package","text":"Functions like sample_parameters() support old (individual args) new (sample_args list) interfaces.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_7-adaptive-calibration","dir":"","previous_headings":"Key Design Decisions","what":"7. Adaptive Calibration","title":"CLAUDE.md - MOSAIC R Package","text":"Auto mode (n_simulations = NULL) dynamically adjusts batch sizes based convergence metrics, stopping targets met.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"system-requirements","dir":"","previous_headings":"","what":"System Requirements","title":"CLAUDE.md - MOSAIC R Package","text":"R: >= 4.1.1 System Libraries: - GDAL >= 2.0.0 - PROJ >= 4.8.0 - GEOS >= 3.4.0 - UDUNITS-2 Python: >= 3.9 (managed via conda) Critical R Packages: - reticulate (Python interface) - arrow (fast parquet /O) - sf (spatial operations) - dplyr, data.table (data manipulation) - ggplot2 (visualization) Optional R Packages: - mobility (JAGS-based mobility estimation - rarely needed) - tensorflow, keras3 (suitability modeling) - testthat (testing) Python Packages (managed automatically): - Core: laser-cholera, laser-core, numpy, h5py, pyarrow - Suitability: tensorflow, keras - NPE: torch, sbi, lampe, zuko, scikit-learn","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"checking-package-history","dir":"","previous_headings":"Version History","what":"Checking Package History","title":"CLAUDE.md - MOSAIC R Package","text":"View recent changes: View version DESCRIPTION: View NEWS.md: Check changed versions:","code":"# Last 10 commits with one-line summaries git log --oneline -10  # Detailed log with diffs git log -5 --stat  # Changes since a specific version git log v0.8.6..HEAD --oneline  # View specific file history git log --follow -- R/run_MOSAIC.R  # Search commits by message git log --grep=\"NPE\" --oneline # Current version grep \"^Version:\" DESCRIPTION  # Version history git log --oneline --all --decorate --graph DESCRIPTION cat NEWS.md | head -50 # Compare two versions git diff v0.8.6 v0.8.7  # List files changed git diff --name-only v0.8.6 v0.8.7  # Show changes to specific file git diff v0.8.6 v0.8.7 -- R/npe.R"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"additional-resources","dir":"","previous_headings":"","what":"Additional Resources","title":"CLAUDE.md - MOSAIC R Package","text":"Documentation: https://institutefordiseasemodeling.github.io/MOSAIC-docs/ Package Website: https://institutefordiseasemodeling.github.io/MOSAIC-pkg/ GitHub Issues: https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/issues","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"core-principles","dir":"","previous_headings":"Working with Claude Code: Development Standards","what":"Core Principles","title":"CLAUDE.md - MOSAIC R Package","text":"Claude Code working MOSAIC must act production systems software engineer maintaining clean, efficient, production-ready scientific computing codebase.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_1-code-quality-standards","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"1. Code Quality Standards","title":"CLAUDE.md - MOSAIC R Package","text":"NEVER: - Use placeholder code (e.g., # TODO: implement , pass, return None) - Leave commented-code commits - Add debug print/cat statements - Use hardcoded values (paths, magic numbers without explanation) - Add superfluous arguments features beyond requested ALWAYS: - Write production-ready code start - Complete implementations fully committing - Remove debugging artifacts - Use constants/parameters configurable values - concise - asked, nothing good idea improvement: ASK FIRST implementing .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_2-package-version-management","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"2. Package Version Management","title":"CLAUDE.md - MOSAIC R Package","text":"CRITICAL: Always bump version committing. Edit DESCRIPTION file, commit version message. See bump version detailed rationale. Scheme: Patch (0.8.7â†’0.8.8): bugs/docs; Minor (0.8.7â†’0.9.0): features; Major (0.8.7â†’1.0.0): breaking changes","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_3-testing-requirements","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"3. Testing Requirements","title":"CLAUDE.md - MOSAIC R Package","text":"making changes: making changes: bug fixes: - Add regression test fails old code, passes fix - Test edge cases: NA, NULL, empty vectors, single values, large inputs new features: - Unit tests new functions - Integration test showing works workflow - Test realistic data, just toy examples","code":"# Run existing tests to establish baseline Rscript -e \"devtools::test()\" # Run tests again Rscript -e \"devtools::test()\"  # For new functions, add tests # tests/testthat/test-my_new_function.R  # Run R CMD check R CMD check ."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_4-never-break-existing-workflows","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"4. Never Break Existing Workflows","title":"CLAUDE.md - MOSAIC R Package","text":"Critical paths MUST continue working: - run_mosaic_iso() / run_MOSAIC() - Complete calibration pipeline - calc_model_likelihood() - Likelihood calculation - sample_parameters() - Parameter sampling - NPE training workflow - Parallel execution clusters committing, verify:","code":"# Test basic workflow still works library(MOSAIC) set_root_directory(\"~/MOSAIC\")  # Try a small test run config <- get_location_config(iso = \"ETH\") priors <- get_location_priors(iso = \"ETH\")  # Sample parameters test_params <- sample_parameters(seed = 123, priors = priors, config = config)  # If you changed likelihood, test it # If you changed run_MOSAIC, test a small calibration # etc."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_5-performance-standards","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"5. Performance Standards","title":"CLAUDE.md - MOSAIC R Package","text":"NEVER regress performance: - Consider performance implications coding - Preserve critical optimizations (NPE outputs/ subdirectory, vectorization) - Profile /touching hot paths (use small test cases) Hot paths (extra careful): - run_MOSAIC() - Main calibration loop - calc_model_likelihood() - Called thousands times - .mosaic_run_simulation_worker() - Parallel worker - .prepare_npe_data() - NPE data loading Scaling awareness: See design scale, test small detailed guidance. Test 10-100 examples, think 40K. Pre-allocate, avoid growing objects, vectorize, consider memory (N workers Ã— ~2 GB per worker), ensure thread safety (BLAS threads = 1).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_6-git-workflow","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"6. Git Workflow","title":"CLAUDE.md - MOSAIC R Package","text":"Standard workflow: Bump version â†’ test â†’ document â†’ stage files â†’ commit (version message) â†’ push Commit format: Brief summary (50 chars) version, blank line, bullets explaining /Atomic commits: One logical change per commit, donâ€™t mix changes, donâ€™t commit broken code","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_7-documentation-standards","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"7. Documentation Standards","title":"CLAUDE.md - MOSAIC R Package","text":"update: Adding functions, changing signatures, modifying behavior Keep concise: See concise documentation rationale. One-line @param, avoid complex roxygen2 syntax (nested lists, complex LaTeX), detailed explanations go vignettes/CLAUDE.md Maintain pkgdown: Update _pkgdown.yml adding/removing functions, test pkgdown::build_site() Checklist: devtools::document() â†’ check warnings â†’ test pkgdown::build_site()","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_8-dependencies","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"8. Dependencies","title":"CLAUDE.md - MOSAIC R Package","text":"NEVER add new dependencies without explicit user approval. changing Python integration: Maintain backward compatibility: - Donâ€™t change function signatures without deprecation - Support old parameter names warnings - Document breaking changes clearly","code":"# Always verify afterward Rscript -e \"MOSAIC::check_dependencies()\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_9-r-package-specific","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"9. R Package Specific","title":"CLAUDE.md - MOSAIC R Package","text":"Code style: Function design: - Validate inputs early clear error messages - Return consistent types (donâ€™t return NULL sometimes, list times) - Use S3 methods appropriate - Keep functions focused (single responsibility)","code":"# Use explicit namespace calls dplyr::mutate(df, ...)  # Good mutate(df, ...)          # Bad (unless in depends)  # Use get_paths() for ALL file operations PATHS <- get_paths() file.path(PATHS$MODEL_OUTPUT, \"results.parquet\")  # Good \"~/MOSAIC/output/results.parquet\"                 # Bad (hardcoded)  # Handle NAs properly mean(x, na.rm = TRUE)    # Consider what NAs mean sum(is.na(x))            # Check for unexpected NAs  # Vectorize when possible x + y                    # Good sapply(seq_along(x), function(i) x[i] + y[i])  # Bad"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"id_10-scientific-computing-standards","dir":"","previous_headings":"Working with Claude Code: Development Standards > Non-Negotiable Requirements","what":"10. Scientific Computing Standards","title":"CLAUDE.md - MOSAIC R Package","text":"Preserve reproducibility: - Maintain seeding schemes (seed_sim, seed_iter run_MOSAIC) - Document stochastic components - Test reproducibility seed Numerical stability: - Preserve likelihood guardrails - Handle edge cases (0, Inf, -Inf) - Use log-space small/large numbers - Test extreme values Parallel execution: - Ensure thread safety (BLAS threads = 1) - Test parallel sequential modes - Avoid race conditions - Clean resources (close clusters)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"workflow-checklist","dir":"","previous_headings":"Working with Claude Code: Development Standards","what":"Workflow Checklist","title":"CLAUDE.md - MOSAIC R Package","text":": Read git log, check exists, run tests, understand workflow fit : Production-ready code (placeholders), test incrementally, comment complex logic, hardcoding, stay focused commit: Bump version, test, document, R CMD check, verify debug code, check workflows still work Commit: Stage relevant files, clear message version, push : Verify push, check CI/CD, update issues","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"communication-protocol","dir":"","previous_headings":"Working with Claude Code: Development Standards","what":"Communication Protocol","title":"CLAUDE.md - MOSAIC R Package","text":"starting task: 1. Explain â€™re going 2. List files â€™ll modify 3. Describe testing approach 4. Ask clarification requirements unclear work: 1. Show test results go 2. Report unexpected issues 3. Ask implementing â€œimprovementsâ€ 4. Explain non-obvious decisions complete: 1. Summarize changed 2. Report test results 3. Show git commit push output 4. Note limitations follow-needed","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/CLAUDE.html","id":"quick-reference","dir":"","previous_headings":"Working with Claude Code: Development Standards","what":"Quick Reference","title":"CLAUDE.md - MOSAIC R Package","text":"Essential commands: Files check: - [ ] Use ./claude/ temporary files - [ ] Never create files package root without necessity - [ ] Respect read-repos (laser-cholera, ees-cholera-mapping, jhu_cholera_data) - [ ] Never modify MOSAIC-data/raw/ Key functions understand: - run_MOSAIC() - Centerpiece calibration workflow - calc_model_likelihood() - Core likelihood calculation - sample_parameters() - Parameter sampling 301 parameters - get_paths() - MUST use file operations","code":"# Test Rscript -e \"devtools::test()\"  # Document Rscript -e \"devtools::document()\"  # Check R CMD check .  # Version grep \"^Version:\" DESCRIPTION  # Git workflow git status git diff git add <files> git commit -m \"message (vX.Y.Z)\" git push origin main"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Deployment","text":"guide shows deploy MOSAIC remote virtual machines compute clusters production use large-scale simulations. MOSAIC provides ready--use bash scripts handle installation steps automatically. deployment scripts non-interactive execute remotely via ssh user@host 'bash -s' < script.sh. scripts available vm/ directory MOSAIC-pkg repository.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"complete-vm-setup","dir":"Articles","previous_headings":"","what":"Complete VM Setup","title":"Deployment","text":"vm/setup_mosaic.sh script installs R, system dependencies, MOSAIC package, Python components scratch Ubuntu/Debian systems.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"execution-options","dir":"Articles","previous_headings":"Complete VM Setup","what":"Execution Options","title":"Deployment","text":"Option 1: Direct GitHub (recommended) local files needed - downloads executes latest script directly: Option 2: local MOSAIC repository MOSAIC-pkg cloned locally (Standard Setup Installation vignette):","code":"curl -fsSL https://raw.githubusercontent.com/InstituteforDiseaseModeling/MOSAIC-pkg/main/vm/setup_mosaic.sh | ssh user@host 'bash -s' ssh user@host 'bash -s' < ~/MOSAIC/MOSAIC-pkg/vm/setup_mosaic.sh"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"script-contents","dir":"Articles","previous_headings":"Complete VM Setup","what":"Script Contents","title":"Deployment","text":"","code":"#!/bin/bash set -e  # Exit on any error  # Create timestamped log file LOG_FILE=\"mosaic_install_$(date +%Y%m%d_%H%M%S).log\" exec > >(tee -a \"$LOG_FILE\") exec 2>&1  echo \"======================================\" echo \"MOSAIC VM Setup Script\" echo \"======================================\" echo \"Logging to: $LOG_FILE\" echo \"\"  # Check OS version OS_VERSION=$(lsb_release -rs 2>/dev/null || echo \"unknown\") OS_CODENAME=$(lsb_release -cs 2>/dev/null || echo \"unknown\") echo \"Detected OS: Ubuntu $OS_VERSION ($OS_CODENAME)\"  if [ \"$OS_VERSION\" != \"20.04\" ]; then   echo \"WARNING: This script is optimized for Ubuntu 20.04\"   echo \"You are running Ubuntu $OS_VERSION - installation may encounter issues\"   echo \"Press Ctrl+C to cancel, or wait 5 seconds to continue...\"   sleep 5 fi echo \"\"  # Clean up previous failed installations echo \"[0/7] Cleaning up previous installation attempts...\" rm -rf ~/.local/share/r-miniconda 2>/dev/null || true rm -rf ~/.virtualenvs 2>/dev/null || true rm -rf ~/.conda 2>/dev/null || true sudo rm -rf /root/.local/share/r-miniconda 2>/dev/null || true sudo rm -rf /root/.virtualenvs 2>/dev/null || true echo \"Cleanup complete\" echo \"\"  # Update system echo \"[1/7] Updating system packages...\" sudo apt-get update sudo apt-get upgrade -y  # Install essential build tools echo \"[2/7] Installing essential build tools...\" sudo apt-get install -y \\   git \\   ca-certificates \\   build-essential \\   gfortran \\   cmake  # Install R and dependencies echo \"[3/7] Installing R (>= 4.1.1)...\" sudo apt-get install -y software-properties-common dirmngr wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc sudo add-apt-repository \"deb https://cloud.r-project.org/bin/linux/ubuntu $(lsb_release -cs)-cran40/\" sudo apt-get update sudo apt-get install -y r-base r-base-dev  # Install system dependencies for geospatial operations and R packages echo \"[4/7] Installing system libraries (GDAL, PROJ, GEOS, HDF5)...\" sudo apt-get install -y \\   gdal-bin libgdal-dev \\   libproj-dev proj-bin \\   libgeos-dev libgeos++-dev \\   libudunits2-dev \\   libcurl4-openssl-dev \\   libssl-dev \\   libxml2-dev \\   libfontconfig1-dev \\   libharfbuzz-dev \\   libfribidi-dev \\   libfreetype6-dev \\   libpng-dev \\   libtiff5-dev \\   libjpeg-dev \\   libhdf5-dev \\   zlib1g-dev  # Note: cmake (installed above) allows s2 R package to build Abseil from source # Note: libarrow-dev removed - arrow R package will compile from source # This takes longer but avoids repository configuration issues  # Install Python 3.9+ echo \"[5/7] Installing Python 3.9+...\" sudo apt-get install -y \\   python3 \\   python3-pip \\   python3-venv \\   python3-dev  # Verify Python version PYTHON_VERSION=$(python3 --version 2>&1 | grep -oP '\\d+\\.\\d+' | head -1) PYTHON_MAJOR=$(echo $PYTHON_VERSION | cut -d. -f1) PYTHON_MINOR=$(echo $PYTHON_VERSION | cut -d. -f2)  if [ \"$PYTHON_MAJOR\" -lt 3 ] || ([ \"$PYTHON_MAJOR\" -eq 3 ] && [ \"$PYTHON_MINOR\" -lt 9 ]); then   echo \"WARNING: Python $PYTHON_VERSION detected, but >= 3.9 required\"   echo \"Attempting to install Python 3.9...\"   sudo add-apt-repository -y ppa:deadsnakes/ppa   sudo apt-get update   sudo apt-get install -y python3.9 python3.9-venv python3.9-dev   sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 1   echo \"Python 3.9 installed and set as default\" else   echo \"Python $PYTHON_VERSION detected (OK)\" fi  # Install critical geospatial R packages first (these often fail) echo \"[6/7] Installing critical geospatial R packages...\" sudo Rscript -e \" options(repos = c(CRAN = 'https://cloud.r-project.org'))  # Install remotes if (!requireNamespace('remotes', quietly = TRUE)) {   install.packages('remotes') }  # Install geospatial packages one by one with error checking cat('Installing sf...\\n') if (!requireNamespace('sf', quietly = TRUE)) {   install.packages('sf', configure.args = '--with-proj-lib=/usr/lib')   if (!requireNamespace('sf', quietly = TRUE)) {     stop('Failed to install sf package')   } }  cat('Installing terra (version compatible with GEOS 3.8)...\\n') if (!requireNamespace('terra', quietly = TRUE)) {   # Ubuntu 20.04 has GEOS 3.8, but current terra requires GEOS 3.10+   # Install terra 1.7-71 (last version compatible with GEOS 3.8)   remotes::install_version('terra', version = '1.7.71', repos = 'https://cloud.r-project.org')   if (!requireNamespace('terra', quietly = TRUE)) {     stop('Failed to install terra package')   } }  cat('Installing raster (version compatible with terra 1.7-71)...\\n') if (!requireNamespace('raster', quietly = TRUE)) {   # Latest raster requires terra >= 1.8.5, but we have terra 1.7-71   # Install raster 3.6-26 (compatible with terra 1.7-71)   remotes::install_version('raster', version = '3.6.26', repos = 'https://cloud.r-project.org')   if (!requireNamespace('raster', quietly = TRUE)) {     stop('Failed to install raster package')   } }  cat('Geospatial packages installed successfully\\n') \"  # Now install MOSAIC with all dependencies echo \"[7/7] Installing MOSAIC R package...\" sudo Rscript -e \"options(repos = c(CRAN = 'https://cloud.r-project.org')); \\   remotes::install_github('InstituteforDiseaseModeling/MOSAIC-pkg', dependencies = TRUE, upgrade = 'never')\"  # Install Python dependencies (run as user, not root) echo \"[7/7] Installing Python dependencies...\" Rscript -e \"MOSAIC::install_dependencies(force = TRUE)\"  # Verify installation echo \"\" echo \"Verifying installation...\" Rscript -e \"   library(MOSAIC)   result <- tryCatch({     MOSAIC::check_dependencies()     TRUE   }, error = function(e) {     cat('ERROR:', e\\$message, '\\n')     FALSE   })   if (!result) quit(status = 1) \"  if [ $? -eq 0 ]; then   echo \"\"   echo \"======================================\"   echo \"Installation complete and verified!\"   echo \"======================================\"   echo \"\"   echo \"Installation Summary:\"   echo \"  - R version: $(R --version | head -1)\"   echo \"  - Python version: $(python3 --version)\"   echo \"  - MOSAIC R package: $(Rscript -e \"cat(as.character(packageVersion('MOSAIC')))\" 2>/dev/null)\"   echo \"  - Python environment: ~/.virtualenvs/r-mosaic\"   echo \"  - Conda location: ~/.local/share/r-miniconda\"   echo \"\"   echo \"Next steps:\"   echo \"  1. Test MOSAIC: Rscript -e 'library(MOSAIC); MOSAIC::check_dependencies()'\"   echo \"  2. View documentation: https://institutefordiseasemodeling.github.io/MOSAIC-pkg/\"   echo \"  3. Report issues: https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/issues\"   echo \"\"   echo \"Full installation log saved to: $LOG_FILE\" else   echo \"\"   echo \"======================================\"   echo \"Installation completed with errors\"   echo \"======================================\"   echo \"\"   echo \"Please check the error messages above and try the following:\"   echo \"  1. Review the full log: cat $LOG_FILE\"   echo \"  2. Check system requirements: Ubuntu 20.04, 8GB RAM, 20GB disk\"   echo \"  3. Re-run this script (it will clean up previous attempts)\"   echo \"  4. Report issues: https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/issues\"   echo \"\"   echo \"Full installation log saved to: $LOG_FILE\"   exit 1 fi"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"minimal-vm-setup","dir":"Articles","previous_headings":"","what":"Minimal VM Setup","title":"Deployment","text":"R >= 4.1.1 already installed VM, use vm/setup_mosaic_minimal.sh.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"execution-options-1","dir":"Articles","previous_headings":"Minimal VM Setup","what":"Execution Options","title":"Deployment","text":"Option 1: Direct GitHub (recommended) Option 2: local MOSAIC repository","code":"curl -fsSL https://raw.githubusercontent.com/InstituteforDiseaseModeling/MOSAIC-pkg/main/vm/setup_mosaic_minimal.sh | ssh user@host 'bash -s' ssh user@host 'bash -s' < ~/MOSAIC/MOSAIC-pkg/vm/setup_mosaic_minimal.sh"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"what-it-does","dir":"Articles","previous_headings":"Minimal VM Setup","what":"What it does","title":"Deployment","text":"script identical complete setup skips R installation (step 2/6). installs: System libraries (GDAL, PROJ, GEOS, UDUNITS, Python) MOSAIC R package GitHub Python dependencies (laser-cholera) Verifies installation check_dependencies()","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"parallel-execution","dir":"Articles","previous_headings":"","what":"Parallel Execution","title":"Deployment","text":"running multiple simulations parallel cluster:","code":"# Set number of cores library(MOSAIC) options(mc.cores = parallel::detectCores() - 1)  # Run parallel simulations ctrl <- mosaic_control_defaults(   parallel = TRUE,   n_cores = parallel::detectCores() - 1 )  results <- run_MOSAIC(   config = config_default,   control = ctrl,   n_sim = 100,   seed = 123 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"troubleshooting","dir":"Articles","previous_headings":"","what":"Troubleshooting","title":"Deployment","text":"Python issues:","code":"# Check Python configuration reticulate::py_config()  # Reset if needed remove_MOSAIC_python_env() install_dependencies()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Deployment.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Deployment","text":"deployment, see â€œRunning MOSAICâ€ vignette learn model execution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Installation","text":"MOSAIC two installation levels depending needs: users start Basic.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"basic-setup","dir":"Articles","previous_headings":"","what":"Basic Setup","title":"Installation","text":"Install R package GitHub let automatically set Python dependencies. sufficient running models pre-configured parameters data. Successful installation output: MOSAIC loads successfully, see:","code":"# Install remotes if not already installed if (!require(\"remotes\")) install.packages(\"remotes\")  # Install MOSAIC R package remotes::install_github(\"InstituteforDiseaseModeling/MOSAIC-pkg\", upgrade = \"never\", force = TRUE)  # Load and install Python dependencies library(MOSAIC) install_dependencies()  # Check Python environment and dependencies check_python_env() check_dependencies() __  __   ___   ____     _     ___  ____       __      ___    _____  _____   _____ ___ |  \\/  | / _ \\ / ___|   / \\   |_ _|/ ___|   __/ /_    / /    /   |  / ___/ / ____// __ \\ | |\\/| || | | |\\___ \\  / _ \\   | || |      /_  __/   / /    / /| |  \\__ \\ / __/  / /_/ / | |  | || |_| | ___) |/ ___ \\  | || |___    /_/     / /___ / ___ | ___/ // /___ / _, _/ |_|  |_| \\___/ |____//_/   \\_\\|___|\\____|          /_____//_/  |_|/____//_____//_/ |_|  Welcome to the Metapopulation Outbreak Simulation with Agent-based Implementation for Cholera (MOSAIC) featuring the Light-agent Spatial Model for ERadication (LASER)!  Version: 0.11.25"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"developer-setup","dir":"Articles","previous_headings":"","what":"Developer Setup","title":"Installation","text":"Clone full repository structure data processing, parameter estimation, code development. Requires system dependencies (GDAL, PROJ, GEOS, UDUNITS). Note: recommend creating ~/MOSAIC directory organize MOSAIC repositories one location.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"install-system-dependencies","dir":"Articles","previous_headings":"Developer Setup","what":"Install System Dependencies","title":"Installation","text":"macOS: Ubuntu/Debian:","code":"brew install gdal proj geos udunits sudo apt-get install -y gdal-bin libgdal-dev libproj-dev libgeos-dev libudunits2-dev"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"clone-repositories","dir":"Articles","previous_headings":"Developer Setup","what":"Clone Repositories","title":"Installation","text":"","code":"mkdir -p ~/MOSAIC && cd ~/MOSAIC git clone git@github.com:InstituteforDiseaseModeling/MOSAIC-pkg.git git clone git@github.com:InstituteforDiseaseModeling/MOSAIC-data.git git clone git@github.com:InstituteforDiseaseModeling/MOSAIC-docs.git git clone git@github.com:InstituteforDiseaseModeling/laser-cholera.git git clone git@github.com:InstituteforDiseaseModeling/ees-cholera-mapping.git"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"install-and-configure","dir":"Articles","previous_headings":"Developer Setup","what":"Install and Configure","title":"Installation","text":"","code":"# Install R package from source (upgrade = \"never\" avoids prompts) devtools::install(\"~/MOSAIC/MOSAIC-pkg\", upgrade = \"never\")  # Set up Python and paths library(MOSAIC) install_dependencies() set_root_directory(\"~/MOSAIC\")  # Check Python environment and dependencies check_python_env() check_dependencies()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"development-workflow","dir":"Articles","previous_headings":"Developer Setup","what":"Development Workflow","title":"Installation","text":"","code":"# Load for development devtools::load_all(\"~/MOSAIC/MOSAIC-pkg\")  # Run tests devtools::test()  # Build documentation devtools::document() pkgdown::build_site()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"optional-mobility-package","dir":"Articles","previous_headings":"Developer Setup","what":"Optional: Mobility Package","title":"Installation","text":"mobility package needed want regenerate mobility estimates scratch. users can skip - pre-computed mobility files included model/input/. needed? â€™re calling MOSAIC::est_mobility() regenerate mobility matrices. Otherwise, use pre-computed files included package.","code":"# Only install if you need to regenerate mobility data # Requires JAGS system library  # macOS: # brew install jags  # Ubuntu/Debian: # sudo apt-get install -y jags libjags-dev  # Then install R packages: install.packages(\"rjags\") remotes::install_github(\"COVID-19-Mobility-Data-Network/mobility\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"troubleshooting","dir":"Articles","previous_headings":"","what":"Troubleshooting","title":"Installation","text":"Python issues: Path issues (Developer ):","code":"# Check Python environment and dependencies check_python_env() check_dependencies()  # Check detailed Python configuration reticulate::py_config()  # Reset if needed remove_MOSAIC_python_env() install_dependencies() # Check and reset root directory getOption(\"root_directory\") set_root_directory(\"~/MOSAIC\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Installation.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Installation","text":"Running MOSAIC: Learn execute models work outputs Deployment: Set MOSAIC remote VMs compute clusters","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/01-intro.html","id":"history","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Introduction","what":"History","title":"","text":"Vibrio cholerae introduced African continent Asia 1970s since become endemic many countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/01-intro.html","id":"recent-surge","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Introduction","what":"Recent Surge","title":"","text":"Although sporadic cholera outbreaks past five decades, significant surge cases since 2021. increase likely due factors climate change disruptions municipal services COVID-19 pandemic.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/01-intro.html","id":"gtfcc-goals","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Introduction","what":"GTFCC Goals","title":"","text":"Global Task Force Cholera Control (GTFCC) aims reduce cholera deaths 90% 2030.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/01-intro.html","id":"ocv-stockpiles","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Introduction","what":"OCV Stockpiles","title":"","text":"major concern recent surge cases depletion oral cholera vaccine (OCV) stockpiles. response, officials shifted single-dose OCV strategies. Efforts underway replenish stockpiles, key question best allocate reduce transmission regionally support GTFCCâ€™s goal.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/01-intro.html","id":"climate-change","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Introduction","what":"Climate Change","title":"","text":"Environmental factors play significant role cholera outbreaks, warmer wetter conditions creating favorable environment Vibrio cholerae. conditions likely exacerbate already challenging endemic outbreak settings. Models incorporate climatic forcing can provide insights future cholera dynamics due climate change aid achieving GTFCC goal.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/02-rationale.html","id":"rationale","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Rationale","title":"","text":"significant challenge controlling cholera transmission Sub-Saharan Africa (SSA) lack comprehensive datasets dynamic models designed support ongoing policy-making. persistent endemic nature cholera SSA presents complex quantitative challenge, requiring sophisticated models produce meaningful inferences. Models incorporate necessary natural history disease dynamics, operate adequate spatial temporal scales, crucial providing timely actionable information address ongoing future cholera outbreaks. Although developing data models scales challenging, goal iteratively create landscape-scale transmission model cholera SSA can provide weekly predictions key epidemiological metrics. modeling methods leverage wide array --date data sources, including incidence mortality reports, patterns human movement, vaccination history schedules, environmental factors. Key questions address include administer limited supply oral cholera vaccine (OCV) severe weather events climate change impact future outbreaks. landscape-scale model accounts endemic transmission patterns valuable tool addressing questions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"data","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Data","title":"","text":"MOSAIC model requires diverse set data sources, directly used define model parameters (e.g., birth death rates), others help fit models priori provide informative priors transmission model. additional data sources become available, future versions model adapt incorporate . now, following data sources represent minimum requirements initiate viable first model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"historical-incidence-and-deaths","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Historical Incidence and Deaths","title":"","text":"Data historical cholera incidence deaths crucial establishing baseline transmission patterns. compiled annual total reported cases deaths AFRO region countries January 1970 August 2024. data comes several sources include: World Data (1970-2021): Number Reported Cases Cholera (1949-2021) Number Reported Deaths Cholera (1949-2021). World Data group compiled data previously published annual reports. Annual Report 2022: data manually extracted World Health Organizationâ€™s Weekly Epidemiological Record 38, 2023, 98, 431â€“452. Global Cholera Acute Watery Diarrhea Dashboard (2023-2024): Unofficial tallies reported cases deaths 2023 part 2024 available Global Cholera AWD Dashboard.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"recent-incidence-and-deaths","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Recent Incidence and Deaths","title":"","text":"capture recent cholera trends, retrieved reported cases deaths data Global Cholera Acute Watery Diarrhea Dashboard REST API. data provide weekly incidence deaths January 2023 August 2024 provides --date counts country level.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"vaccinations","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Vaccinations","title":"","text":"Accurate data oral cholera vaccine (OCV) campaigns vaccination history vital understanding impact vaccination efforts. data come : Cholera Vaccine Dashboard: resource (link) provides detailed information OCV distribution vaccination campaigns 2016 2024. GTFCC OCV Dashboard: Managed MÃ©decins Sans FrontiÃ¨res, dashboard (link) tracks OCV deployments globally, offering granular insights vaccination efforts 2013 2024.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"human-mobility-data","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Human Mobility Data","title":"","text":"Human mobility patterns significantly influence cholera transmission. Relevant data include: OAG Passenger Booking Data: dataset (link) offers insights air passenger movements, can used model spread cholera across regions. Namibia Call Data Records: additional source Giles et al.Â (2020) (link) provides detailed mobility data based mobile phone records, useful localized modeling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"climate-data","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Climate Data","title":"","text":"Climate conditions, including temperature, precipitation, extreme weather events, play critical role cholera dynamics. captured : OpenMeteo Historical Weather Data API: API (link) offers access historical climate data, essential modeling environmental factors influencing cholera outbreaks.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"storms-and-floods","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data > Climate Data","what":"Storms and Floods","title":"","text":"Data extreme weather events, specifically storms floods, obtained : EM-DAT International Disaster Database: Maintained Centre Research Epidemiology Disasters (CRED) UCLouvain, database (link) provides comprehensive records disasters 2000 present, including affecting African countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"wash-water-sanitation-and-hygiene","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"WASH (Water, Sanitation, and Hygiene)","title":"","text":"Data water, sanitation, hygiene (WASH) critical understanding environmental infrastructural factors influence cholera transmission. data sourced : UNICEF Joint Monitoring Program (JMP) Database: resource (link) offers detailed information household-level access clean water sanitation, integral cholera prevention efforts.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/03-data.html","id":"demographics","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Data","what":"Demographics","title":"","text":"Demographic data, including population size, birth rates, death rates, foundational accurate disease modeling. data sourced : UN World Population Prospects 2024: database (link) provides probabilistic projections key demographic metrics, essential estimating population-level impacts cholera.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"model-description","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Model description","title":"","text":"describe methods MOSAIC beta version 0.1. model version provides starting point understanding cholera transmission Sub-Saharan Africa, incorporating important drivers disease dynamics human mobility, environmental conditions, vaccination schedules. MOSAIC continues evolve, future iterations refine model components based available data improved model mechanisms, hope increase applicability real-world scenarios. model operates weekly time steps January 2023 August 2024 includes 46 countries Sub-Saharan Africa (SSA) shown Figure @ref(fig:map). map Sub-Saharan Africa countries experienced cholera outbreak past 5 10 years highlighted green.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"transmission-dynamics","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Transmission dynamics","title":"","text":"model metapopulation structure familiar compartments Susceptible, Infected, Recovered individuals SIRS dynamics. model also contains compartments vaccinated individuals (V) Water & environment based transmission (W) refer SVIWRS. diagram SVIWRS (Susceptible-Vaccinated-Infected-Water/environmental-Recovered-Susceptible) model shows model compartments circles rate parameters displayed. primary data sources model fit shown square nodes (Vaccination data, reported cases deaths). SVIWRS metapopulation model, shown Figure @ref(fig:diagram), governed following difference equations: \\[\\begin{equation} \\begin{aligned} S_{j,t+1} &= b_j N_{jt} + S_{jt} - \\phi \\nu_{jt} S_{jt} + \\omega V_{jt} - \\Lambda_{j,t+1} - \\Psi_{j,t+1} + \\varepsilon R_{jt} - d_j S_{jt}\\\\[11pt] V_{j,t+1} &= V_{jt} + \\phi \\nu_{jt} S_{jt} - \\omega V_{jt} - d_j V_{jt}\\\\[11pt] I_{j,t+1} &= I_{jt} + \\Lambda_{j,t+1} + \\Psi_{j,t+1} - \\gamma I_{jt} - \\mu \\sigma I_{jt} - d_j I_{jt}\\\\[11pt] W_{j,t+1} &= W_{jt} + \\zeta I_{jt} - \\delta_{jt} W_{jt}\\\\[11pt] R_{j,t+1} &= R_{jt} + \\gamma I_{jt} - \\varepsilon R_{jt} - d_j R_{jt}\\\\[11pt] \\end{aligned} (\\#eq:system) \\end{equation}\\] descriptions parameters Equation @ref(eq:system), see Table (@ref(tab:params)). Transmission dynamics driven two force infection terms, \\(\\Lambda_{jt}\\) \\(\\Psi_{jt}\\). force infection due human--human (\\(\\Lambda_{jt}\\)) : \\[\\begin{equation} \\begin{aligned} \\Lambda_{j,t+1} &= \\frac{ \\beta_{jt}^{\\text{hum}} \\Big(\\big(S_{jt}(1-\\tau_{j})\\big)  \\big(I_{jt}(1-\\tau_{j}) + \\sum_{\\forall \\= j} (\\pi_{ij}\\tau_iI_{}) \\big)\\Big)^\\alpha}{N_{jt}}.\\\\[11pt] \\end{aligned} (\\#eq:foi-human) \\end{equation}\\] \\(\\beta_{jt}^{\\text{hum}}\\) rate human--human transmission. Movement within among metapopulations governed \\(\\tau_i\\), probability departing origin location \\(\\), \\(\\pi_{ij}\\) relative probability travel origin \\(\\) destination \\(j\\) (see section spatial dynamics). include environmental effects, force infection due environment--human transmission (\\(\\Psi_{jt}\\)) defined : \\[\\begin{equation} \\begin{aligned} \\Psi_{j,t+1} &= \\frac{\\beta_{jt}^{\\text{env}} \\big(S_{jt}(1-\\tau_{j})\\big) (1-\\theta_j) W_{jt}}{\\kappa+W_{jt}},\\\\[11pt] \\end{aligned} (\\#eq:foi-environment) \\end{equation}\\] \\(\\beta_{jt}^{\\text{env}}\\) rate environment--human transmission \\(\\theta_j\\) proportion population location \\(j\\) least basic access Water, Sanitation, Hygiene (WASH). environmental compartment model also scaled concentration (cells per mL) V. cholerae required 50% probability infection Fung 2014. See section environmental transmission water/environment compartment climatic drivers transmission. Note model processes stochastic. Transition rates converted probabilities commonly used formula \\(p(t) = 1-e^{-rt}\\) (see Ross 2007), integer quantities moved model compartments time step according binomial process like example recovery infected individuals (\\(\\gamma I_{jt}\\)): \\[\\begin{equation} \\frac{\\partial R}{\\partial t} \\sim \\text{Binom}(I_{jt}, 1-\\exp(-\\gamma)) (\\#eq:stoch) \\end{equation}\\]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"seasonality","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Seasonality","title":"","text":"Cholera transmission seasonal typically associated rainy season, transmission rate terms \\(\\beta_{jt}^{\\text{*}}\\) temporally forced. human--human transmission used truncated sine-cosine form Fourier series two harmonic features flexibility capture seasonal transmission dynamics driven extended rainy seasons /biannual trends: \\[\\begin{equation} \\beta_{jt}^{\\text{hum}} = \\beta_{j0}^{\\text{hum}} + a_1 \\cos\\left(\\frac{2\\pi t}{p}\\right) + b_1 \\sin\\left(\\frac{2\\pi t}{p}\\right) + a_2 \\cos\\left(\\frac{4\\pi t}{p}\\right) + b_2 \\sin\\left(\\frac{4\\pi t}{p}\\right) (\\#eq:beta1) \\end{equation}\\] , \\(\\beta_{j0}^{\\text{hum}}\\) mean human--human transmission rate location \\(j\\) time steps. Seasonal dynamics determined parameters \\(a_1\\), \\(b_1\\) \\(a_2\\), \\(b_2\\) gives amplitude first second waves respectively. periodic cycle \\(p\\) 52, function controls temporal variation \\(\\beta_{jt}^{\\text{hum}}\\) 52 weeks year. example temporal distribution human--human transmission rate across 52 weeks year given cosine wave function. wave function fitted country designed align rainy season indicated shaded region figure. estimated parameters Fourier series (\\(a_1\\), \\(b_1\\), \\(a_2\\), \\(b_2\\)) using Levenbergâ€“Marquardt algorithm minpack.lm R library. Given lack reported cholera case data many countries SSA association cholera transmission rainy season, leveraged seasonal precipitation data help fit Fourier wave function countries. first gathered weekly precipitation values 1994 2024 30 uniformly distributed points within country Open-Meteo Historical Weather Data API. fit Fourier series weekly precipitation data used parameters starting values fitting model sparse cholera case data. Example grid 30 uniformly distributed points within Mozambique (). scatterplot shows weekly summed precipitation values 30 grid points cholera cases plotted scale Z-Score shows variance around mean terms standard deviation. Fitted Fourier series fucntions shown blue (fit precipitation data) red (fit cholera case data) lines. countries reported case data, inferred seasonal dynamics using fitted wave function neighboring country available case data. selected neighbor chosen cluster countries (grouped hierarchically four clusters based precipitation seasonality using Wardâ€™s method; see Figure @ref(fig:seasonal-cluster)) highest correlation seasonal precipitation country lacking case data. rare event country reported case data found within seasonal cluster, expanded search 10 nearest neighbors continued expanding adding next nearest neighbor match found.  Map showing clustering African countries based seasonal precipitation patterns (1994-2024). Countries colored according cluster assignments, identified using hierarchical clustering. B) Fourier series fitted weekly precipitation country. line plot shows seasonal pattern countries within given cluster. Clusteres used infer seasonal transmission dynamics countries reported cholera cases. Using model fitting methods described , cluster-based approach inferring seasonal Fourier series pattern countries without reported cholera cases, modeled seasonal dynamics 41 countries MOSAIC framework. dynamics visualized Figure @ref(fig:seasonal-), corresponding Fourier model coefficients presented Table @ref(tab:seasonal-table). Seasonal transmission patterns countries modeled MOSAIC modeled truncated Fourier series Equation @ref(eq:beta1). Blues lines give Fourier series model fits precipitation (1994-2024) red lines give models fits reported cholera cases (2023-2024). countries reported case data available, Fourier model inferred nearest country similar seasonal precipitation patterns determined hierarchical clustering. Countries inferred case data neighboring locations annotated red. X-axis represents weeks year (1-52), Y-axis shows Z-score weekly precipitation cholera cases. Estimated coefficients truncated Fourier model Equation @ref(eq:beta1) fit countries reported cholera cases. Model fits shown Figure @ref(fig:seasonal-).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"environmental-transmission","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Environmental transmission","title":"","text":"Environmental transmission critical factor cholera spread consists several key components: rate infected individuals shed V. cholerae environment, pathogenâ€™s survival rate environmental conditions, overall suitability environment sustaining bacteria time.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"climate-driven-transmission","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Environmental transmission","what":"Climate-driven transmission","title":"","text":"capture impacts climate-drivers cholera transmission, included parameter \\(\\psi_{jt}\\), represents current state environmental suitability respect : ) survival time V. cholerae environment , ii) rate environment--human transmission contributes overall force infection. \\[\\begin{equation} \\beta_{jt}^{\\text{env}} = \\beta_{j0}^{\\text{env}} \\Bigg(1 + \\frac{\\psi_{jt}-\\bar\\psi_j}{\\bar\\psi_j} \\Bigg) \\quad \\text{} \\quad \\bar\\psi_j = \\frac{1}{T} \\sum_{t=1}^{T} \\psi_{jt} (\\#eq:beta2) \\end{equation}\\] formulation effectively scales base environmental transmission rate \\(\\beta_{jt}^{\\text{env}}\\) varies time according climatically driven model suitability. Note , unlike cosine wave function \\(\\beta_{jt}^{\\text{hum}}\\), temporal term can increase decrease time following multi-annual cycles. [Fig: Example temporal forcing environment--human transmission] Environmental suitability (\\(\\psi_{jt}\\)) also impacts survival rate V. cholerae environment (\\(\\delta_{jt}\\)) form: \\[\\begin{equation} \\delta_{jt} = \\delta_{\\text{min}} + \\psi_{jt} \\times (\\delta_{\\text{max}} - \\delta_{\\text{min}}) (\\#eq:delta) \\end{equation}\\] normalizes variance suitability parameter bounded within minimum (\\(\\delta_{\\text{min}}\\)) maximum (\\(\\delta_{\\text{max}}\\)) survival times V. cholerae. Relationship environmental suitability (\\(\\psi_{jt}\\)) rate V. cholerae decay environment (\\(\\delta_j\\)). green line shows mildest penalty V. cholerae survival, survival environment \\(1/\\delta_{\\text{min}}\\) = 3 days suitability = 0 \\(1/\\delta_{\\text{max}}\\) = 90 days suitability = 1.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"modeling-suitability","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Environmental transmission","what":"Modeling suitability","title":"","text":"environmental suitability (\\(\\psi_{jt}\\)) V. cholerae modeled time series location, using covariates include environmental factors, past present climate measures, severe weather events, large-scale regional climate drivers. factors influenced climate change, source data projects covariate future different climate change scenarios. Environmental suitability, \\(\\psi_{jt}\\), generally defined : \\[ \\psi_{jt} = f(\\text{temperature, precipitation, humidity, wind speed, soil moisture}) \\] function \\(f(\\cdot)\\) can modeled using various approaches, including Generalized Linear Models (GLMs), Generalized Additive Models (GAMs), Boosted Regression Trees (BRTs), machine learning methods Recurrent Neural Networks (RNNs) Long Short-Term Memory Networks (LSTMs). simpler approach might involve Bayesian variable selection using BAS R package. model fitted available data, projections suitability location. Implementing rolling-window validation across time series help assess model performance. model can directly fitted reported case counts converted binary threshold, depending analysis needs. primary goal explain portion variance reported case counts proxy environmental suitability. Covariates include historical climate variables predicted climate change scenarios. example, MRI-AGCM3-2-S EC_Earth3P_HR models provide weather variables ~20km resolution, including temperature, relative humidity, wind, precipitation, solar radiation, cloud cover, soil moisture. covariates time-lagged short-term cumulative versions. initial version model likely use data OpenMeteo Historical Weather Data API. Additional data sources integrated subsequent versions suitability model. instance, flood cyclone data incorporated later, though initial version model. also seek data ENSO (El NiÃ±o, Neutral, La NiÃ±a) Indian Ocean sea surface temperature index. Open-source projections variables near future (months year two) likely available.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"shedding","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Environmental transmission","what":"Shedding","title":"","text":"rate infected individuals shed V. cholerae environment (\\(\\zeta\\)) critical factor influencing cholera transmission. Shedding rates can vary widely depending severity infection, immune response individual, environmental factors. According Fung 2014, shedding rate estimated range 0.01 10 cells per mL per person per day. studies support findings, indicating shedding rates can indeed fluctuate significantly. instance, Nelson et al (2009) note , depending phase infection, individuals can shed \\(10^3\\) (asymptomatic cases) \\(10^12\\) (severe cases) V. cholerae cells per gram stool. Future version model may attempt capture nuances shedding dynamics, make simplifying assumption shedding constant across infected individuals wide range variability prior distributional assumptions: \\[ \\zeta \\sim \\text{Uniform}(0.01, 10). \\]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"water-sanitation-and-hygiene-wash","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Environmental transmission","what":"WAter, Sanitation, and Hygiene (WASH)","title":"","text":"Since V. cholerae transmitted fecal contamination water consumables, level exposure contaminated substrates significantly impacts transmission rates. Interventions involving Water, Sanitation, Hygiene (WASH) long first line defense reducing cholera transmission, context, WASH variables can serve proxy rate contact environmental risk factors. MOSAIC model, WASH variables incorporated mechanistically, allowing intervention scenarios include changes WASH. However, necessary distill available WASH variables single parameter represents WASH-determined contact rate contaminated substrates location \\(j\\), define \\(\\theta_j\\). parameterize \\(\\theta_j\\), calculated weighted mean 8 WASH variables Sikder et al 2023 originally modeled Local Burden Disease WaSH Collaborators 2020. 8 WASH variables (listed Table @ref(tab:wash-weights)) provide population-weighted measures proportion population either: ) access WASH resources (e.g., piped water, septic sewer sanitation), ii) exposed risk factors (e.g.Â surface water, open defecation). risk associated WASH variables, used complement (\\(1-\\text{value}\\)) give proportion population exposed risk factor. used optim function R L-BFGS-B algorithm estimate set optimal weights (Table @ref(tab:wash-weights)) maximize correlation weighted mean 8 WASH variables reported cholera incidence per 1000 population across 40 SSA countries 2000 2016. optimal weighted mean correlation coefficient \\(r =\\) -0.33 (-0.51 -0.09 95% CI) higher basic mean correlations provided individual WASH variables (see Figure @ref(fig:wash-incidence)). weighted mean provides single variable 0 1 represents overall proportion population access WASH /exposed environmental risk factors. Thus, WASH-mediated contact rate sources environmental transmission represented (\\(1-\\theta_j\\)) environment--human force infection (\\(\\Psi_{jt}\\)). Values \\(\\theta_j\\) countries shown Figure @ref(fig:wash-country). Table optimized weights used calculate single mean WASH index countries. Relationship WASH variables cholera incidences. optimized weighted mean WASH variables AFRO countries","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"immunity-from-vaccination","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Immune dynamics","what":"Immunity from vaccination","title":"","text":"impacts Oral Cholera Vaccine (OCV) campaigns incorporated model Vaccinated compartment (V). rate individuals effectively vaccinated defined \\(\\phi\\nu_tS_{jt}\\), \\(S_{jt}\\) available number susceptible individuals location \\(j\\) time \\(t\\), \\(\\nu_t\\) number OCV doses administered time \\(t\\) \\(\\phi\\) estimated vaccine effectiveness. Note just one vaccinated compartment time, though future model versions may include \\(V_1\\) \\(V_2\\) compartments explore two dose vaccination strategies emulate complex waning patterns. vaccination rate \\(\\nu_t\\) estimated quantity. Rather, directly defined reported number OCV doses administered OCV dashboard : https://www..int/groups/icg/cholera. \\[ \\nu_t := \\text{Reported rate OCV administration}          \\] evidence waning immunity comes 4 cohort studies (Table @ref(tab:effectiveness-papers)) Bangladesh (Qadri et al 2016 2018), South Sudan (Azman et al 2016), Democratic Republic Congo (Malembaka et al 2024). Summary Effectiveness Data estimated vaccine effectiveness waning immunity fitting exponential decay model reported effectiveness one dose OCV studies using following formulation: \\[\\begin{equation} \\text{Proportion immune}\\ t \\ \\text{days vaccination} = \\phi \\times (1 - \\omega) ^ {t-t_{\\text{vaccination}}} (\\#eq:omega) \\end{equation}\\] \\(\\phi\\) effectiveness one dose OCV, based specification, also initial proportion immune directly vaccination. decay rate parameter \\(\\omega\\) rate initial vaccine derived immunity decays per day post vaccination, \\(t\\) \\(t_{\\text{vaccination}}\\) time (days) function evaluated time vaccination respectively. fitted model data cohort studies shown Table (@ref(tab:effectiveness-papers)) found \\(\\omega = 0.00057\\) (\\(0-0.0019\\) 95% CI), gives mean estimate 4.8 years vaccine derived immune duration unreasonably large confidence intervals (1.4 years infinite immunity). However, point estimate 4.8 years consistent anecdotes one dose OCV effective least 3 years. wide confidence intervals likely due wide range reported estimates proportion immune short duration 7â€“90 days range (Azman et al 2016 Qadri et al 2016). Therefore, chose use point estimate \\(\\omega\\) incorporate uncertainty based initial proportion immune (.e.Â vaccine effectiveness \\(\\phi\\)) shortly vaccination. Using decay model Equation @ref(eq:omega) estimated \\(\\phi\\) \\(0.64\\) (\\(0.32-0.96\\) 95% CI). fit Beta distribution quantiles \\(\\phi\\) minimizing sums squares using Nelder-Mead optimization algorithm render following distribution (shown Figure @ref(fig:effectiveness)B): \\[\\begin{equation} \\phi \\sim \\text{Beta}(4.57, 2.41). (\\#eq:effectiveness) \\end{equation}\\] vaccine effectiveness","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"immunity-from-natural-infection","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Immune dynamics","what":"Immunity from natural infection","title":"","text":"duration immunity natural infection likely longer lasting vaccination OCV (especially given current one dose strategy). SIR-type models, rate individuals leave Recovered compartment governed immune decay parameter \\(\\varepsilon\\). estimated durability immunity natural infection based two cohort studies fit following exponential decay model estimate rate immunity decay time: \\[ \\text{Proportion immune}\\ t \\ \\text{days infection} = 0.99 \\times (1 - \\varepsilon) ^ {t-t_{\\text{infection}}} \\] make necessary simplifying assumption within 0â€“90 days natural infection V. cholerae, individuals 95â€“99% immune. fit model reported data Ali et al (2011) Clemens et al (1991) (see Table @ref(tab:immunity-sources)). Sources duration immunity fro natural infection. estimated mean immune decay \\(\\bar\\varepsilon = 3.9 \\times 10^{-4}\\) (\\(1.7 \\times 10^{-4}-1.03 \\times 10^{-3}\\) 95% CI) equivalent immune duration \\(7.21\\) years (\\(2.66-16.1\\) years 95% CI) shown Figure @ref(fig:immune-decay). slightly longer previous modeling work estimating duration immunity ~5 years (King et al 2008). Uncertainty around \\(\\varepsilon\\) model represented Log-Normal distribution shown Figure @ref(fig:immune-decay)B: \\[ \\varepsilon \\sim \\text{Lognormal}(\\bar\\varepsilon+\\frac{\\sigma^2}{2}, 0.25) \\] duration immunity natural infection V. cholerae.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"spatial-dynamics","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Spatial dynamics","title":"","text":"parameters model diagram Figure @ref(fig:diagram) \\(jt\\) subscript denote spatial structure model. country modeled independent metapopulation connected others via spatial force infection \\(\\Lambda_{jt}\\) moves contagion among metapopulations according connectivity provided parameters \\(\\tau_i\\) (probability departure) \\(\\pi_{ij}\\) (probability diffusion destination \\(j\\)). parameters estimated using departure-diffusion model fitted average weekly air traffic volume 41 countries included MOSAIC framework (Figure @ref(fig:mobility-data)). average number air passengers per week 2017 among countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"human-mobility-model","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"Human mobility model","title":"","text":"departure-diffusion model estimates diagonal -diagonal elements mobility matrix (\\(M\\)) separately combines using conditional probability rules. model first estimates probability travel outside origin location \\(\\)â€”departure processâ€”distribution travel origin location \\(\\) normalizing connectivity values across \\(j\\) destinationsâ€”diffusion process. values \\(\\pi_{ij}\\) sum unity along row, diagonal included, indicating relative quantity. say, \\(\\pi_{ij}\\) gives probability going \\(\\) \\(j\\) given travel outside origin \\(\\) occurs. Therefore, can use basic conditional probability rules define travel routes diagonal elements (trips made within origin \\(\\)) \\[ \\Pr( \\neg \\text{depart}_i ) =  1 - \\tau_i \\] -diagonal elements (trips made outside origin \\(\\)) \\[ \\Pr( \\text{depart}_i, \\text{diffuse}_{\\rightarrow j}) = \\Pr( \\text{diffuse}_{\\rightarrow j} \\mid \\text{depart}_i ) \\Pr(\\text{depart}_i ) = \\pi_{ij} \\tau_i. \\] expected mean number trips route \\(\\rightarrow j\\) : \\[\\begin{equation} M_{ij} = \\begin{cases} \\theta N_i (1-\\tau_i) \\ & \\text{} \\ = j \\\\ \\theta N_i \\tau_i \\pi_{ij} \\ & \\text{} \\ \\ne j. \\end{cases} (\\#eq:M) \\end{equation}\\] , \\(\\theta\\) proportionality constant representing overall number trips per person origin population size \\(N_i\\), \\(\\tau_i\\) probability leaving origin \\(\\), \\(\\pi_{ij}\\) probability travel destination \\(j\\) given travel outside origin \\(\\) occurs.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"estimating-the-departure-process","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"Estimating the departure process","title":"","text":"probability travel outside origin estimated location \\(\\) give location-specific departure probability \\(\\tau_i\\). \\[ \\tau_i \\sim \\text{Beta}(1+s, 1+r) \\] Binomial probabilities origin \\(\\tau_i\\) drawn Beta distributed prior shape (\\(s\\)) rate (\\(r\\)) parameters. \\[ \\begin{aligned} s &\\sim \\text{Gamma}(0.01, 0.01)\\\\ r &\\sim \\text{Gamma}(0.01, 0.01) \\end{aligned} \\]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"estimating-the-diffusion-process","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"Estimating the diffusion process","title":"","text":"use normalized formulation power law gravity model defined diffusion process, probability travelling destination \\(j\\) given travel outside origin \\(\\) (\\(\\pi_{ij}\\)) defined : \\[\\begin{equation} \\pi_{ij} = \\frac{ N_j^\\omega d_{ij}^{-\\gamma} }{ \\sum\\limits_{\\forall j \\ne } N_j^\\omega d_{ij}^{-\\gamma} } (\\#eq:gravity) \\end{equation}\\] , \\(\\omega\\) scales attractive force \\(j\\) destination based population size \\(N_j\\). kernel function \\(d_{ij}^{-\\gamma}\\) serves penalty proportion travel \\(\\) \\(j\\) based distance. Prior distributions diffusion model parameters defined : \\[ \\begin{aligned} \\omega &\\sim \\text{Gamma}(1, 1)\\\\ \\gamma &\\sim \\text{Gamma}(1, 1) \\end{aligned} \\] models \\(\\tau_i\\) \\(\\pi_{ij}\\) fitted air traffic data OAG using mobility R package (Giles 2020). Estimates mobility model parameters shown Figures @ref(fig:mobility-departure) @ref(fig:mobility-diffusion). estimated weekly probability travel outside origin location \\(\\tau_i\\) 95% confidence intervals shown panel population mean indicated red dashed line. Panel B shows estimated total number travelers leaving origin \\(\\) week. diffusion process \\(\\pi_{ij}\\) gives estimated probability travel origin \\(\\) destination \\(j\\) given travel outside origin \\(\\) occurred.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"the-probability-of-spatial-transmission","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"The probability of spatial transmission","title":"","text":"likelihood introductions cholera disparate locations major concern cholera outbreaks. However, can difficult characterize given endemic dynamics patterns human movement. include measures spatial heterogeneity first simple importation probability based connectivity possibility incoming infections. basic probability transmission origin \\(\\) particular destination \\(j\\) time \\(t\\) defined : \\[\\begin{equation} p(,j,t) = 1 - e^{-\\beta_{jt}^{\\text{hum}} (((1-\\tau_j)S_{jt})/N_{jt}) \\pi_{ij}\\tau_iI_{}} (\\#eq:prob) \\end{equation}\\]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"the-spatial-hazard","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"The spatial hazard","title":"","text":"Although concerned endemic dynamics , likely periods time early rainy season cholera cases rate transmission low enough spatial spread resemble epidemic dynamics time. times periods, can estimate arrival time contagion location cases yet reported. estimating spatial hazard transmission: \\[\\begin{equation} h(j,t) = \\frac{ \\beta_{jt}^{\\text{hum}} \\Big(1 - \\exp\\big(-((1-\\tau_j)S_{jt}/N_{jt}) \\sum_{\\forall \\= j} \\pi_{ij}\\tau_i (I_{}/N_{}) \\big) \\Big) }{ 1/\\big(1 + \\beta_{jt}^{\\text{hum}} (1-\\tau_j)S_{jt}\\big) }. (\\#eq:hazard) \\end{equation}\\] normalizing give waiting time distribution locations: \\[\\begin{equation} w(j,t) = h(j,T) \\prod_{t=1}^{T-1}1-h(j,t). (\\#eq:waiting) \\end{equation}\\]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"coupling-among-locations","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > Spatial dynamics","what":"Coupling among locations","title":"","text":"Another measure spatial heterogeneity quantify coupling disease dynamics among metapopulations using correlation coefficient. , use definition spatial correlation locations \\(\\) \\(j\\) \\(C_{ij}\\) described Keeling Rohani (2002), gives measure similar infection dynamics locations. \\[\\begin{equation} C_{ij} = \\frac{ ( y_{} - \\bar{y}_i )( y_{jt} - \\bar{y}_j ) }{ \\sqrt{\\text{var}(y_i) \\text{var}(y_j)} } (\\#eq:correlation) \\end{equation}\\] \\(y_{} = I_{}/N_i\\) \\(y_{jt} = I_{jt}/N_j\\). Mean prevalence location \\(\\bar{y_i} = \\frac{1}{T} \\sum_{t=1}^{T} y_{}\\) \\(\\bar{y_j} = \\frac{1}{T} \\sum_{t=1}^{T} y_{jt}\\).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"rate-of-symptomatic-infection","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > The observation process","what":"Rate of symptomatic infection","title":"","text":"presentation infection V. cholerae can extremely variable. severity infection depends many factors amount infectious dose, age host, level immunity host either vaccination previous infection, naivety particular strain V. cholerae. Additional circumstantial factors nutritional status overall pathogen burden may also impact infection severity. population level, observed proportion infections symptomatic also dependent endemicity cholera region. Highly endemic areas (e.g.Â parts Bangladesh; Hegde et al 2024) may low proportion symptomatic infections due many previous exposures. Inversely, populations largely naive V. cholerae exhibit relatively higher proportion symptomatic infections (e.g.Â Haiti; Finger et al 2024). Accounting nuances first version model possible, can past studies contain information can help set sensible bounds definition proportion infections symptomatic (\\(\\sigma\\)). compiled short list studies done sero-surveys cohort studies assess likelihood symptomatic infections different locations displayed results Table (@ref(tab:symptomatic-table)). provide reasonably informed prior proportion infections symptomatic, calculated combine mean confidence intervals studies Table @ref(tab:symptomatic-table) fit Beta distribution corresponds quantiles using least-squares Nelder-Mead algorithm. resulting prior distribution symptomatic proportion \\(\\sigma\\) : \\[\\begin{equation} \\sigma \\sim \\text{Beta}(4.30, 13.51) \\end{equation}\\] Summary Studies Cholera Immunity prior distribution \\(\\sigma\\) plotted Figure @ref(fig:symptomatic-fig)reported values proportion symptomatic previous studies shown @ref(fig:symptomatic-fig)B. Proportion infections symptomatic.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"suspected-cases","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > The observation process","what":"Suspected cases","title":"","text":"clinical presentation diarrheal diseases often similar across various pathogens, can lead systematic biases reported number cholera cases. anticipated number suspected cholera cases related actual number infections factor \\(1/\\rho\\), \\(\\rho\\) represents proportion suspected cases true infections. adjust bias, use estimates meta-analysis Weins et al.Â (2023), suggests suspected cholera cases outnumber true infections approximately 2 1, mean across studies indicating 52% (24-80% 95% CI) suspected cases actual cholera infections. higher estimate reported ourbreak settings (78%, 40-99% 95% CI). account variability estimate, fit Beta distribution reported quantiles using least squares approach Nelder-Mead algorithm, resulting prior distribution shown Figure @ref(fig:rho)B: \\[\\begin{equation} \\rho \\sim \\text{Beta}(4.79, 1.53). \\end{equation}\\] Proportion suspected cholera cases true infections. Panel shows â€˜lowâ€™ assumption estimates across settings: \\(\\rho \\sim \\text{Beta}(5.43, 5.01)\\). Panel B shows â€˜highâ€™ assumption estimate reflects high-quality studies outbreaks: \\(\\rho \\sim \\text{Beta}(4.79, 1.53)\\)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"case-fatality-rate","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > The observation process","what":"Case fatality rate","title":"","text":"Case Fatality Rate (CFR) among symptomatic infections calculated using reported cases deaths data January 2021 August 2024. data collated various issues Weekly Epidemiological Record Global Cholera Acute Watery Diarrhea (AWD) Dashboard (see Data section) provide annual aggregations reported cholera cases deaths. used Binomial exact test (binom.test R) calculate mean probability number deaths (successes) given number reported cases (sample size), Clopper-Pearson method calculating binomial confidence intervals. fit Beta distributions mean CFR 95% confidence intervals calculated country using least squares Nelder-Mead algorithm give distributional uncertainty around CFR estimate country (\\(\\mu_j\\)). \\[ \\mu_j \\sim \\text{Beta}(s_{1,j}, s_{2,j}) \\] \\(s_{1,}\\) \\(s_{2,j}\\) two positive shape parameters Beta distribution estimated destination \\(j\\). definition \\(\\mu_j\\) CFR reported cases subset total number infections. Therefore, infer total number deaths attributable cholera infection, assume CFR observed cases proportionally equivalent CFR cases calculate total deaths \\(D\\) follows: \\[\\begin{equation} \\begin{aligned} \\text{CFR}_{\\text{observed}} &= \\text{CFR}_{\\text{total}}\\\\ \\\\[3pt] \\frac{[\\text{observed deaths}]}{[\\text{observed cases}]} &= \\frac{[\\text{total deaths}]}{[\\text{infections}]}\\\\ \\\\[3pt] \\text{total deaths} &= \\frac{[\\text{observed deaths}] \\times [\\text{true infections}]}{[\\text{observed cases}]}\\\\ \\\\[3pt] D_{jt} &= \\frac{ [\\sigma\\rho\\mu_j I_{jt}] \\times [I_{jt}] }{ [\\sigma\\rho I_{jt}] } \\end{aligned} \\end{equation}\\] CFR Values Beta Shape Parameters AFRO Countries Case Fatality Rate (CFR) Total Cases Country AFRO Region 2014 2024. Panel : Case Fatality Ratio (CFR) 95% confidence intervals. Panel B: total number cholera cases. AFRO Region highlighted black, countries less 3/0.2 = 150 total reported cases assigned mean CFR AFRO. Beta distributions overall Case Fatality Rate (CFR) 2014 2024. Examples show overall CFR AFRO region (2%) black, Congo highest CFR (7%) red, South Sudan lowest CFR (0.1%) blue.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"demographics","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Demographics","title":"","text":"model includes basic demographic change using reported birth death rates \\(j\\) countries, \\(b_j\\) \\(d_j\\) respectively. rates static defined United Nations Department Economic Social Affairs Population Division World Population Prospects 2024. Values \\(b_j\\) \\(d_j\\) derived crude rates converted birth rate per day death rate per day (shown Table @ref(tab:demographics)). Demographic AFRO countries 2023. Data include: total population January 1, 2023, daily birth rate, daily death rate. Values calculate crude birth death rates UN World Population Prospects 2024.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"the-reproductive-number","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"The reproductive number","title":"","text":"reproductive number common metric epidemic growth represents average number secondary cases generated primary case specific time epidemic. track \\(R\\) changes time estimating instantaneous reproductive number \\(R_t\\) described Cori et al 2013. track \\(R_t\\) across metapopulations model give \\(R_{jt}\\) using following formula: \\[\\begin{equation} R_{jt} = \\frac{I_{jt}}{\\sum_{\\Delta t=1}^{t} g(\\Delta t) I_{j,t-\\Delta t}} (\\#eq:R) \\end{equation}\\] \\(I_{jt}\\) number new infections destination \\(j\\) time \\(t\\), \\(g(\\Delta t)\\) represents probability value generation time distribution cholera. accomplished using weighed sum denominator highly influenced generation time distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"the-generation-time-distribution","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description > The reproductive number","what":"The generation time distribution","title":"","text":"generation time distribution gives time individual infected infect subsequent individuals. parameterized quantity using Gamma distribution mean 5 days: \\[\\begin{equation} g(\\cdot) \\sim \\text{Gamma}(0.5, 0.1). (\\#eq:generation-time) \\end{equation}\\] , shape=0.5, rate=0.1, mean given shape/rate. Previous studies use mean 5 days (Kahn et al 2020 Azman 2016), however mean 3, 5, 7, 10 days may admissible (Azman 2012). generation time Generation Time Weeks","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"initial-conditions","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Initial conditions","title":"","text":"Since first version model begin Jan 2023 (take advantage available weekly data), initial conditions surrounding population immunity must estimated. set initial conditions, use historical data find total number reported cases location previous X years, multiply \\(1/\\sigma\\) estimate total infections symptomatic cases reported, adjust based waning immunity. also sum total number vaccinations past X years adjust vaccine efficacy \\(\\phi\\) waning immunity vaccination \\(\\omega\\). total number infected? reported casesâ€¦ back symptomatic asymptomatic Total number immune due natural infections past X years total number immune due past vaccinations X years Use deconvolution based immune decay estimated vaccine section","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"model-calibration","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Model calibration","title":"","text":"model calibrated using Latin hypercube sampling hyper-parameters model likelihoods fit incidence deaths. important challenge flexibly fitting data often missing available aggregated forms. [Fig: different spatial temporal scales available data]","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"caveats","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Caveats","title":"","text":"Simplest model start. Easier initial spatial structure minimum additional compartments calibrate available data (vaccination, cases, deaths). Country level aggregations. First generation data 2023/24â€¦ Assumes vaccinating susceptible individuals. climate, summarizing whole country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/04-model-description.html","id":"table-of-parameters","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Model description","what":"Table of parameters","title":"","text":"Descriptions model parameters along prior distributions sources applicable.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/05-scenarios.html","id":"scenarios","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Scenarios","title":"","text":"key aim MOSAIC model provide near-term forecasts cholera transmission Sub-Saharan Africa (SSA) using current data available. However, MOSAIC just forecasting tool; dynamic model designed explore various scenarios influence critical factors vaccination, environmental conditions, Water, Sanitation, Hygiene (WASH) interventions.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/05-scenarios.html","id":"spatial-and-temporal-strategies","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Scenarios > Vaccination","what":"Spatial and Temporal Strategies","title":"","text":"Understanding spatial temporal distribution cholera vaccination efforts crucial effective outbreak control. Key resources include: Stockpile Status: availability oral cholera vaccine emergency stockpiles can tracked UNICEFâ€™s Emergency Stockpile Availability. OCV Dashboard: dashboard (link) provides insights deployment oral cholera vaccines (OCV) across different regions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/05-scenarios.html","id":"reactive-vaccination","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Scenarios > Vaccination","what":"Reactive Vaccination","title":"","text":"timing logistics reactive vaccination campaigns critical controlling ongoing outbreaks. Relevant resources include: Recommended Timing: Guidelines recommendations timing reactive OCV campaigns available (link). Requests Delay Time Distributions: Information vaccine request processes distribution delays vaccine deployment can accessed GTFCC OCV Dashboard (link).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/05-scenarios.html","id":"severe-weather-events","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Scenarios > Impacts of Climate Change","what":"Severe Weather Events","title":"","text":"Projections climate shocks, including frequency severity cyclones floods, essential modeling future impacts climate change cholera transmission. Key references include: Chen Chavas 2020: study cyclone season dynamics climate change scenarios (link). Sparks Toumi 2024: Research projected flood frequencies due climate change (link). Switzer et al.Â 2023: analysis climate shock impacts cholera outbreaks (link).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/05-scenarios.html","id":"long-term-trends","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"Scenarios > Impacts of Climate Change","what":"Long-Term Trends","title":"","text":"Long-term trends weather variables various climate change scenarios can explored using following resource: Weather Variables Climate Change: OpenMeteo Climate API provides access projected weather data different climate change scenarios (link).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/06-code.html","id":"usage","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Usage","title":"","text":"open-source code used run MOSAIC currently development presented future.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/07-news.html","id":"past-versions-of-mosaic","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"News","what":"Past versions of MOSAIC","title":"","text":"Current future planned model versions brief descriptions.","code":""},{"path":[]},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/index.html","id":"welcome","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Welcome","title":"MOSAIC: a spatial model of endemic cholera","text":"Welcome Metapopulation Outbreak Simulation Agent-based Implementation Cholera (MOSAIC). MOSAIC framework simulates transmission dynamics cholera Sub-Saharan Africa (SSA) provides tools understand impact interventions, vaccination, well large-scale drivers like climate change. MOSAIC built using Light-agent Spatial Model ERadication (LASER) platform, site serves documentation modelâ€™s methods associated analyses. Please note MOSAIC currently development, content may change regularly. sharing increase visibility welcome feedback aspect model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/index.html","id":"contact","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Contact","title":"MOSAIC: a spatial model of endemic cholera","text":"MOSAIC developed team researchers Institute Disease Modeling (IDM) dedicated developing modeling methods software tools help decision-makers understand respond infectious disease outbreaks. website currently maintained John Giles (@gilesjohnr). general questions, contact John Giles (john.giles@gatesfoundation.org), Jillian Gauld (jillian.gauld@gatesfoundation.org), /Rajiv Sodhi (rajiv.sodhi@gatesfoundation.org).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/MOSAIC/MOSAIC-docs/index.html","id":"funding","dir":"Articles > MOSAIC > MOSAIC-docs","previous_headings":"","what":"Funding","title":"MOSAIC: a spatial model of endemic cholera","text":"work developed Institute Disease Modeling support funded research grants made Bill & Melinda Gates Foundation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Project-setup.html","id":"instructions-to-setup-a-mosaic-project-programmatically","dir":"Articles","previous_headings":"","what":"Instructions to setup a MOSAIC project programmatically","title":"Project setup","text":"following instructions guide setting MOSAIC project directory programmatically cloning necessary repositories using Bash script.","code":"#!/bin/bash  # Set the MOSAIC parent directory MOSAIC_DIR=\"MOSAIC\"  # Create the MOSAIC directory if it doesn't exist if [ ! -d \"$MOSAIC_DIR\" ]; then     mkdir \"$MOSAIC_DIR\"     echo \"Created directory: $MOSAIC_DIR\" fi  # Change to the MOSAIC directory cd \"$MOSAIC_DIR\"  # Function to clone or update a repository clone_or_update_repo() {     REPO_NAME=$1     REPO_URL=$2      if [ ! -d \"$REPO_NAME\" ]; then         git clone \"$REPO_URL\"         echo \"Cloned $REPO_NAME repository.\"     else         echo \"$REPO_NAME repository already exists. Pulling latest changes.\"         cd \"$REPO_NAME\"         git pull         cd ..     fi }  # Clone or update the MOSAIC-data repository clone_or_update_repo \"MOSAIC-data\" \"git@github.com:InstituteforDiseaseModeling/MOSAIC-data.git\"  # Clone or update the MOSAIC-pkg repository clone_or_update_repo \"MOSAIC-pkg\" \"git@github.com:InstituteforDiseaseModeling/MOSAIC-pkg.git\"  # Clone or update the MOSAIC-docs repository clone_or_update_repo \"MOSAIC-docs\" \"git@github.com:InstituteforDiseaseModeling/MOSAIC-docs.git\"  # Clone or update the ees-cholera-mapping repository clone_or_update_repo \"ees-cholera-mapping\" \"git@github.com:InstituteforDiseaseModeling/ees-cholera-mapping.git\"  echo \"MOSAIC project setup complete.\" Created directory: MOSAIC Cloning into 'MOSAIC-data'... remote: Enumerating objects: 282, done. remote: Counting objects: 100% (282/282), done. remote: Compressing objects: 100% (218/218), done. remote: Total 282 (delta 61), reused 280 (delta 59), pack-reused 0 (from 0) Receiving objects: 100% (282/282), 30.82 MiB | 21.81 MiB/s, done. Resolving deltas: 100% (61/61), done. Cloned MOSAIC-data repository. Cloning into 'MOSAIC-pkg'... remote: Enumerating objects: 695, done. remote: Counting objects: 100% (695/695), done. remote: Compressing objects: 100% (388/388), done. remote: Total 695 (delta 422), reused 569 (delta 296), pack-reused 0 (from 0) Receiving objects: 100% (695/695), 4.24 MiB | 6.23 MiB/s, done. Resolving deltas: 100% (422/422), done. Cloned MOSAIC-pkg repository. Cloning into 'MOSAIC-docs'... remote: Enumerating objects: 330, done. remote: Total 330 (delta 0), reused 0 (delta 0), pack-reused 330 (from 1) Receiving objects: 100% (330/330), 53.60 MiB | 19.46 MiB/s, done. Resolving deltas: 100% (102/102), done. Cloned MOSAIC-docs repository. Cloning into 'ees-cholera-mapping'... remote: Enumerating objects: 281, done. remote: Counting objects: 100% (24/24), done. remote: Compressing objects: 100% (19/19), done. remote: Total 281 (delta 6), reused 9 (delta 4), pack-reused 257 (from 1) Receiving objects: 100% (281/281), 169.76 KiB | 1.40 MiB/s, done. Resolving deltas: 100% (122/122), done. Cloned ees-cholera-mapping repository. MOSAIC project setup complete."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Running LASER","text":"guide shows run single LASER simulations using run_LASER() function deterministic parameters. LASER (Light-agent Spatial model ERadication) core simulation engine simulates cholera transmission dynamics. running multiple simulations parameter stochasticity uncertainty quantification, see Running MOSAIC vignette. begin: Complete Installation vignette set MOSAIC dependencies.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"quick-start","dir":"Articles","previous_headings":"","what":"Quick Start","title":"Running LASER","text":"MOSAIC includes pre-configured parameter sets different transmission scenarios. Letâ€™s run visualize two key scenarios: epidemic endemic transmission.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"epidemic-scenario","dir":"Articles","previous_headings":"Quick Start","what":"Epidemic Scenario","title":"Running LASER","text":"epidemic configuration simulates outbreak dynamics explosive growth patterns typical cholera epidemics.","code":"library(MOSAIC)  # Run epidemic scenario config <- MOSAIC::config_simulation_epidemic  model_epidemic <- run_LASER(config = config, seed = 123, quiet = FALSE) #> Loading LASER module...  # Extract time series results (convert Python objects to R matrices) cases_epidemic <- as.matrix(model_epidemic$results$expected_cases) deaths_epidemic <- as.matrix(model_epidemic$results$disease_deaths)  # Get metadata locations <- config_simulation_epidemic$location_name n_locations <- length(locations) n_timesteps <- ncol(cases_epidemic)  # Calculate total burden total_cases_epidemic <- sum(cases_epidemic, na.rm = TRUE) total_deaths_epidemic <- sum(deaths_epidemic, na.rm = TRUE)  cat(sprintf(\"Epidemic Scenario Results:\\n\")) #> Epidemic Scenario Results: cat(sprintf(\"  Total cases: %s\\n\", format(total_cases_epidemic, big.mark = \",\"))) #>   Total cases: 10,479 cat(sprintf(\"  Total deaths: %s\\n\", format(total_deaths_epidemic, big.mark = \",\"))) #>   Total deaths: 258 cat(sprintf(\"  Locations: %d\\n\", n_locations)) #>   Locations: 3 cat(sprintf(\"  Time steps: %d\\n\", n_timesteps)) #>   Time steps: 366  # Plot epidemic time series by location png(\"figures/running_mosaic_epidemic.png\", width = 800, height = 600, res = 120)  colors <- c(\"#009ADE\", \"#FF1F5B\", \"#00CD6C\")  # Blue, Pink, Green par(mfrow = c(2, 1), mar = c(3, 4, 3, 1), oma = c(2, 0, 0, 0))  matplot(t(cases_epidemic), type = \"l\", lty = 1, lwd = 2, col = colors,         xlab = \"\", ylab = \"Expected Cases\",         main = \"Epidemic Transmission Simulation\")  matplot(t(deaths_epidemic), type = \"l\", lty = 1, lwd = 2, col = colors,         xlab = \"Time step\", ylab = \"Expected Deaths\", main = \"\")  par(fig = c(0, 1, 0, 1), oma = c(0, 0, 0, 0), mar = c(0, 0, 0, 0), new = TRUE) plot(0, 0, type = \"n\", bty = \"n\", xaxt = \"n\", yaxt = \"n\") legend(\"bottom\", legend = locations, col = colors, lty = 1, lwd = 2,        horiz = TRUE, bty = \"n\", xpd = TRUE)  dev.off() #> agg_png  #>       2 cat(\"Saved: figures/running_mosaic_epidemic.png\\n\") #> Saved: figures/running_mosaic_epidemic.png"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"endemic-scenario","dir":"Articles","previous_headings":"Quick Start","what":"Endemic Scenario","title":"Running LASER","text":"endemic configuration simulates stable, persistent transmission patterns seasonal fluctuations.","code":"# Run endemic scenario config <- MOSAIC::config_simulation_endemic  model_endemic <- run_LASER(config = config, seed = 123, quiet = FALSE) #> Loading LASER module...  # Extract time series results (convert Python objects to R matrices) cases_endemic <- as.matrix(model_endemic$results$expected_cases) deaths_endemic <- as.matrix(model_endemic$results$disease_deaths)  # Calculate total burden total_cases_endemic <- sum(cases_endemic, na.rm = TRUE) total_deaths_endemic <- sum(deaths_endemic, na.rm = TRUE)  cat(sprintf(\"Endemic Scenario Results:\\n\")) #> Endemic Scenario Results: cat(sprintf(\"  Total cases: %s\\n\", format(total_cases_endemic, big.mark = \",\"))) #>   Total cases: 22,273 cat(sprintf(\"  Total deaths: %s\\n\", format(total_deaths_endemic, big.mark = \",\"))) #>   Total deaths: 581  # Plot endemic time series by location png(\"figures/running_mosaic_endemic.png\", width = 800, height = 600, res = 120)  colors <- c(\"#00CD6C\", \"#AF58BA\", \"#009ADE\")  # Green, Purple, Blue par(mfrow = c(2, 1), mar = c(3, 4, 3, 1), oma = c(2, 0, 0, 0))  matplot(t(cases_endemic), type = \"l\", lty = 1, lwd = 2, col = colors,         xlab = \"\", ylab = \"Expected Cases\",         main = \"Endemic Transmission Simulation\")  matplot(t(deaths_endemic), type = \"l\", lty = 1, lwd = 2, col = colors,         xlab = \"Time step\", ylab = \"Expected Deaths\", main = \"\")  par(fig = c(0, 1, 0, 1), oma = c(0, 0, 0, 0), mar = c(0, 0, 0, 0), new = TRUE) plot(0, 0, type = \"n\", bty = \"n\", xaxt = \"n\", yaxt = \"n\") legend(\"bottom\", legend = locations, col = colors, lty = 1, lwd = 2,        horiz = TRUE, bty = \"n\", xpd = TRUE)  dev.off() #> agg_png  #>       2 cat(\"Saved: figures/running_mosaic_endemic.png\\n\") #> Saved: figures/running_mosaic_endemic.png"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"running-laser-for-multiple-locations","dir":"Articles","previous_headings":"Quick Start","what":"Running LASER for multiple locations","title":"Running LASER","text":"","code":"library(MOSAIC)  iso_codes <- iso_codes_mosaic[iso_codes_mosaic != 'SSD'] # Current bug with SSD vaccination data  config <- get_location_config(iso = iso_codes) config$beta_j0_hum <- config$beta_j0_hum*2 config$beta_j0_env <- config$beta_j0_env*4  results <- run_LASER(config, seed = 123, quiet = FALSE) #> Loading LASER module...  # Extract expected cases cases <- as.matrix(results$results$expected_cases)  # Create grid plot showing each location separately png(\"figures/multi_location_grid.png\", width = 1400, height = 1600, res = 130) par(mfrow = c(8, 5), mar = c(2, 2, 2, 1), oma = c(2, 2, 2, 0))  for (i in 1:nrow(cases)) {      plot(cases[i, ], type = \"l\", lwd = 1.5, col = \"#009ADE\",           main = config$location_name[i],           xlab = \"\", ylab = \"\",           cex.main = 0.9)      grid(col = \"gray90\") }  # Add common axis labels mtext(\"Time step\", side = 1, outer = TRUE, line = 0.5) mtext(\"Expected Cases\", side = 2, outer = TRUE, line = 0.5) mtext(\"Expected Cases by Location\", side = 3, outer = TRUE, line = 0.5, font = 2) dev.off() #> agg_png  #>       2 cat(\"Saved: figures/multi_location_grid.png\\n\") #> Saved: figures/multi_location_grid.png"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-LASER.html","id":"getting-help","dir":"Articles","previous_headings":"","what":"Getting Help","title":"Running LASER","text":"Package documentation: help(package = \"MOSAIC\") Function help: ?run_LASER, ?make_LASER_config Report issues: https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg/issues","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-MOSAIC.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Running MOSAIC","text":"guide shows run MOSAIC simulations parameter stochasticity using run_MOSAIC() function. workflow samples parameters prior distributions runs multiple simulations quantify uncertainty. running single deterministic simulations, see Running LASER vignette. begin: Complete Installation vignette set MOSAIC dependencies.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-MOSAIC.html","id":"run-a-fixed-number-of-simulations-for-one-location","dir":"Articles","previous_headings":"","what":"Run a fixed number of simulations for one location","title":"Running MOSAIC","text":"","code":"# Load required packages library(MOSAIC)  MOSAIC::attach_mosaic_env(silent = FALSE)   # Create output directory and set up logging dir_output <- path.expand(\"~/MOSAIC/output/ETH_fixed\") if (!dir.exists(dir_output)) dir.create(dir_output, recursive = TRUE)  set_root_directory(\"~/MOSAIC\")   priors_ETH <- get_location_priors(iso=\"ETH\") config_ETH <- get_location_config(iso=\"ETH\")  control_ETH <- mosaic_control_defaults()  control_ETH$calibration$n_simulations <- 500 control_ETH$calibration$n_iterations <- 2  control_ETH$parallel$enable <- TRUE control_ETH$parallel$n_cores <- parallel::detectCores()-1  control_ETH$targets$ESS_param <- 100 control_ETH$targets$ESS_param_prop <- 0.9 control_ETH$targets$ESS_best <- 50 control_ETH$targets$ess_method <- 'perplexity'  control_ETH$sampling$sample_tau_i <- FALSE # Travel probability control_ETH$sampling$sample_mobility_gamma <- FALSE   # Gravity model exponent control_ETH$sampling$sample_mobility_omega <- FALSE   # Mobility rate  control_ETH$likelihood$weight_cases <- 1 control_ETH$likelihood$weight_deaths <- 0.05  control_ETH$predictions$best_model_n_sims <- 30 control_ETH$predictions$ensemble_n_sims_per_param <- 5  control_ETH$npe$enable <- FALSE  control_ETH$paths$clean_output <- TRUE control_ETH$io <- mosaic_io_presets(\"fast\")  result_ETH <- run_MOSAIC(      dir_output = dir_output,      config = config_ETH,      priors = priors_ETH,      control = control_ETH,      resume = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-MOSAIC.html","id":"run-the-adaptive-simulation-algorithm-for-one-location","dir":"Articles","previous_headings":"","what":"Run the adaptive simulation algorithm for one location","title":"Running MOSAIC","text":"","code":"# Load required packages library(MOSAIC)  MOSAIC::attach_mosaic_env(silent = FALSE)   # Create output directory and set up logging dir_output <- path.expand(\"~/MOSAIC/output/ETH_auto\") if (!dir.exists(dir_output)) dir.create(dir_output, recursive = TRUE)  set_root_directory(\"~/MOSAIC\")   priors_ETH <- get_location_priors(iso=\"ETH\") config_ETH <- get_location_config(iso=\"ETH\")  control_ETH <- mosaic_control_defaults()  control_ETH$calibration$n_simulations <- 'auto' control_ETH$calibration$n_iterations <- 2 control_ETH$calibration$batch_size <- 500 control_ETH$calibration$min_batches <- 5 control_ETH$calibration$max_batches <- 10 control_ETH$calibration$target_r2 <- 0.95 control_ETH$calibration$max_simulations <- 1e+06  control_ETH$parallel$enable <- TRUE control_ETH$parallel$n_cores <- parallel::detectCores()-1  control_ETH$targets$ESS_param <- 100 control_ETH$targets$ESS_param_prop <- 0.9 control_ETH$targets$ESS_best <- 50 control_ETH$targets$ess_method <- 'perplexity'  control_ETH$sampling$sample_tau_i <- FALSE control_ETH$sampling$sample_mobility_gamma <- FALSE   # Gravity model exponent control_ETH$sampling$sample_mobility_omega <- FALSE   # Mobility rate  control_ETH$likelihood$weight_cases <- 1 control_ETH$likelihood$weight_deaths <- 0.05  control_ETH$predictions$best_model_n_sims <- 30 control_ETH$predictions$ensemble_n_sims_per_param <- 5  control_ETH$npe$enable <- FALSE  control_ETH$paths$clean_output <- TRUE control_ETH$io <- mosaic_io_presets(\"fast\")  result_ETH <- run_MOSAIC(      dir_output = dir_output,      config = config_ETH,      priors = priors_ETH,      control = control_ETH,      resume = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/articles/Running-MOSAIC.html","id":"run-the-adaptive-simulation-algorithm-for-multiple-locations","dir":"Articles","previous_headings":"","what":"Run the adaptive simulation algorithm for multiple locations","title":"Running MOSAIC","text":"","code":"# Load required packages library(MOSAIC)  MOSAIC::attach_mosaic_env(silent = FALSE)  # Create output directory and set up logging dir_output <- path.expand(\"~/MOSAIC/output/ETH_KEN\") if (!dir.exists(dir_output)) dir.create(dir_output, recursive = TRUE)  set_root_directory(\"~/MOSAIC\")  iso_codes <- c(\"ETH\", \"KEN\")  priors <- get_location_priors(iso=iso_codes) config <- get_location_config(iso=iso_codes)  control <- mosaic_control_defaults()  control$calibration$n_simulations <- 'auto' control$calibration$n_iterations <- 3 control$calibration$batch_size <- 500 control$calibration$min_batches <- 5 control$calibration$max_batches <- 10 control$calibration$target_r2 <- 0.95 control$calibration$max_simulations <- 1e+06  control$parallel$enable <- TRUE control$parallel$n_cores <- parallel::detectCores()-1  control$targets$ESS_param <- 100 control$targets$ESS_param_prop <- 0.95 control$targets$ESS_best <- 30 control$targets$ess_method <- 'perplexity'  control$sampling$sample_tau_i <- length(iso_codes) > 1 # Travel probability control$sampling$sample_mobility_gamma <- length(iso_codes) > 1  # Gravity model exponent control$sampling$sample_mobility_omega <- length(iso_codes) > 1  # Mobility rate  control$likelihood$weight_cases <- 1 control$likelihood$weight_deaths <- 0.05  control$predictions$best_model_n_sims <- 50 control$predictions$ensemble_n_sims_per_param <- 10  control$npe$enable <- FALSE  control$paths$clean_output <- TRUE control$io <- mosaic_io_presets(\"fast\")  control$logging$verbose <- TRUE  result <- run_MOSAIC(      dir_output = dir_output,      config = config,      priors = priors,      control = control,      resume = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"John R Giles. Author, maintainer. Christopher W Lorton. Author, contributor.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Giles J, Lorton C (2025). MOSAIC: Metapopulation Outbreak Simulation Interventions Cholera (MOSAIC). R package version 0.13.13, https://institutefordiseasemodeling.github.io/MOSAIC-pkg/.","code":"@Manual{,   title = {MOSAIC: Metapopulation Outbreak Simulation And Interventions for Cholera (MOSAIC)},   author = {John R Giles and Christopher W Lorton},   year = {2025},   note = {R package version 0.13.13},   url = {https://institutefordiseasemodeling.github.io/MOSAIC-pkg/}, }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/index.html","id":"mosaic-the-metapopulation-outbreak-simulation-with-agent-based-implementation-for-cholera-","dir":"","previous_headings":"","what":"Metapopulation Outbreak Simulation And Interventions for Cholera (MOSAIC)","title":"Metapopulation Outbreak Simulation And Interventions for Cholera (MOSAIC)","text":"Â  Welcome R package MOSAIC framework. MOSAIC R package provides tools simulating cholera transmission dynamics using metapopulation models, estimating mobility patterns drivers transmission environmental forcing, visualizing disease dynamics outbreak projections. Note repo holds code data models , full documentation see: https://institutefordiseasemodeling.github.io/MOSAIC-docs/.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/index.html","id":"mosaic-project-directory-structure","dir":"","previous_headings":"","what":"MOSAIC Project Directory Structure","title":"Metapopulation Outbreak Simulation And Interventions for Cholera (MOSAIC)","text":"MOSAIC R package designed used within triad Github repos functions documented MOSAIC-pkg. package downloads processes required data saved MOSAIC-data prepares model quantities run MOSAIC saved MOSAIC-pkg/model/input. package also produces figures tables used make documentation located MOSAIC-docs. directory structure MOSAIC project. See ./src/mosiac_setup.sh project setup script.","code":"MOSAIC/               # Local parent directory to hold 3 repositories, root directory in get_paths() â”œâ”€â”€ MOSAIC-data/       â”‚   â”œâ”€â”€ raw/          # Raw data files supplied to MOSAIC-pkg â”‚   â””â”€â”€ processed/    # Processed data files supplied to MOSAIC-pkg â”œâ”€â”€ MOSAIC-pkg/        â”‚   â”œâ”€â”€ [R package]   # Contents of MOSAIC R package: https://gilesjohnr.github.io/MOSAIC-pkg/ â”‚   â””â”€â”€ model/ â”‚       â”œâ”€â”€ input/    # Files used as input to MOSAIC framework â”‚       â”œâ”€â”€ output/   # Location of output from MOSAIC framework â”‚       â””â”€â”€ LAUNCH.R  # LAUNCH.R file runs data acquisition functions, a priori models, and runs MOSAIC â””â”€â”€ MOSAIC-docs/       â”œâ”€â”€ [Website]     # Documentation and model description: https://gilesjohnr.github.io/MOSAIC-docs/ â”œâ”€â”€ figures/      # Output images and figures from MOSAIC-pkg used in documentation â””â”€â”€ tables/       # Output data and parameter values from MOSAIC-pkg used in documentation"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"Metapopulation Outbreak Simulation And Interventions for Cholera (MOSAIC)","text":"questions information MOSAIC project, please contact: John Giles: john.giles@gatesfoundation.org Jillian Gauld: jillian.gauld@gatesfoundation.org Rajiv Sodhi: rajiv.sodhi@gatesfoundation.org","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Attach MOSAIC Python Environment â€” attach_mosaic_env","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"Explicitly attaches r-mosaic Python environment current R session. function initializes Python r-mosaic environment, making MOSAIC Python dependencies (laser_cholera, torch, zuko, etc.) available. function: Sets RETICULATE_PYTHON environment variable Initializes Python r-mosaic Verifies environment working Provides clear error messages attachment fails","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"","code":"attach_mosaic_env(silent = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"silent Logical. TRUE, suppresses informational messages. Default: FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"Invisible TRUE successful, stops error otherwise","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"function called automatically MOSAIC loaded (via .onAttach). typically need call manually unless: want verify Python environment working detached want re-attach without restarting R writing script needs explicit environment control Python initialized, reticulate prevents switching different environment without restarting R. Python already initialized different environment, function fail error message instructing restart R.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/attach_mosaic_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Attach MOSAIC Python Environment â€” attach_mosaic_env","text":"","code":"if (FALSE) { # \\dontrun{ # Manually attach MOSAIC environment attach_mosaic_env()  # Attach silently (no messages) attach_mosaic_env(silent = TRUE)  # Verify after attaching check_python_env() } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/batch_clean_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Batch clean multiple JSON files â€” batch_clean_json","title":"Batch clean multiple JSON files â€” batch_clean_json","text":"Applies clean_priors_json multiple files, useful cleaning calibration directories.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/batch_clean_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Batch clean multiple JSON files â€” batch_clean_json","text":"","code":"batch_clean_json(pattern, path = \".\", dry_run = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/batch_clean_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Batch clean multiple JSON files â€” batch_clean_json","text":"pattern File pattern match (e.g., \"**/priors.json\") path Base path search dry_run Logical; TRUE, shows cleaned (default FALSE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/batch_clean_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Batch clean multiple JSON files â€” batch_clean_json","text":"Character vector cleaned file paths (invisibly)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/batch_clean_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Batch clean multiple JSON files â€” batch_clean_json","text":"","code":"if (FALSE) { # \\dontrun{ # Dry run to see what would be cleaned batch_clean_json(\"**/priors.json\", \"local/calibration\", dry_run = TRUE)  # Actually clean all priors.json files batch_clean_json(\"**/priors.json\", \"local/calibration\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/bfrs_posterior_to_prior.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert BFRS Posterior to Prior Format â€” bfrs_posterior_to_prior","title":"Convert BFRS Posterior to Prior Format â€” bfrs_posterior_to_prior","text":"Converts BFRS posterior object prior specification can used sample_parameters() sequential Bayesian updating.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/bfrs_posterior_to_prior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert BFRS Posterior to Prior Format â€” bfrs_posterior_to_prior","text":"","code":"bfrs_posterior_to_prior(bfrs_posterior, method = \"gaussian\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/bfrs_posterior_to_prior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert BFRS Posterior to Prior Format â€” bfrs_posterior_to_prior","text":"bfrs_posterior BFRS posterior object calc_bfrs_posterior() method Character string: \"gaussian\", \"kde\", \"empirical\"","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/bfrs_posterior_to_prior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert BFRS Posterior to Prior Format â€” bfrs_posterior_to_prior","text":"List prior specification format","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":null,"dir":"Reference","previous_headings":"","what":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"Transforms numeric vector centering zero scaling minimum value becomes -1. Specifically, affine normalization defined :","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"","code":"calc_affine_normalization(x)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"x numeric vector normalized. vector may contain NA values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"numeric vector length x affine normalized.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"$$x_{\\text{scaled}} = \\frac{x - \\mu}{\\mu - \\min(x)}$$ \\(\\mu\\) mean x. transformation produces vector mean approximately zero (ignoring NA values), minimum -1, maximum zero original maximum exceeds mean. function computes mean minimum x na.rm = TRUE. mean equals minimum (nearly equal within machine precision), function issues warning returns vector NA values avoid division zero.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_affine_normalization.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Affine Normalization of a Numeric Vector (Zero-Centered Min-Max Scaling) â€” calc_affine_normalization","text":"","code":"# Example vector with NA values x <- c(3, 5, 7, NA, 10, 12)  # Apply affine normalization normalized_x <- calc_affine_normalization(x)  # The normalized vector should have a mean of approximately zero, # a minimum of -1, and a maximum above zero (if the original maximum exceeds the mean)."},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bfrs_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","title":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","text":"Creates posterior approximation BFRS simulation results using importance sampling likelihood weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bfrs_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","text":"","code":"calc_bfrs_posterior(   results,   param_names,   n_samples = 10000,   method = \"importance_sampling\",   log_likelihood = TRUE,   temperature = 1,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bfrs_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","text":"results Data frame containing simulation results parameters likelihoods param_names Character vector parameter names include posterior n_samples Integer number posterior samples generate (default 10000) method Character string specifying method: \"importance_sampling\" \"rejection_sampling\" log_likelihood Logical whether likelihood column log scale (default TRUE) temperature Numeric temperature parameter tempering (default 1.0) verbose Logical whether print progress messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bfrs_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","text":"List containing: samples Matrix posterior samples (n_samples Ã— n_params) weights Vector importance weights original simulations log_weights Log-scale importance weights ess Effective sample size mean Posterior mean estimates cov Posterior covariance matrix quantiles Posterior quantiles standard levels log_evidence Log marginal likelihood estimate","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bfrs_posterior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate BFRS Posterior via Importance Sampling â€” calc_bfrs_posterior","text":"","code":"if (FALSE) { # \\dontrun{ # After running BFRS simulations bfrs_posterior <- calc_bfrs_posterior(     results = results,     param_names = c(\"tau_i_ETH\", \"mobility_gamma_ETH\", \"mu_j_ETH\"),     n_samples = 10000,     verbose = TRUE ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bookend_batch_size.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Batch Size for Bookend Strategy â€” calc_bookend_batch_size","title":"Calculate Batch Size for Bookend Strategy â€” calc_bookend_batch_size","text":"Implements three-phase strategy: Initial calibration (n_batches Ã— batch_size) One large predictive batch (calculated ESS rate) Final fine-tuning (adaptive batch sizing based gap)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bookend_batch_size.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Batch Size for Bookend Strategy â€” calc_bookend_batch_size","text":"","code":"calc_bookend_batch_size(   ess_history,   target_ess,   reserved_sims,   max_total_sims,   target_r_squared = 0.95 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bookend_batch_size.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Batch Size for Bookend Strategy â€” calc_bookend_batch_size","text":"ess_history ESS measurements calibration phase target_ess Target ESS value reserved_sims Number simulations reserved fine-tuning max_total_sims Maximum total simulations allowed target_r_squared Target R-squared ESS regression (default: 0.95)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_bookend_batch_size.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Batch Size for Bookend Strategy â€” calc_bookend_batch_size","text":"List batch size recommendation","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":null,"dir":"Reference","previous_headings":"","what":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"Given vector incident symptomatic infections \\(I_{\\text{sym}}(t)\\) (e.g., LASER model) constant \\(\\rho\\) (reporting probability among symptomatic), function returns vectors expected suspected true/confirmed cases aligned report day using simple time shift \\(\\Delta\\) (days). default, positive predictive value \\(\\chi\\) among suspected cases set chi_endemic times. epidemic_threshold provided, function switches \\(\\chi\\) chi_endemic chi_epidemic according whether \\(I_{\\text{new}}(t-\\Delta)/N(t-\\Delta)\\) exceeds threshold.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"","code":"calc_cases_from_infections(   infections,   N = NULL,   rho,   chi_endemic,   chi_epidemic,   epidemic_threshold = NULL,   delta_t = 0 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"infections Numeric vector incident symptomatic infections \\(I_{\\text{sym}}(t)\\) (length \\(n\\)). Must non-negative; NAs allowed propagate. N Numeric scalar vector length \\(n\\): population size used compute infection proportion \\(I_{\\text{sym}}(t)/N(t)\\) switching rule. Ignored epidemic_threshold NULL. Default NULL. rho Scalar \\([0,1]\\): probability symptomatic cholera infection reported suspected. chi_endemic Scalar \\((0,1]\\): PPV among suspected endemic levels (also default PPV epidemic_threshold NULL). chi_epidemic Scalar \\((0,1]\\): PPV among suspected epidemic levels (used epidemic_threshold provided). epidemic_threshold NULL scalar \\([0,1]\\): threshold \\(I_{\\text{sym}}(t)/N(t)\\) determines whether chi_epidemic (threshold) chi_endemic (otherwise) used. NULL, switching applied chi_endemic used times. Default NULL. delta_t Non-negative integer number days symptomatic infectionâ†’report delay \\(\\Delta\\). Default 0.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"named list two numeric vectors, length \\(n\\): cases_suspected: expected suspected cholera cases \\(C_{\\text{sus}}(t)\\). cases_true: expected true/confirmed cholera cases \\(C_{\\text{true}}(t)\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"Shift-delay model constant \\(\\rho\\): $$\\mathbb{E}[C_{\\text{true}}(t)] \\;=\\; \\rho\\,I_{\\text{sym}}(t-\\Delta),$$ $$\\mathbb{E}[C_{\\text{sus}}(t)] \\;=\\; \\frac{\\rho}{\\chi_t}\\,I_{\\text{sym}}(t-\\Delta),$$ \\(\\chi_t \\(0,1]\\) PPV among suspected cases (fraction truly cholera). Epidemic switching rule (optional): $$\\chi_t \\;=\\; \\begin{cases} \\text{chi\\_epidemic}, & \\text{} I_{\\text{sym}}(t-\\Delta)/N(t-\\Delta) > \\text{epidemic\\_threshold},\\\\ \\text{chi\\_endemic},  & \\text{otherwise.} \\end{cases}$$ epidemic_threshold NULL, function uses chi_endemic times (.e., switching bypassed N ignored). delta_t > 0, first delta_t elements outputs NA (earlier infections available map forward). delta_t = 0, outputs aligned one--one infections contain leading NAs.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"alignment-note","dir":"Reference","previous_headings":"","what":"Alignment note","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"Outputs indexed report day \\(t\\). Values indices \\(1:\\Delta\\) NA depend \\(I_{\\text{sym}}(t-\\Delta)\\) start series.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_cases_from_infections.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Map infections to suspected and true cholera cases â€” calc_cases_from_infections","text":"","code":"infections <- c(0, 1, 2, 5, 40, 120, 200, 75, 50, 30, 15, 10, 3, 0, 0) N <- 20000  # 1) No switching: epidemic_threshold = NULL (chi_endemic used everywhere; N ignored) out1 <- calc_cases_from_infections(   infections = infections,   N = NULL,   rho = 0.70,   chi_endemic = 0.50,   chi_epidemic = 0.75,   epidemic_threshold = NULL,   delta_t = 0 ) out1$cases_suspected; out1$cases_true #>  [1]   0.0   1.4   2.8   7.0  56.0 168.0 280.0 105.0  70.0  42.0  21.0  14.0 #> [13]   4.2   0.0   0.0 #>  [1]   0.0   0.7   1.4   3.5  28.0  84.0 140.0  52.5  35.0  21.0  10.5   7.0 #> [13]   2.1   0.0   0.0  # 2) Switching on: use chi_epidemic when infections/N > 15/100,000 out2 <- calc_cases_from_infections(   infections = infections,   N = N,   rho = 0.70,   chi_endemic = 0.50,   chi_epidemic = 0.75,   epidemic_threshold = 15/100000,   delta_t = 2 ) out2$cases_suspected; out2$cases_true #>  [1]         NA         NA   0.000000   1.400000   2.800000   4.666667 #>  [7]  37.333333 112.000000 186.666667  70.000000  46.666667  28.000000 #> [13]  14.000000   9.333333   4.200000 #>  [1]    NA    NA   0.0   0.7   1.4   3.5  28.0  84.0 140.0  52.5  35.0  21.0 #> [13]  10.5   7.0   2.1"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"Centralized function computing convergence diagnostics status indicators BFRS calibration results. Takes metrics targets input, calculates pass/warn/fail status metric using consistent thresholds, aggregates overall convergence status.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"","code":"calc_convergence_diagnostics(   n_total,   n_successful,   n_retained,   n_best_subset,   ess_best,   A_best,   cvw_best,   percentile_used,   convergence_tier,   param_ess_results = NULL,   target_ess_best = 300,   target_A_best = 0.95,   target_cvw_best = 0.5,   target_max_best_subset = 1000,   target_ess_param = 300,   target_ess_param_prop = 0.95,   ess_method = c(\"kish\", \"perplexity\"),   temperature = 1,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"n_total Integer total number simulations attempted n_successful Integer number simulations completed successfully (finite likelihood) n_retained Integer number simulations retained outlier removal n_best_subset Integer number simulations optimized best subset ess_best Numeric effective sample size within best subset A_best Numeric agreement index (entropy-based) best subset cvw_best Numeric coefficient variation weights best subset percentile_used Numeric percentile likelihood distribution used best subset selection (e.g., 5.0 top 5%) convergence_tier Character string indicating tier criteria used (e.g., \"tier_3\", \"fallback\") param_ess_results Optional data frame columns parameter ess_marginal containing parameter-specific ESS values. NULL, parameter ESS metrics omitted. target_ess_best Numeric target subset size ESS (default 300). B_size ESS_B must >= target_ess_best. target_A_best Numeric target agreement index (default 0.95) target_cvw_best Numeric target coefficient variation (default 0.5) target_max_best_subset Numeric maximum best subset size absolute count (default 1000). Replaced target_percentile_max absolute count-based control. target_ess_param Numeric target ESS individual parameters (default 300) target_ess_param_prop Numeric target proportion parameters must meet ESS threshold (default 0.95, meaning 95%) ess_method Character string specifying ESS calculation method: \"kish\" (default) \"perplexity\". match method used ESS calculations workflow. temperature Numeric temperature parameter used weight scaling (default 1, documentation purposes) verbose Logical indicating whether print diagnostic messages (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"list following structure: settings List optimization_tier, percentile_used, temperature, description targets List target values descriptions metric metrics List metric values descriptions status indicators summary List counts, tier info, overall convergence status returned list ready JSON serialization contains information needed visualization plot_model_convergence_status.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"status-thresholds","dir":"Reference","previous_headings":"","what":"Status Thresholds","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"Status indicators calculated using multiplicative thresholds relative targets: \"higher better\" metrics (ESS, Agreement): PASS: value >= target * pass_threshold WARN: value >= target * warn_threshold < pass_threshold FAIL: value < target * warn_threshold \"lower better\" metrics (CVw): PASS: value <= target * pass_threshold WARN: value <= target * warn_threshold > pass_threshold FAIL: value > target * warn_threshold Default thresholds metric: ESS_B: pass=0.8 (80%), warn=0.5 (50%) A_B: pass=0.9 (90%), warn=0.7 (70%) CVw_B: pass=1.2 (120%), warn=2.0 (200%) B_size: pass=1.0 (100%), warn=0.5 (50%) Percentile: pass=1.0 (100%), warn=1.5 (150%) Param ESS: pass=1.0 (100%), warn=0.8 (80%)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"overall-status","dir":"Reference","previous_headings":"","what":"Overall Status","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"overall convergence status determined aggregating individual metric statuses: FAIL: metric status \"fail\" WARN: failures, least one metric status \"warn\" PASS: metrics status \"pass\"","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_convergence_diagnostics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate comprehensive convergence diagnostics with status indicators â€” calc_convergence_diagnostics","text":"","code":"if (FALSE) { # \\dontrun{ # After running BFRS calibration and calculating metrics diagnostics <- calc_convergence_diagnostics(     n_total = 10000,     n_successful = 9500,     n_retained = 8500,     n_best_subset = 500,     ess_best = 280,     A_best = 0.92,     cvw_best = 0.55,     percentile_used = 4.8,     convergence_tier = \"tier_3\",     param_ess_results = param_ess_df,     target_ess_best = 300,     target_A_best = 0.95,     target_cvw_best = 0.5,     target_max_best_subset = 1000,     ess_method = \"kish\" )  # Save to JSON jsonlite::write_json(diagnostics, \"convergence_diagnostics.json\",                      pretty = TRUE, auto_unbox = TRUE)  # Check overall status print(diagnostics$summary$convergence_status) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"Maps symptomatic infections deaths using infection fatality ratio (IFR) increases epidemic periods incidence exceeds threshold. IFR can also include temporal trend component. Deaths can delayed relative infections account time symptom onset death.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"","code":"calc_deaths_from_infections(   infections,   N,   mu_baseline,   mu_slope = 0,   mu_epidemic_factor,   epidemic_threshold,   delta_t = 0 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"infections Numeric vector new symptomatic infections time one location N Scalar vector population size (can time-varying) mu_baseline Scalar baseline IFR location (0 1) mu_slope Scalar temporal slope factor (default 0 trend) mu_epidemic_factor Scalar proportional increase epidemic (e.g., 0.5 = 50% increase) epidemic_threshold Scalar location-specific threshold (infections/N) epidemic definition delta_t Non-negative integer number days infection--death delay (default 0)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"Numeric vector deaths time step","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"time-varying IFR calculated : $$\\mu_t = \\mu_{baseline} \\times (1 + \\mu_{slope} \\times t) \\times (1 + \\mu_{epidemic} \\times \\mathbb{1}_{epidemic})$$ \\(\\mathbb{1}_{epidemic}\\) 1 incidence rate exceeds threshold, 0 otherwise. delta_t > 0, deaths time t result infections time t - delta_t. first delta_t elements output NA since infection data available start time series.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_deaths_from_infections.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate deaths from symptomatic infections with threshold-dependent IFR â€” calc_deaths_from_infections","text":"","code":"# Simulate an outbreak infections <- c(10, 20, 50, 100, 80, 40, 20, 10) deaths <- calc_deaths_from_infections(   infections = infections,   N = 100000,   mu_baseline = 0.01,   mu_slope = 0,   mu_epidemic_factor = 0.5,   epidemic_threshold = 30/100000,   delta_t = 0 )  # With temporal trend deaths_trend <- calc_deaths_from_infections(   infections = infections,   N = 100000,   mu_baseline = 0.01,   mu_slope = 0.1,  # 10% increase over time period   mu_epidemic_factor = 0.5,   epidemic_threshold = 30/100000,   delta_t = 0 )  # With 3-day infection-to-death delay deaths_delayed <- calc_deaths_from_infections(   infections = infections,   N = 100000,   mu_baseline = 0.01,   mu_slope = 0,   mu_epidemic_factor = 0.5,   epidemic_threshold = 30/100000,   delta_t = 3 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"Computes connectivity matrix \\(\\pi_{ij}\\) locations using normalized gravity model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"","code":"calc_diffusion_matrix_pi(D, N, omega, gamma)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"D square numeric distance matrix locations. Units kilometers. N numeric vector population sizes. Length must match nrow(D). May named. omega Numeric exponent population scaling. gamma Numeric exponent distance decay.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"numeric matrix diffusion probabilities \\(\\pi_{ij}\\), diagonals set NA.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"normalized gravity model following form: $$\\pi_{ij} = \\frac{N_j^\\omega \\, d_{ij}^{-\\gamma}}{\\sum_{j \\ne } N_j^\\omega \\, d_{ij}^{-\\gamma}}, \\quad \\forall \\; ,\\, j$$ \\(d_{ij}\\) distance locations \\(\\) \\(j\\), \\(N_j\\) population weight location \\(j\\). diagonal output matrix set NA, \\(\\pi_{ij}\\) intended used conditionally alongside departure probability \\(\\tau_i\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_diffusion_matrix_pi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Diffusion Matrix Based on Gravity Model â€” calc_diffusion_matrix_pi","text":"","code":"if (FALSE) { # \\dontrun{ set.seed(123) D <- matrix(runif(100, 1, 10), nrow = 10) D <- (D + t(D)) / 2; diag(D) <- 0 N <- runif(10, 100, 1000) names(N) <- LETTERS[1:10]  pi_mat <- calc_diffusion_matrix_pi(D, N, omega = 0.5, gamma = 2) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_ess_accumulation_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate ESS Accumulation Rate â€” calc_ess_accumulation_rate","title":"Calculate ESS Accumulation Rate â€” calc_ess_accumulation_rate","text":"Tracks rate ESS accumulates per simulation predicts number additional simulations needed reach target ESS.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_ess_accumulation_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate ESS Accumulation Rate â€” calc_ess_accumulation_rate","text":"","code":"calc_ess_accumulation_rate(ess_history, target_ess, min_points = 3)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_ess_accumulation_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate ESS Accumulation Rate â€” calc_ess_accumulation_rate","text":"ess_history List ESS measurements different simulation counts target_ess Target ESS value convergence min_points Minimum number data points needed prediction (default: 3)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_ess_accumulation_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate ESS Accumulation Rate â€” calc_ess_accumulation_rate","text":"List containing accumulation metrics predictions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"Computes Kullback-Leibler (KL) divergence two probability distributions represented weighted samples. KL divergence measures one probability distribution diverges reference distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"","code":"calc_kl_divergence(   samples1,   weights1 = NULL,   samples2,   weights2 = NULL,   n_points = 1000,   eps = 1e-10 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"samples1 Numeric vector samples first distribution (P). weights1 Numeric vector weights samples1. Must length samples1. NULL, uniform weights used. samples2 Numeric vector samples second distribution (Q). weights2 Numeric vector weights samples2. Must length samples2. NULL, uniform weights used. n_points Integer specifying number points kernel density estimation. Higher values provide accurate estimates require computation. Default 1000. eps Numeric value numerical stability. Small positive value added densities avoid log(0). Default 1e-10.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"non-negative numeric value representing KL divergence. Returns 0 distributions identical, larger values indicate greater divergence.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"KL divergence KL(P||Q) calculated : $$KL(P||Q) = \\sum_i P(x_i) \\log(P(x_i) / Q(x_i))$$ P represents distribution samples1 Q represents distribution samples2. function uses weighted kernel density estimation approximate continuous distributions discrete samples, evaluates KL divergence using numerical integration. Note KL divergence symmetric: KL(P||Q) â‰  KL(Q||P).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_kl_divergence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Kullback-Leibler Divergence Between Two Distributions â€” calc_kl_divergence","text":"","code":"# Example 1: Compare two normal distributions set.seed(123) samples1 <- rnorm(1000, mean = 0, sd = 1) samples2 <- rnorm(1000, mean = 0.5, sd = 1.2) kl_div <- calc_kl_divergence(samples1, NULL, samples2, NULL) print(paste(\"KL divergence:\", round(kl_div, 4))) #> [1] \"KL divergence: 0.1338\"  # Example 2: Using weighted samples samples1 <- rnorm(500) weights1 <- runif(500, 0.5, 1.5) samples2 <- rnorm(500, mean = 1) weights2 <- runif(500, 0.5, 1.5) kl_div_weighted <- calc_kl_divergence(samples1, weights1, samples2, weights2)  # Example 3: Comparing posterior to prior in Bayesian analysis # prior_samples <- rnorm(1000, mean = 0, sd = 2)  # Prior # posterior_samples <- rnorm(1000, mean = 1, sd = 0.5)  # Posterior # kl_div <- calc_kl_divergence(posterior_samples, NULL, prior_samples, NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"function routes appropriate calc_log_likelihood_*() sub-function based specified family. supports six distributions (Beta, Binomial, Gamma, Negative Binomial, Normal, Poisson) also allows top-level weights argument passed chosen sub-function.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"","code":"calc_log_likelihood(   observed,   estimated,   family = c(\"beta\", \"binomial\", \"gamma\", \"negbin\", \"normal\", \"poisson\"),   weights = NULL,   ... )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"observed Numeric integer vector observed data (depends distribution). NAs allowed. estimated Numeric vector model-predicted values (depends distribution). NAs allowed. family Character string, one : \"beta\" \"binomial\" \"gamma\" \"negbin\" \"normal\" \"poisson\" weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. ... Additional arguments passed underlying distribution function: mean_precision (calc_log_likelihood_beta) trials (calc_log_likelihood_binomial) k, k_min (calc_log_likelihood_negbin) verbose (common distributions)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"total log-likelihood (scalar) families, (case Normal) list log_likelihood, sigma, shapiro_p.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"Based value family, function internally calls: calc_log_likelihood_beta family = \"beta\" calc_log_likelihood_binomial family = \"binomial\" calc_log_likelihood_gamma family = \"gamma\" calc_log_likelihood_negbin family = \"negbin\" calc_log_likelihood_normal family = \"normal\" calc_log_likelihood_poisson family = \"poisson\" weights argument (NULL) passed chosen sub-likelihood function, multiplies observation's log-likelihood contribution weights[].","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dispatcher for multiple distribution log-likelihood functions â€” calc_log_likelihood","text":"","code":"# Poisson example with weights calc_log_likelihood(   observed  = c(2, 3, 4),   estimated = c(2.2, 2.9, 3.8),   family    = \"poisson\",   weights   = c(1, 2, 1),   verbose   = TRUE ) #> Poisson log-likelihood: -5.95 #> [1] -5.949537  # Negative Binomial with known k and weights calc_log_likelihood(   observed  = c(0, 5, 9),   estimated = c(3, 4, 5),   family    = \"negbin\",   k         = 2.0,   weights   = c(1, 1, 2),   verbose   = TRUE ) #> Using provided k = 2.000 #> k = 2.000 < k_min = 3.000; using k_min. #> Negative Binomial log-likelihood (k=3.000): -10.71 #> [1] -10.70527"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"Computes total log-likelihood proportion data Beta distribution. Supports either meanâ€“precision parameterization (default) standard shape parameterization. cases, single global set shape parameters estimated data using method moments. observation can weighted via weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"","code":"calc_log_likelihood_beta(   observed,   estimated,   mean_precision = TRUE,   weights = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"observed Numeric vector observed values (0, 1). estimated Numeric vector model-predicted values (0, 1). mean_precision Logical; TRUE (default), use meanâ€“precision parameterization. FALSE, estimate shape parameters directly observed vector. weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. verbose Logical; TRUE, prints shape parameter estimates total log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"scalar log-likelihood (numeric).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"mean_precision = TRUE, precision parameter \\(\\phi\\) estimated : $$ \\phi = \\frac{\\mu (1 - \\mu)}{\\text{Var}(Y)} - 1 $$ : $$ \\text{shape}_1 = \\mu_t \\phi, \\quad \\text{shape}_2 = (1 - \\mu_t) \\phi $$ mean_precision = FALSE, single global \\(\\text{shape}_1\\), \\(\\text{shape}_2\\) estimated observed vector: $$ \\text{shape}_1 = \\left( \\frac{1 - \\mu}{\\sigma^2} - \\frac{1}{\\mu} \\right) \\mu^2 $$ $$ \\text{shape}_2 = \\text{shape}_1 \\left( \\frac{1}{\\mu} - 1 \\right) $$ total log-likelihood summed across observations, multiplied weights[].","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_beta.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Beta-distributed proportions â€” calc_log_likelihood_beta","text":"","code":"calc_log_likelihood_beta(c(0.2, 0.6, 0.4), c(0.25, 0.55, 0.35)) #> Meanâ€“precision mode: estimated phi = 71.00 #> Beta log-likelihood: 4.77 #> [1] 4.770705"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"Computes total log-likelihood integer counts successes Binomial distribution, optionally weighting observation via weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"","code":"calc_log_likelihood_binomial(   observed,   estimated,   trials,   weights = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"observed Integer vector observed successes (e.g., number positives). estimated Numeric vector expected probabilities success (0, 1). trials Integer vector total trials (length observed). weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. verbose Logical; TRUE, prints total log-likelihood checks data consistency.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"scalar log-likelihood (numeric).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"Binomial distribution models number successes fixed trials: $$ Y \\\\sim \\\\text{Binomial}(n, p). $$ Weighted weights[] observation .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_binomial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Binomial-distributed data â€” calc_log_likelihood_binomial","text":"","code":"calc_log_likelihood_binomial(c(3, 4, 2), c(0.3, 0.5, 0.25), c(10, 10, 8)) #> Binomial log-likelihood: -4.07 #> [1] -4.071992"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"Computes total log-likelihood continuous positive data Gamma distribution. shape parameter estimated via method moments. observation can weighted.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"","code":"calc_log_likelihood_gamma(observed, estimated, weights = NULL, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"observed Numeric vector observed positive values. estimated Numeric vector expected means model (length observed). weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. verbose Logical; TRUE, prints estimated shape parameter total log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"scalar representing total log-likelihood (numeric).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"Weighted log-likelihood summed observation. shape \\(\\\\alpha\\) estimated via method moments observed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_gamma.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Gamma-distributed data â€” calc_log_likelihood_gamma","text":"","code":"calc_log_likelihood_gamma(c(2.5, 3.2, 1.8), c(2.4, 3.0, 2.0)) #> Gamma shape (Î±) = 12.76 #> Gamma log-likelihood: -1.73 #> [1] -1.731035"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"Computes total log-likelihood count data Negative Binomial distribution, using gamma-function formulation. observation can weighted.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"","code":"calc_log_likelihood_negbin(   observed,   estimated,   k = NULL,   k_min = 3,   weights = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"observed Integer vector observed non-negative counts (e.g., cases, deaths). estimated Numeric vector expected values model (length observed). k Numeric scalar; dispersion parameter. NULL, estimated via method moments. k_min Numeric scalar; minimum dispersion floor applied k finite (either supplied estimated). Default 3. k = Inf (Poisson limit), flooring applied. weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. verbose Logical; TRUE, prints diagnostics including (floored) dispersion total log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"scalar representing total log-likelihood (numeric).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"k supplied, estimated \\(k = \\bar{x}^2 / (s^2 - \\bar{x})\\) observed. estimate finite, constrained least k_min. \\(s^2 \\le \\bar{x}\\), function uses Poisson limit (k = Inf).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_negbin.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Negative Binomial-distributed count data â€” calc_log_likelihood_negbin","text":"","code":"# Default k_min = 3 calc_log_likelihood_negbin(c(0, 5, 9), c(3, 4, 5)) #> Estimated k = 1.390 (from Var = 20.333, Mean = 4.667) #> k = 1.390 < k_min = 3.000; using k_min. #> Negative Binomial log-likelihood (k=3.000): -7.54 #> [1] -7.540079 # Provide k but allow flooring if too small calc_log_likelihood_negbin(c(0, 5, 9), c(3, 4, 5), k = 1.2) #> Using provided k = 1.200 #> k = 1.200 < k_min = 3.000; using k_min. #> Negative Binomial log-likelihood (k=3.000): -7.54 #> [1] -7.540079"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"Computes total log-likelihood continuous data Normal distribution. Also performs Shapiro-Wilk test check normality residuals. observation can weighted via weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"","code":"calc_log_likelihood_normal(observed, estimated, weights = NULL, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"observed Numeric vector observed continuous values. estimated Numeric vector model-predicted means. weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. verbose Logical; TRUE, prints estimated sigma, Shapiro-Wilk p-value, log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"single numeric value representing total log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"Weighted log-likelihood computed across observations, residuals tested normality via Shapiro-Wilk test: p < 0.05, warning issued indicating non-normal residuals. Otherwise, verbose = TRUE, message printed showing p-value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_normal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Normally-distributed continuous data â€” calc_log_likelihood_normal","text":"","code":"ll <- calc_log_likelihood_normal(c(1.2, 2.8, 3.1), c(1.0, 3.0, 3.2)) #> Shapiro-Wilk p = 0.4633: residuals are consistent with normality. #> Estimated Ïƒ = 0.2082 #> Normal log-likelihood: 0.91 print(ll) #> [1] 0.9129725"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"Computes total log-likelihood integer count data Poisson distribution. observation can weighted via weights, defaulting equal weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"","code":"calc_log_likelihood_poisson(   observed,   estimated,   weights = NULL,   zero_buffer = TRUE,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"observed Integer vector observed non-negative counts (e.g., cases, deaths). estimated Numeric vector expected values model (length observed). weights Optional numeric vector non-negative weights, length observed. Default NULL, sets weights 1. zero_buffer Logical; TRUE (default), rounds observed values integers adds small buffer avoid zero estimates. FALSE, enforces strict integer requirements. verbose Logical; TRUE, prints diagnostics total log-likelihood.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"scalar representing total log-likelihood (numeric).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"Poisson distribution assumes variance equals mean, \\( \\textVar(Y) = \\mu \\). Weighted log-likelihood summed across observations. variance/mean ratio > 1.5, warning possible overdispersion issued.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_likelihood_poisson.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate log-likelihood for Poisson-distributed count data â€” calc_log_likelihood_poisson","text":"","code":"calc_log_likelihood_poisson(c(2, 3, 4), c(2.2, 2.9, 4.1)) #> Poisson log-likelihood: -4.45 #> [1] -4.447966"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"Stable log-mean-exp computation â€” calc_log_mean_exp","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"Computes log mean exponentials numerically stable way. equivalent log(mean(exp(x))) avoids numerical overflow/underflow subtracting maximum value exponentiation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"","code":"calc_log_mean_exp(x)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"x Numeric vector log-values","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"Numeric scalar; log-mean-exp input vector","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"log-mean-exp vector \\(x\\) computed : $$ \\mathrm{LME}(x) = \\max(x) + \\log\\left(\\frac{1}{|x|}\\sum_i e^{x_i - \\max(x)}\\right) $$ numerically stable : maximum value subtracted exponentiation, preventing overflow least one exponentiated term equals 1, preventing underflow Equivalent log(mean(exp(x))) without numerical issues","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_log_mean_exp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stable log-mean-exp computation â€” calc_log_mean_exp","text":"","code":"# Basic usage x <- c(-100, -101, -99) calc_log_mean_exp(x)  # â‰ˆ -99.59 #> [1] -99.69101  # Compare with naive approach (which would overflow for large negative values) log(mean(exp(x)))     # Same result, but less stable #> [1] -99.69101  # With missing/infinite values calc_log_mean_exp(c(-50, -Inf, -60, NA))  # Returns log-mean-exp of finite values #> [1] -50.6931  # Empty or all non-finite input calc_log_mean_exp(c())           # Returns NA #> [1] NA calc_log_mean_exp(c(-Inf, NA))   # Returns NA #> [1] NA"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_R2.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficient of Determination (R-squared) Between Observed and Estimated Series â€” calc_model_R2","title":"Coefficient of Determination (R-squared) Between Observed and Estimated Series â€” calc_model_R2","text":"Computes \\(R^2\\) observed series model estimates. Supports two definitions: method = \"sse\" (default): \\(R^2 = 1 - \\mathrm{SSE}/\\mathrm{SST}\\) optional weights. can negative model underperforms intercept-baseline. method = \"corr\": \\(R^2 = \\mathrm{cor}(y,\\hat y)^2\\) (Pearson), always \\([0,1]\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_R2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficient of Determination (R-squared) Between Observed and Estimated Series â€” calc_model_R2","text":"","code":"calc_model_R2(   observed,   estimated,   method = c(\"sse\", \"corr\"),   bounded = FALSE,   na_rm = TRUE,   finite_only = TRUE,   weights = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_R2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficient of Determination (R-squared) Between Observed and Estimated Series â€” calc_model_R2","text":"observed Numeric vector matrix. estimated Numeric vector matrix (length flattening). method One \"sse\" (default) \"corr\". bounded Logical; TRUE, clamp result \\([0,1]\\). Default FALSE. na_rm Logical; drop NA pairs. Default TRUE. finite_only Logical; drop non-finite values. Default TRUE. weights Optional non-negative weights (used method=\"sse\" weighted Pearson \"corr\"). verbose Logical; TRUE, emit brief diagnostics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_R2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficient of Determination (R-squared) Between Observed and Estimated Series â€” calc_model_R2","text":"Scalar \\(R^2\\). May negative method=\"sse\" unless bounded=TRUE.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_agreement_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","title":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","text":"retained set \\(\\mathcal B = \\{: w_i > 0\\}\\), computes entropy \\(H(\\tilde{\\mathbf w}) = -\\sum_{\\\\mathcal B}\\tilde w_i \\log \\tilde w_i\\) \\(= H(\\tilde{\\mathbf w}) / \\log|\\mathcal B|\\), convention \\(=0\\) \\(|\\mathcal B| \\le 1\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_agreement_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","text":"","code":"calc_model_agreement_index(w)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_agreement_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","text":"w Numeric vector weights (raw normalized). strictly positive entries form \\(\\mathcal B\\). Internally normalized within \\(\\mathcal B\\); larger \\(\\) better.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_agreement_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","text":"list (agreement index \\[0,1\\]), H (entropy), B_size (retained set size).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_agreement_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Agreement index A based on entropy of weights â€” calc_model_agreement_index","text":"","code":"set.seed(1) ll <- 1000 + rnorm(200, sd = 3) d  <- calc_model_aic_delta(ll) aw <- calc_model_akaike_weights(d) calc_model_agreement_index(aw$w) #> $A #> [1] 0.8504612 #>  #> $H #> [1] 2.458149 #>  #> $B_size #> [1] 18 #>"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_aic_delta.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","title":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","text":"Computes AIC differences draw using $$\\Delta_i = \\text{AIC}_i - \\text{AIC}_{\\min}       = -2\\{\\log \\mathcal{L}(\\theta^{()}) - \\log \\mathcal{L}_{\\max}\\}.$$","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_aic_delta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","text":"","code":"calc_model_aic_delta(loglik)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_aic_delta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","text":"loglik Numeric vector log-likelihoods (one per draw). Higher better.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_aic_delta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","text":"Numeric vector \\(\\Delta\\) values (length loglik).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_aic_delta.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Î”AIC from log-likelihoods â€” calc_model_aic_delta","text":"","code":"set.seed(1) ll <- 1000 + rnorm(10, sd = 2) calc_model_aic_delta(ll) #>  [1] 8.886938 5.646550 9.723638 0.000000 5.063092 9.662997 4.431407 3.427824 #>  [9] 4.077998 7.602677"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"Converts \\(\\Delta\\) values Akaike weights $$w_i(\\tau) \\propto \\exp\\!\\left(-\\tfrac{1}{2}\\Delta_i / \\tau\\right)$$ normalized weights \\(\\tilde w_i = w_i/\\sum_j w_j\\), optional truncation delta_max. temperature \\(\\tau\\) flattens (\\(\\tau > 1\\)) sharpens (\\(\\tau < 1\\)) weight distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"","code":"calc_model_akaike_weights(delta, delta_max = 6, temperature = 1)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"delta Numeric vector AIC differences \\(\\Delta_i\\). Derived calc_model_aic_delta(). delta_max Numeric Î” cutoff truncation (default 6). Weights \\(\\Delta_i > \\texttt{delta_max}\\) set zero; set Inf disable. temperature Positive scalar temperature \\(\\tau\\); 1 reproduces standard Akaike weights (default). \\(\\tau > 1\\) flattens weights (raises ESS), \\(\\tau < 1\\) sharpens (concentration top draw).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"list : w        â€” raw (possibly truncated) Akaike weights (temperature). w_tilde  â€” normalized weights \\(\\tilde w\\). retained â€” logical vector; TRUE \\(\\Delta_i \\le \\texttt{delta_max}\\). B_idx    â€” integer indices retained draws. delta_maxâ€” cutoff used. temperature â€” temperature used.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":"choosing-temperature","dir":"Reference","previous_headings":"","what":"Choosing temperature","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"Default: temperature = 1. Mild flattening: 1.5â€“2. Use one two draws dominate want smoother posterior plots higher ESS. Strong flattening: 3â€“5. Use sparingly; weights become nearly uniform discrimination drops. practical target pick temperature max(normalized weight) \\(\\le\\) 0.5.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_akaike_weights.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Truncated Akaike weights with optional temperature scaling â€” calc_model_akaike_weights","text":"","code":"set.seed(1) ll <- 1000 + rnorm(200, sd = 3) d  <- calc_model_aic_delta(ll) # Standard (tau = 1) aw1 <- calc_model_akaike_weights(d, delta_max = 20) # Mild flattening aw2 <- calc_model_akaike_weights(d, delta_max = 20, temperature = 2) c(max_w1 = max(aw1$w / sum(aw1$w)), max_w2 = max(aw2$w / sum(aw2$w))) #>     max_w1     max_w2  #> 0.18274515 0.06495264"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"Calculates model-weight agreement diagnostics calibration results writes per-simulation data (Parquet) aggregate diagnostics (JSON) files. function measures model-weight agreement evidence concentration, MCMC convergence.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"","code":"calc_model_convergence(   PATHS,   results,   output_dir,   delta_max = 6,   temperature = 1,   ess_min = 1000,   A_min = 0.75,   cvw_max = 1,   B_min = 2,   max_w_max = 0.5,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"PATHS MOSAIC paths object get_paths(). results Data frame columns: sim, seed, likelihood (optionally others). output_dir Character string specifying directory write output files. delta_max Numeric Î” cutoff used truncation (default 6). temperature Positive scalar temperature weight scaling (default 1). See calc_model_akaike_weights() guidance. ess_min Numeric target minimum effective sample size (ESS; default 1000). A_min Numeric target minimum agreement index (default 0.75). cvw_max Numeric target maximum coefficient variation weights (default 1.0). B_min Integer target minimum retained set size \\(B\\) (default 2). max_w_max Numeric (0, 1] maximum allowed normalized weight (default 0.5). verbose Logical indicating whether print progress messages (default TRUE).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"list summary information: status â€” Overall convergence status (\"PASS\", \"WARN\", \"FAIL\") n_total â€” Total number simulations n_successful â€” Number successful simulations (finite likelihood) n_retained â€” Number simulations retained set files_written â€” Vector output file names","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"important-note","dir":"Reference","previous_headings":"","what":"Important Note","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"function measures model-weight agreement evidence concentration, MCMC convergence. MCMC diagnostics, use R-hat, effective sample size chains, trace plots, etc. \"convergence\" terminology refers agreement across ensemble parameter draws, chain convergence.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"file-outputs","dir":"Reference","previous_headings":"","what":"File Outputs","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"function writes two files output directory: convergence_results.parquet â€” Per-simulation data columns: sim, seed, likelihood, aic, delta_aic, w, w_tilde, retained convergence_diagnostics.json â€” Aggregate metrics human-readable descriptions, targets, pass/fail status","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_convergence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate convergence diagnostics and write to files â€” calc_model_convergence","text":"","code":"if (FALSE) { # \\dontrun{ # Prepare results data frame results <- data.frame(   sim = 1:1000,   seed = 1001:2000,   likelihood = 1500 + rnorm(1000, sd = 3) )  # Calculate convergence and write files summary <- calc_model_convergence(   PATHS = get_paths(),   results = results,   output_dir = \"path/to/output\",   temperature = 1.5 )  print(summary) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":null,"dir":"Reference","previous_headings":"","what":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"Computes correlation observed series model-estimated series. default Pearson's correlation. Inputs may numeric vectors matrices; values flattened compared pairwise. optional set non-negative weights can supplied weighted Pearson correlation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"","code":"calc_model_cor(   observed,   estimated,   method = c(\"pearson\", \"spearman\", \"kendall\"),   na_rm = TRUE,   finite_only = TRUE,   weights = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"observed numeric vector matrix observed values. estimated numeric vector matrix model-estimated values length (flattening) observed. method Correlation type. One \"pearson\" (default), \"spearman\", \"kendall\". na_rm Logical; TRUE (default), remove pair NA. FALSE NA/Inf found (lengths mismatch), returns NA_real_. finite_only Logical; TRUE (default), also drop non-finite values (Inf, -Inf, NaN) pairwise filtering. weights Optional numeric vector non-negative weights (recycled length 1). used method = \"pearson\"; ignored otherwise. verbose Logical; TRUE, emit brief diagnostic messages.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"single numeric value: correlation coefficient chosen method. Returns NA_real_ fewer two valid pairs remain variance term zero.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"removing invalid pairs (see na_rm finite_only), weighted Pearson correlation : $$ r_w \\;=\\; \\frac{\\sum_i w_i (x_i - \\bar{x}_w) (y_i - \\bar{y}_w)}{            \\sqrt{\\sum_i w_i (x_i - \\bar{x}_w)^2}\\;            \\sqrt{\\sum_i w_i (y_i - \\bar{y}_w)^2}}, $$ \\(\\bar{x}_w = \\frac{\\sum_i w_i x_i}{\\sum_i w_i}\\) similarly \\(\\bar{y}_w\\). weights = NULL, standard (unweighted) Pearson correlation returned. method = \"spearman\" \"kendall\", provided weights ignored.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"input-shapes","dir":"Reference","previous_headings":"","what":"Input shapes","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"Vectors matrices supported. Matrices flattened (column-major) observed estimated pairwise comparison.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pearson (or Rank) Correlation Between Observed and Estimated Series â€” calc_model_cor","text":"","code":"# Vector example set.seed(2) y  <- rpois(20, 10) yh <- y + rnorm(20, 0, 2) calc_model_cor(y, yh)                   # Pearson (default) #> [1] 0.8853289 calc_model_cor(y, yh, method = \"spearman\") #> [1] 0.8788916  # Matrix example Y  <- matrix(rpois(30, 5), nrow = 3) Yh <- Y + matrix(rnorm(30, 0, 1), nrow = 3) calc_model_cor(Y, Yh) #> [1] 0.9191996  # Weighted Pearson (e.g., emphasize recent weeks) w <- rep(seq(0.5, 1.5, length.out = ncol(Y)), each = nrow(Y)) calc_model_cor(Y, Yh, weights = w) #> [1] 0.9154576"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cvw.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficient of variation of (retained) weights â€” calc_model_cvw","title":"Coefficient of variation of (retained) weights â€” calc_model_cvw","text":"Computes \\(\\mathrm{CV}_{\\tilde{\\mathbf w}} = \\mathrm{sd}(\\tilde{\\mathbf w}) / \\mathrm{mean}(\\tilde{\\mathbf w})\\) retained set \\(\\mathcal B = \\{: w_i > 0\\}\\), normalizing within \\(\\mathcal B\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cvw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficient of variation of (retained) weights â€” calc_model_cvw","text":"","code":"calc_model_cvw(w)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cvw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficient of variation of (retained) weights â€” calc_model_cvw","text":"w Numeric vector weights (raw normalized). Smaller CV indicates less skew.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cvw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficient of variation of (retained) weights â€” calc_model_cvw","text":"Scalar CV weights retained set; NA \\(|\\mathcal B| < 2\\).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_cvw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coefficient of variation of (retained) weights â€” calc_model_cvw","text":"","code":"set.seed(1) ll <- 1000 + rnorm(200, sd = 3) d  <- calc_model_aic_delta(ll) aw <- calc_model_akaike_weights(d) calc_model_cvw(aw$w) #> [1] 0.9977111"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"Computes effective sample size using either Kish formula perplexity (entropy-based) method.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"","code":"calc_model_ess(w, method = c(\"kish\", \"perplexity\"), na_rm = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"w Numeric vector nonnegative weights (normalized ). method Character string specifying calculation method: \"kish\" (default) \"perplexity\". na_rm Logical; remove non-finite entries w. Default TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"Numeric scalar: effective sample size.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"Two methods available: Kish method (method = \"kish\"): Uses standard Kish ESS formula: \\(\\mathrm{ESS} = (\\sum w)^2 / \\sum w^2\\). provides measure much information retained using weighted samples compared unweighted sample size. Perplexity method (method = \"perplexity\"): Uses exponential entropy: \\(\\mathrm{ESS} = \\exp(-\\sum w_i \\log w_i)\\), weights first normalized sum 1. measures effective number models based entropy weight distribution. Also known perplexity exponential entropy. methods yield values 1 (weight one model) \\(n\\) (uniform weights), measure slightly different aspects weight concentration. Kish formula commonly used survey sampling, perplexity common information theory model averaging.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"Kish, L. (1965). Survey Sampling. Wiley.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Effective Sample Size (ESS) â€” calc_model_ess","text":"","code":"# Uniform weights w_uniform <- rep(1/10, 10) calc_model_ess(w_uniform, method = \"kish\")       # 10 #> [1] 10 calc_model_ess(w_uniform, method = \"perplexity\") # 10 #> [1] 10  # Concentrated weights w_conc <- c(0.9, rep(0.01, 10)) calc_model_ess(w_conc, method = \"kish\")       # ~1.2 #> [1] 1.233046 calc_model_ess(w_conc, method = \"perplexity\") # ~1.5 #> [1] 1.742536"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess_parameter.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","title":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","text":"Computes effective sample size (ESS) individual parameters using kernel density estimation approximate marginal posteriors. method integrates parameters provide true measure information content parameter individually.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess_parameter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","text":"","code":"calc_model_ess_parameter(   results,   param_names,   likelihood_col = \"likelihood\",   n_grid = 100,   method = c(\"kish\", \"perplexity\"),   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess_parameter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","text":"results Data frame containing simulation results param_names Character vector parameter names analyze (required) likelihood_col Character name column containing log-likelihood values (default: \"likelihood\") n_grid Integer number grid points KDE evaluation (default: 100) method Character string specifying ESS calculation method: \"kish\" (default) \"perplexity\" verbose Logical whether print progress messages (default: FALSE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess_parameter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","text":"Data frame columns: parameter: Parameter name type: Parameter type ('global' 'location') iso_code: ISO code location parameters (NA global) ess_marginal: Marginal ESS parameter","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_ess_parameter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Parameter-Specific ESS using Kernel Density Estimation â€” calc_model_ess_parameter","text":"","code":"if (FALSE) { # \\dontrun{ # Basic usage with simulation results ess_results <- calc_model_ess_parameter(   results = simulation_results,   param_names = c(\"tau_i\", \"mu_j\", \"gamma_2\") )  # With custom likelihood column name ess_results <- calc_model_ess_parameter(   results = simulation_results,   param_names = c(\"tau_i\", \"mu_j\", \"gamma_2\"),   likelihood_col = \"log_lik\" )  } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","title":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","text":"simplified, robust wrapper scoring model fits MOSAIC. core Negative Binomial (NB) time-series log-likelihood per location outcome (cases, deaths) weighted MoM dispersion estimate small k_min floor.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","text":"","code":"calc_model_likelihood(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   weight_cases = NULL,   weight_deaths = NULL,   weights_location = NULL,   weights_time = NULL,   config = NULL,   nb_k_min = 3,   zero_buffer = TRUE,   verbose = FALSE,   add_max_terms = TRUE,   add_peak_timing = TRUE,   add_peak_magnitude = TRUE,   add_cumulative_total = TRUE,   add_wis = TRUE,   weight_max_terms = 0.5,   weight_peak_timing = 0.5,   weight_peak_magnitude = 0.5,   weight_cumulative_total = 0.3,   weight_wis = 0.8,   sigma_peak_time = 1,   sigma_peak_log = 0.5,   penalty_unmatched_peak = -3,   wis_quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975),   cumulative_timepoints = c(0.25, 0.5, 0.75, 1),   enable_guardrails = TRUE,   floor_likelihood = -999999999,   guardrail_verbose = FALSE,   cumulative_over_ratio = 10,   cumulative_under_ratio = 0.1,   min_cumulative_for_check = 100,   negative_correlation_threshold = 0,   max_timestep_ratio = 100,   min_timestep_ratio = 0.01,   min_obs_for_ratio = 1 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","text":"obs_cases, est_cases Matrices n_locations x n_time_steps observed estimated cases. obs_deaths, est_deaths Matrices n_locations x n_time_steps observed estimated deaths. weight_cases, weight_deaths Optional scalar weights case/death blocks. Default 1. weights_location Optional length-n_locations non-negative weights. weights_time Optional length-n_time_steps non-negative weights. config Optional LASER configuration list containing location_name, date_start, date_stop. nb_k_min Numeric; minimum NB dispersion floor used core NB likelihood WIS quantiles. Default 3. zero_buffer Kept backward compatibility (used NB core). verbose Logical; TRUE, prints component summaries per location. add_max_terms Logical; legacy max Poisson terms. Default FALSE. add_peak_timing, add_peak_magnitude, add_cumulative_total Logical; default TRUE. add_wis Logical; default FALSE. weight_max_terms Component weight max terms. Default 0.5. weight_peak_timing, weight_peak_magnitude, weight_cumulative_total Component weights. Defaults 0.5, 0.5, 0.3. weight_wis Component weight optional WIS term. sigma_peak_time SD (weeks) peak timing Normal; default 1. sigma_peak_log Base SD log-scale peak magnitude; default 0.5. Automatically scaled sqrt(100/max(peak_obs,100)) allow variance smaller peaks. penalty_unmatched_peak Log-likelihood penalty unmatched peaks; default -3. wis_quantiles Quantiles WIS enabled. cumulative_timepoints Fractions cumulative progression; default c(0.25,0.5,0.75,1). enable_guardrails Logical; default TRUE. floor_likelihood Numeric; hard floor returned violations. Default -999999999. guardrail_verbose Logical; print guardrail reasons. cumulative_over_ratio, cumulative_under_ratio Cumulative ratio bounds (default 10, 0.1). min_cumulative_for_check Minimum observed total apply ratio checks; default 100. negative_correlation_threshold Correlation floor; default 0 (requires positive correlation). max_timestep_ratio Maximum ratio estimated observed per timestep (default 100). min_timestep_ratio Minimum ratio estimated observed per timestep (default 0.01). min_obs_for_ratio Minimum observed value apply ratio checks (default 1).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","text":"Scalar total log-likelihood (finite) floor_likelihood floored. May NA_real_ locations contribute nothing.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_likelihood.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute the total model likelihood (Simplified) â€” calc_model_likelihood","text":"default, three \"shape\" terms included modest weights: (1) multi-peak timing (Normal time differences matched peaks), (2) multi-peak magnitude (log-Normal ratios adaptive sigma), (3) cumulative progression (NB cumulative fractions). Minimal inline guardrails floor score egregious fits (cumulative /prediction, per-timestep caps, negative correlation). Optional max terms WIS kept default.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Composite Loss of a Model â€” calc_model_loss","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"Computes simple composite loss model fit defined $$ \\mathcal{L} \\;=\\; \\alpha \\cdot \\mathrm{MSE}(y, \\hat{y}) \\;-\\; \\beta \\cdot \\mathrm{Corr}(y, \\hat{y}), $$ \\(\\mathrm{MSE}\\) (optionally weighted) mean squared error \\(\\mathrm{Corr}\\) (optionally weighted) Pearson correlation. Lower values indicate better fit (since large positive correlation reduces loss).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"","code":"calc_model_loss(   observed,   estimated,   alpha = 1,   beta = 1,   na_rm = TRUE,   finite_only = TRUE,   weights = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"observed numeric vector matrix observed values. estimated numeric vector matrix model-estimated values length (flattening) observed. alpha Non-negative scalar weight MSE term. Default 1. beta Non-negative scalar weight correlation term. Default 1. na_rm Logical; TRUE (default), drop pair NA. finite_only Logical; TRUE (default), also drop non-finite values (Inf, -Inf, NaN) pairwise. weights Optional numeric vector non-negative weights (recycled length 1). Used MSE Pearson correlation keep consistency. NULL (default), valid pairs receive equal weight. verbose Logical; TRUE, emit brief diagnostic messages.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"single numeric value: \\(\\alpha \\cdot \\mathrm{MSE} - \\beta \\cdot \\mathrm{Corr}\\). Returns NA_real_ either component computed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"Inputs may vectors matrices (e.g., locations \\(\\times\\) time). flattened compared pairwise optional removal non-finite values. MSE correlation computed delegating calc_model_mse() calc_model_cor() (method = \"pearson\"), using identical filtering options valid pairs consistent components. either component NA (e.g., valid pairs zero variance), loss returned NA_real_.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"interpretation","dir":"Reference","previous_headings":"","what":"Interpretation","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"Lower better. High MSE increases loss; high positive correlation decreases loss. Negative correlation increases loss. Units depend scale observed/estimated (via MSE) dimensionless correlation term. Choose alpha, beta balance scales.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_loss.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Composite Loss of a Model â€” calc_model_loss","text":"","code":"set.seed(3) y  <- rpois(50, 10) yh <- y + rnorm(50, 0, 2)  # Default: alpha = 1, beta = 1 calc_model_loss(y, yh) #> [1] 1.483312  # Emphasize correlation relative to MSE calc_model_loss(y, yh, alpha = 0.5, beta = 2) #> [1] -0.5973181  # Matrix example (locations x time) with recency weights Y  <- matrix(rpois(60, 5), nrow = 3)     # 3 locations x 20 weeks Yh <- Y + matrix(rnorm(60, 0, 1), nrow = 3) w  <- rep(seq(0.5, 1.5, length.out = ncol(Y)), each = nrow(Y)) calc_model_loss(Y, Yh, weights = w) #> [1] 0.4001887"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_max_weight.html","id":null,"dir":"Reference","previous_headings":"","what":"Maximum normalized weight over the retained set â€” calc_model_max_weight","title":"Maximum normalized weight over the retained set â€” calc_model_max_weight","text":"Computes \\(\\max_{\\\\mathcal B} \\tilde w_i\\) \\(\\mathcal B = \\{: w_i > 0\\}\\) \\(\\tilde w\\) weights normalized within \\(\\mathcal B\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_max_weight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Maximum normalized weight over the retained set â€” calc_model_max_weight","text":"","code":"calc_model_max_weight(w)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_max_weight.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Maximum normalized weight over the retained set â€” calc_model_max_weight","text":"w Numeric vector weights (raw normalized). Smaller better; 1 indicates single retained draw.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_max_weight.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Maximum normalized weight over the retained set â€” calc_model_max_weight","text":"Scalar maximum normalized weight \\(\\max_i \\tilde w_i\\); NA none retained.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_max_weight.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Maximum normalized weight over the retained set â€” calc_model_max_weight","text":"","code":"set.seed(1) ll <- 1000 + rnorm(200, sd = 3) d  <- calc_model_aic_delta(ll) aw <- calc_model_akaike_weights(d) calc_model_max_weight(aw$w) #> [1] 0.2057606"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":null,"dir":"Reference","previous_headings":"","what":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"Computes mean squared error (MSE) observed series model-estimated series. Inputs may numeric vectors matrices (e.g., \\(L \\times T\\) location--time arrays); values flattened compared pairwise optional weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"","code":"calc_model_mse(   observed,   estimated,   na_rm = TRUE,   finite_only = TRUE,   weights = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"observed numeric vector matrix observed values. estimated numeric vector matrix model-estimated values length (flattening) observed. na_rm Logical; TRUE (default), remove pair NA. FALSE NA/Inf found (lengths mismatch), returns NA_real_. finite_only Logical; TRUE (default), also drop non-finite values (Inf, -Inf, NaN) pairwise filtering. weights Optional numeric vector non-negative weights (recycled length 1). Must align number valid pairs filtering. NULL (default), pairs receive equal weight. verbose Logical; TRUE, emit brief diagnostic messages.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"single numeric value: mean squared error. Returns NA_real_ fewer one valid pair remains total weight zero.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"Let \\(\\{(y_i, \\hat{y}_i)\\}_{=1}^{n}\\) set valid pairs removing entries NA/Inf (na_rm = TRUE finite_only = TRUE). weighted MSE $$ \\mathrm{MSE}_w \\;=\\; \\frac{\\sum_{=1}^{n} w_i \\, ( \\hat{y}_i - y_i )^2}{\\sum_{=1}^{n} w_i}, $$ reduces standard unweighted MSE \\(w_i \\equiv 1\\).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"input-shapes","dir":"Reference","previous_headings":"","what":"Input shapes","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"Vectors matrices supported. Matrices flattened (column-major) observed estimated pairwise comparison.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_mse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mean Squared Error Between Observed and Estimated Series â€” calc_model_mse","text":"","code":"# Vector example set.seed(1) y  <- rpois(20, 10) yh <- y + rnorm(20, 0, 2) calc_model_mse(y, yh) #> [1] 2.708462  # Matrix example (locations x time) Y  <- matrix(rpois(30, 5), nrow = 3) Yh <- Y + matrix(rnorm(30, 0, 1), nrow = 3) calc_model_mse(Y, Yh) #> [1] 0.9081703  # With weights (e.g., emphasize recent time points) w <- rep(seq(0.5, 1.5, length.out = ncol(Y)), each = nrow(Y)) calc_model_mse(Y, Yh, weights = w) #> [1] 0.8112577"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"Fits theoretical distributions posterior quantiles creates posteriors.json file mirrors structure priors.json file updated parameter values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"","code":"calc_model_posterior_distributions(   quantiles_file = \"./results/posterior_quantiles.csv\",   priors_file,   output_dir = \"./results\",   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"quantiles_file Path posterior_quantiles.csv file (default: \"./results/posterior_quantiles.csv\") priors_file Path priors.json file use template output_dir Directory save posteriors.json (default: \"./results\") verbose Logical; print progress messages (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"List containing: posteriors complete posteriors object n_parameters_updated Number parameters successfully updated n_parameters_failed Number parameters failed fit output_file Path created posteriors.json file","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"function: Reads posterior_quantiles.csv file produced calc_model_posterior_quantiles est_npe_posterior Processes quantile rows file (user controls include) Loads priors.json template structure posterior parameter quantiles table: Extracts 2.5%, 50%, 97.5% quantiles Calls appropriate fit_*_from_ci function based distribution type Updates corresponding entry posteriors structure Preserves non-estimated parameters priors unchanged Properly handles location-specific parameters single multiple countries Writes posteriors.json output directory","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_distributions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Model Posterior Distributions from Quantiles â€” calc_model_posterior_distributions","text":"","code":"if (FALSE) { # \\dontrun{ # Standard usage after running calc_model_posterior_quantiles posterior_dists <- calc_model_posterior_distributions(   quantiles_file = \"./results/posterior_quantiles.csv\",   priors_file = \"./config/priors.json\",   output_dir = \"./results\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","title":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","text":"Calculates quantiles prior (simulations) posterior (weighted best subset) distributions, KL divergence using KDE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","text":"","code":"calc_model_posterior_quantiles(   results,   probs = c(0.025, 0.25, 0.5, 0.75, 0.975),   output_dir = \"./results\",   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","text":"results Data frame calibration results containing parameter columns index columns (is_finite, is_retained, is_best_subset) probs Numeric vector quantile probabilities (default: c(0.025, 0.25, 0.5, 0.75, 0.975)) output_dir Directory path save results (default: \"./results\") verbose Logical; print progress messages (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_quantiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","text":"Data frame prior posterior quantiles plus KL divergence","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_posterior_quantiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Prior and Posterior Quantiles with KL Divergence â€” calc_model_posterior_quantiles","text":"function: Calculates unweighted quantiles finite simulations (prior) Calculates weighted quantiles best subset (posterior) Computes KL divergence using KDE empirical distributions Returns prior posterior rows 'type' identifier KL divergence appears posterior rows","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":null,"dir":"Reference","previous_headings":"","what":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"Converts numeric vector model scores (treated loss-like, .e., lower--better) normalized posterior weights using Gibbs (generalized Bayes) formulation: $$w_m(\\eta) = \\frac{\\exp(-\\eta \\, x_m)}{\\sum_{j=1}^K \\exp(-\\eta \\, x_j)} \\,,$$ \\(x_m\\) loss (information criterion) model \\(m\\) \\(\\eta \\ge 0\\) inverse temperature (sharpness) parameter.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"","code":"calc_model_weights_gibbs(x, temperature, verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"x Numeric vector model scores (treated loss-like; lower better). temperature Non-negative scalar inverse temperature \\(\\eta\\). Higher values concentrate weight best models; lower values flatten weights. Typical choices: 0.5 \\(\\Delta\\)AIC (Akaike weights), 1 \\(-\\log L\\). verbose Logical; TRUE, prints brief diagnostics (range x, applied shift, entropy, effective number models).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"numeric vector length length(x) containing weights sum 1. Names preserved present.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"function agnostic specific form \\(x\\); smaller values assumed indicate better models. Common choices include: \\(x = \\Delta \\mathrm{AIC}\\) \\; (use temperature = 1/2 recover Akaike weights), \\(x = -\\log L\\) \\; (use temperature = 1 normalized likelihood weights), Cross-validated losses (e.g., RMSE, MSLE), proper scoring rule. start higher--better score (e.g., log-likelihood), pass x = -score lower--better holds. Numerical stability: implementation subtracts \\(\\min(x)\\) prior exponentiation; shift leaves normalized weights unchanged helps avoid underflow/overflow. Special cases: temperature = 0: uniform weights. temperature = Inf: hard selection (ties share weight equally). x equal: uniform weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"Bissiri, P. G., Holmes, C. C., & Walker, S. G. (2016). general framework updating belief distributions. Journal Royal Statistical Society: Series B, 78(5), 1103â€“1130. doi:10.1111/rssb.12158","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_model_weights_gibbs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gibbs-Posterior Model Weights â€” calc_model_weights_gibbs","text":"","code":"# Three models with Delta AIC = (0, 2, 6): Akaike weights via temperature = 0.5 calc_model_weights_gibbs(x = c(0, 2, 6), temperature = 0.5) #> [1] 0.70538451 0.25949646 0.03511903  # From negative log-likelihoods: normalized likelihood weights with temperature = 1 calc_model_weights_gibbs(x = c(120.3, 121.1, 124.8), temperature = 1) #> [1] 0.68472611 0.30766727 0.00760662  # Using a CV loss (lower is better) with moderate sharpness set.seed(1) losses <- c(A = 0.83, B = 0.81, C = 0.92) calc_model_weights_gibbs(losses, temperature = 3, verbose = TRUE) #> Gibbs weights with temperature = 3 #> Input range: min = 0.81, max = 0.92, spread = 0.11 #> Stabilization: subtract min(x) = 0.81 before exponentiation. #> Entropy = 1.0890; effective number of models = 2.971 #>         A         B         C  #> 0.3539552 0.3758426 0.2702022   # Temperature extremes calc_model_weights_gibbs(c(1, 2, 5), temperature = 0)      # uniform #> [1] 0.3333333 0.3333333 0.3333333 calc_model_weights_gibbs(c(1, 2, 5), temperature = Inf)    # hard selection #> [1] 1 0 0"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_architecture.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate NPE Architecture Specification â€” calc_npe_architecture","title":"Calculate NPE Architecture Specification â€” calc_npe_architecture","text":"Automatically determines optimal neural network architecture based problem dimensions, v5.2 features including guards ramping.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_architecture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate NPE Architecture Specification â€” calc_npe_architecture","text":"","code":"calc_npe_architecture(   n_sims,   n_params,   n_timesteps,   n_locations,   tier = \"auto\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_architecture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate NPE Architecture Specification â€” calc_npe_architecture","text":"n_sims Number simulations available n_params Number parameters estimate n_timesteps Number time points observations n_locations Number spatial locations tier Architecture tier: \"auto\", \"minimal\", \"small\", \"medium\", \"large\", \"xlarge\" verbose Print architecture details","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_architecture.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate NPE Architecture Specification â€” calc_npe_architecture","text":"List architecture specification","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","title":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","text":"Performs comprehensive SBC diagnostics NPE models trained train_npe(). Tests calibration sampling priors, generating synthetic data, running NPE inference, checking coverage/uniformity posterior distributions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","text":"","code":"calc_npe_diagnostics(   n_sbc_sims,   model,   npe_model_dir = NULL,   PATHS,   priors,   config_base,   param_names = NULL,   n_npe_samples = 100,   probs = c(0.025, 0.25, 0.75, 0.975),   seed_offset = 1000,   output_dir = NULL,   verbose = TRUE,   parallel = FALSE,   n_cores = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","text":"n_sbc_sims Integer number SBC test simulations run model NPE model object train_npe() (required) npe_model_dir Character path NPE model directory (optional, extracted model) PATHS List containing project paths get_paths() priors Prior distributions object get_location_priors() config_base Base configuration get_location_config() param_names Character vector parameter names (optional, extracted model) n_npe_samples Number NPE posterior samples per test (default 100) probs Numeric vector quantiles coverage (default c(0.025, 0.25, 0.75, 0.975)) seed_offset Integer offset random seeds (default 1000) output_dir Character path save diagnostic files (required plotting) verbose Logical whether print progress messages (default TRUE) parallel Logical whether run simulations parallel (default FALSE) n_cores Number cores parallel processing (default NULL = auto)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_diagnostics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","text":"List SBC diagnostic results compatible test_17 workflow: coverage Matrix coverage indicators (n_sbc_sims x n_params) sbc_ranks Matrix SBC ranks (n_sbc_sims x n_params) summary Data frame per-parameter summary statistics param_names Character vector parameter names diagnostics List overall diagnostic metrics retraining decisions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_diagnostics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate NPE Model Diagnostics with Simulation-Based Calibration (SBC) â€” calc_npe_diagnostics","text":"function specifically designed test_17 calibration workflow. uses estimate_npe_posterior() inference produces output files compatible plot_npe_convergence_status().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate NPE Importance Weights (Deprecated) â€” calc_npe_weights","title":"Calculate NPE Importance Weights (Deprecated) â€” calc_npe_weights","text":"DEPRECATED: Use get_npe_weights() BFRS-based weights direct assignment. function calculates importance weights scratch, can lead inconsistencies BFRS weights. Calculates importance weights NPE training. Can either compute new weights likelihood values use pre-calculated BFRS weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate NPE Importance Weights (Deprecated) â€” calc_npe_weights","text":"","code":"calc_npe_weights(   likelihoods = NULL,   strategy = \"continuous\",   bfrs_results = NULL,   temperature = NULL,   effective_range = 30,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate NPE Importance Weights (Deprecated) â€” calc_npe_weights","text":"likelihoods Vector likelihood values BFRS (optional using BFRS weights) strategy Weight strategy: \"binary\", \"continuous\", \"uniform\", \"continuous_retained\", \"binary_retained\", \"continuous_best\", \"binary_best\" bfrs_results BFRS results object containing weight_retained weight_best (required BFRS weight strategies) temperature Temperature parameter continuous weights (NULL, computed automatically) effective_range Effective AIC range temperature calculation (default 25) verbose Print weight statistics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_npe_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate NPE Importance Weights (Deprecated) â€” calc_npe_weights","text":"Vector normalized weights","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_optimal_batch_schedule.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Optimal Batch Schedule â€” calc_optimal_batch_schedule","title":"Calculate Optimal Batch Schedule â€” calc_optimal_batch_schedule","text":"Plans efficient sequence batch sizes reach convergence based current ESS accumulation patterns.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_optimal_batch_schedule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Optimal Batch Schedule â€” calc_optimal_batch_schedule","text":"","code":"calc_optimal_batch_schedule(   rate_analysis,   max_batch_size = 5000,   min_batch_size = 100 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_optimal_batch_schedule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Optimal Batch Schedule â€” calc_optimal_batch_schedule","text":"rate_analysis Output calc_ess_accumulation_rate max_batch_size Maximum allowed batch size min_batch_size Minimum allowed batch size","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_optimal_batch_schedule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Optimal Batch Schedule â€” calc_optimal_batch_schedule","text":"Vector recommended batch sizes","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_pearson_correlation_safe.html","id":null,"dir":"Reference","previous_headings":"","what":"Safely calculate Pearson correlation handling edge cases â€” calc_pearson_correlation_safe","title":"Safely calculate Pearson correlation handling edge cases â€” calc_pearson_correlation_safe","text":"Safely calculate Pearson correlation handling edge cases","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_pearson_correlation_safe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Safely calculate Pearson correlation handling edge cases â€” calc_pearson_correlation_safe","text":"","code":"calc_pearson_correlation_safe(x, y)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_pearson_correlation_safe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Safely calculate Pearson correlation handling edge cases â€” calc_pearson_correlation_safe","text":"x Numeric vector y Numeric vector","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_pearson_correlation_safe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Safely calculate Pearson correlation handling edge cases â€” calc_pearson_correlation_safe","text":"Numeric correlation coefficient NA calculated","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_predictive_batch_size.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Predictive Batch Size for Near-Complete Convergence â€” calc_predictive_batch_size","title":"Calculate Predictive Batch Size for Near-Complete Convergence â€” calc_predictive_batch_size","text":"calibration phase, predicts number simulations needed reach near-convergence (e.g., 90-95% target) single large batch.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_predictive_batch_size.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Predictive Batch Size for Near-Complete Convergence â€” calc_predictive_batch_size","text":"","code":"calc_predictive_batch_size(   ess_history,   target_ess,   safety_factor = 0.9,   max_batch_size = 10000,   confidence_threshold = 0.7 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_predictive_batch_size.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Predictive Batch Size for Near-Complete Convergence â€” calc_predictive_batch_size","text":"ess_history List ESS measurements calibration phase target_ess Target ESS value convergence safety_factor Factor apply (e.g., 0.9 = aim 90% needed sims) max_batch_size Maximum allowed batch size confidence_threshold Minimum R-squared prediction (default: 0.7)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_predictive_batch_size.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Predictive Batch Size for Near-Complete Convergence â€” calc_predictive_batch_size","text":"List recommended batch size prediction details","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":null,"dir":"Reference","previous_headings":"","what":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"Transforms daily suitability series \\(\\psi_t \\[0,1]\\) logit-scale affine calibration, optional causal EWMA smoothing, optional time offset \\(k\\). missing values introduced shift (pre-existing) filled using either LOCF (default) linear interpolation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"","code":"calc_psi_star(   psi,   a = 1,   b = 0,   z = 1,   k = 0,   eps = 1e-06,   fill_method = c(\"locf\", \"linear\"),   warn_k_rounding = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"psi Numeric vector \\([0,1]\\) (daily suitability \\(\\psi_t\\)). Numeric (>0). Shape/gain logit scale (\\(>1\\) sharpens; \\(<1\\) flattens). b Numeric. Scale/offset logit scale (baseline /). z Numeric \\((0,1]\\) controlling causal EWMA smoothing; 1 = smoothing. k Numeric integer; time offset days. Positive = forward/right; negative = backward/left. Non-integers rounded nearest integer. eps Small positive number clip psi away {0,1} qlogis. fill_method Character; one c(\"locf\",\"linear\") controlling NA gaps filled. warn_k_rounding Logical; TRUE (default), warns k rounded nearest integer. Set FALSE suppress warning.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"Numeric vector \\(\\tilde\\psi^{\\star}_t\\) (length psi): calibrated, offset, NA-filled, smoothed z<1.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"Offset (index shift, days): \\(\\psi^{(k)}_t = \\psi_{t-k}\\). Positive \\(k\\) shifts series forward/right (delay); negative \\(k\\) shifts backward/left. Non-integer \\(k\\) rounded nearest integer. Calibration (odds-space power & scale): $$\\psi_t^{\\star}=\\sigma\\!\\big(\\cdot \\mathrm{logit}(\\tilde\\psi_t)+b\\big),\\quad \\tilde\\psi_t=\\min\\{\\max(\\psi^{(k)}_t,\\varepsilon),\\,1-\\varepsilon\\}$$ \\(\\text{odds}^\\star_t = e^{b}\\,(\\text{odds}_t)^{}\\), \\; \\(\\text{odds}_t=\\tilde\\psi_t/(1-\\tilde\\psi_t)\\). Optional causal smoothing (look-ahead): $$\\tilde\\psi^{\\star}_t = z\\,\\psi^{\\star}_t + (1-z)\\,\\tilde\\psi^{\\star}_{t-1},\\quad z\\(0,1],\\ \\tilde\\psi^{\\star}_1=\\psi^{\\star}_1.$$ NA filling (calibration, smoothing): Choose via fill_method: \"locf\" â€” forward fill (LOCF) backward pass leading gaps. \"linear\" â€” linear interpolation interior gaps constant edge extension. values NA shifting, function falls back constant baseline \\(\\sigma(b)\\).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_psi_star.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calibrate Daily Suitability on the Logit Scale (vector; optional causal EWMA + time offset + NA filling) â€” calc_psi_star","text":"","code":"# Basic usage with integer k (no warnings) psi <- c(0.1, 0.3, 0.7, 0.9, 0.5) result1 <- calc_psi_star(psi, a = 1.2, b = 0.5, k = 2)  # Non-integer k with warning (default behavior) result2 <- calc_psi_star(psi, a = 1.2, b = 0.5, k = 2.744) #> Warning: `k` (2.744) is not an integer; rounding to 3.  # Non-integer k without warning result3 <- calc_psi_star(psi, a = 1.2, b = 0.5, k = 2.744, warn_k_rounding = FALSE)  # With EWMA smoothing result4 <- calc_psi_star(psi, a = 1.2, b = 0.5, k = 2, z = 0.8)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"Computes Pearson spatialâ€“correlation coefficient \\(\\mathcal{C}_{ij}\\) (Keeling & Rohani 2002) pair locations j single infection time-series per location.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"","code":"calc_spatial_correlation(I_i, I_j, N_i = 1, N_j = 1)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"I_i Numeric vector. Total infections location reporting time. I_j Numeric vector. Total infections location j reporting time. Must length I_i. N_i Numeric scalar vector. Population size(s) location . scalar, value recycled across time points. vector, must length infection series supplies time-varying population sizes. Default 1, implying infection counts already expressed prevalences. N_j Numeric scalar vector. Population size(s) location j. Recycling length rules mirror N_i. Default 1.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"Numeric scalar interval [-1, 1] giving spatial correlation two locations, NA_real_ calculation possible (e.g. values NA, zero variance).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"prevalence series \\(y_{} = I_{} / N_{,t}\\) \\(y_{jt} = I_{jt} / N_{j,t}\\), population sizes \\(N_{,t}\\) \\(N_{j,t}\\) may either scalars (constant time) vectors length infection series (time-varying). Rows containing NA either prevalence series removed automatically. fewer two paired observations remain, function returns NA_real_. consistency check stops execution computed prevalence exceeds 1.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"Keeling M.J., Rohani P. (2002) Ecology Letters 5, 20â€“29.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate spatial correlation between two locations â€” calc_spatial_correlation","text":"","code":"set.seed(1) t  <- 20 I_i <- rpois(t,  8) I_j <- rpois(t, 12) N_i <- round(seq(9.8e4, 1.02e5, len = t))   # growing population N_j <- 8e4                                   # constant population calc_spatial_correlation(I_i, I_j, N_i, N_j) #> [1] 0.1570293"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","title":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","text":"Given LASER simulation outputs, function constructs \\(J \\times J\\) matrix \\(\\mathbf C = [\\mathcal{C}_{ij}]\\) Pearson spatialâ€“correlation coefficients (Keeling & Rohani 2002) every pair locations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","text":"","code":"calc_spatial_correlation_matrix(I_sym, I_asym, N)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","text":"I_sym Numeric matrix (J Ã— T).  Symptomatic infections. I_asym Numeric matrix (J Ã— T).  Asymptomatic infections. Must dimensions I_sym. N Population sizes. Accepts single scalar (every j & t), length-J vector (different per location, constant time), full J Ã— T matrix (timeâ€‘varying populations).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","text":"J Ã— J symmetric numeric matrix whose \\((,j)\\) entry \\(\\mathcal{C}_{ij}\\); diagonal elements set 1. Pairs computed (NA, zero variance, etc.) NA_real_.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_correlation_matrix.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Build the full spatialâ€“correlation matrix across all locations â€” calc_spatial_correlation_matrix","text":"three input objects must arranged (locations J Ã— time T) (rows J locations; columns T time steps). Total infections time t location j taken \\(I_{jt} = ^{(\\mathrm{sym})}_{jt} + ^{(\\mathrm{asym})}_{jt}\\); converted prevalence dividing matching population size \\(N_{jt}\\).  Pair-wise correlations computed calc_spatial_correlation().","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate spatial importation hazard â€” calc_spatial_hazard","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"Computes daily probability least one new infection introduced destination location j day t using gravityâ€style coupling infectious prevalence across locations.  formulation adapted BjÃ¸rnstad & Grenfell (2008) () folds gravity weights directly prevalence term instead using separate coupling constant, (ii) allows â€‘reporting locationâ€specific parameter tau. Concretely, time t destination j hazard $$\\mathcal H_{jt} \\,=\\, \\frac{\\beta_{jt}\\,S^{\\*}_{jt}        \\bigl[1-\\exp\\{-(S^{\\*}_{jt}/N_{jt})\\,\\bar y_{jt}\\}\\bigr]}       {1+\\beta_{jt}\\,S^{\\*}_{jt}},$$ \\(S^{\\*}_{jt} = (1-\\tau_j)\\bigl(S_{jt}+V^{\\mathrm{sus}}_{1,jt}+V^{\\mathrm{sus}}_{2,jt}\\bigr)\\) locally susceptible pool (adjusted â€‘reporting tau<1). \\(\\bar y_{jt}\\) gravityâ€‘weighted prevalence infection entire metapopulation (including destination): $$\\bar y_{jt} = \\frac{ (1-\\tau_j)(I_{1,jt}+I_{2,jt}) +         \\sum_{\\neq j}\\tau_i\\,\\pi_{ij}\\,(I_{1,}+I_{2,}) }        {\\sum_{k} N_{kt} }.$$ Note: specification differs twoâ€‘stage form original paper used later work mobility matrix carries full coupling strength.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"","code":"calc_spatial_hazard(   beta,   tau,   pie,   N,   S,   V1_sus,   V2_sus,   I1,   I2,   time_names = NULL,   location_names = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"beta Numeric T Ã— J matrix. Human forceâ€‘â€‘infection parameter \\(\\beta_{jt}\\) time step (rows) location (columns). tau Numeric vector length J. Reporting proportion \\(\\tau_j \\(0,1]\\) location.  value 1 means perfect reporting; smaller values â€‘weight local susceptibles â€‘weight nonâ€‘local infections. pie Numeric J Ã— J matrix gravityâ€‘model mobility weights \\(\\pi_{ij}\\) origin destination j.  Diagonal entries ignored. N Numeric T Ã— J matrix total population \\(N_{jt}\\). S Numeric T Ã— J matrix fully susceptible individuals \\(S_{jt}\\). V1_sus, V2_sus Numeric T Ã— J matrices vaccineâ€‘derived susceptibles one two doses, respectively. I1, I2 Numeric T Ã— J matrices symptomatic asymptomatic infectives. time_names Optional character vector length T output row names. location_names Optional character vector length J output column names.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"numeric T Ã— J matrix H elements [0,1] giving spatial importation hazard timeâ€“location pair.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"Diagonal pie set zero internally.  matrices must matching dimensions; dimension checks throw informative errors.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"current formulation intentionally includes local infectious individuals \\bar y_{jt}.  wish model importation , set local contribution zero numerator.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"BjÃ¸rnstad, O. N., & Grenfell, B. T. (2008). Hazards, spatial transmission timing outbreaks epidemic metapopulations. Journal Theoretical Ecology, 1, 145â€‘153.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_spatial_hazard.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate spatial importation hazard â€” calc_spatial_hazard","text":"","code":"if (FALSE) { # \\dontrun{ set.seed(123) T_steps <- 10; J <- 5 beta <- matrix(runif(T_steps * J), nrow = T_steps, ncol = J) tau <- runif(J) pie <- matrix(runif(J^2), J, J); diag(pie) <- 0 N <- matrix(sample(200:400, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J) S <- matrix(sample(100:200, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J) V1_sus <- matrix(sample(0:50, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J) V2_sus <- matrix(sample(0:50, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J) I1 <- matrix(sample(0:10, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J) I2 <- matrix(sample(0:10, T_steps * J, replace = TRUE), nrow = T_steps, ncol = J)  H <- calc_spatial_hazard(beta, tau, pie, N, S, V1_sus, V2_sus, I1, I2,                          time_names = paste0(\"day_\", 1:T_steps),                          location_names = paste0(\"loc_\", 1:J))  plot_spatial_hazard(H) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":null,"dir":"Reference","previous_headings":"","what":"Weighted mode estimation using kernel density â€” calc_weighted_mode","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"Estimates mode weighted distribution using kernel density estimation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"","code":"calc_weighted_mode(x, w)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"x Numeric vector values w Numeric vector weights (length x)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"Estimated mode (scalar)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"Uses kernel density estimation weights find mode (peak density). Falls back weighted median density estimation fails.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/calc_weighted_mode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Weighted mode estimation using kernel density â€” calc_weighted_mode","text":"","code":"x <- c(1, 2, 2, 3, 3, 3, 4, 4, 5) w <- rep(1, 9) calc_weighted_mode(x, w) #> [1] 2.991082"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"Verifies numeric vector affine normalized zero-centered minimum value least -1. Specifically, function checks :","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"","code":"check_affine_normalization(x, verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"x numeric vector affine normalized. vector may contain NA values. verbose Logical; TRUE, function prints details check console.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"Invisibly returns NULL check passes. Otherwise, function stops error message detailing failed condition(s).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"mean vector (ignoring NAs) approximately zero. minimum value (ignoring NAs) greater equal -1. maximum value (ignoring NAs) zero. conditions fail, function stops execution returns informative error message. check uses tolerance 1e-8 account floating point precision. conditions verified correspond transformation defined : $$x_{\\text{scaled}} = \\frac{x - \\mu}{\\mu - \\min(x)}$$ \\(\\mu\\) mean x. Note transformation forces zero-centered result, minimum value need exactly -1 less -1.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_affine_normalization.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Affine Normalization (Zero-Centered Min-Max Scaling) â€” check_affine_normalization","text":"","code":"# Example vector after affine normalization x <- c(-1, 0, 0.5, 1.2, NA)  # Check without printing details: if (FALSE) { # \\dontrun{   check_affine_normalization(x) } # }  # Check with verbose output: if (FALSE) { # \\dontrun{   check_affine_normalization(x, verbose = TRUE) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_cumulative_mismatches.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for cumulative case and death mismatches â€” check_cumulative_mismatches","title":"Check for cumulative case and death mismatches â€” check_cumulative_mismatches","text":"Check cumulative case death mismatches","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_cumulative_mismatches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for cumulative case and death mismatches â€” check_cumulative_mismatches","text":"","code":"check_cumulative_mismatches(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   over_ratio,   under_ratio,   min_cumulative )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_cumulative_mismatches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for cumulative case and death mismatches â€” check_cumulative_mismatches","text":"obs_cases Matrix observed cases est_cases Matrix estimated cases obs_deaths Matrix observed deaths est_deaths Matrix estimated deaths over_ratio Threshold cumulative -prediction detection under_ratio Threshold severe cumulative -prediction min_cumulative Minimum observed cumulative trigger ratio checks","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_cumulative_mismatches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for cumulative case and death mismatches â€” check_cumulative_mismatches","text":"Character vector violations found","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_dependencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Installed R and Python Dependencies for MOSAIC â€” check_dependencies","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_dependencies","text":"function checks MOSAIC Python conda environment, verifies expected Python packages installed, confirms R packages keras3 tensorflow present configured correctly. prints currently active Python configuration confirms whether backend working.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_dependencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_dependencies","text":"","code":"check_dependencies()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_dependencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_dependencies","text":"return value. Prints diagnostic messages environment status package versions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Forecast Data Freshness â€” check_forecast_freshness","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"Check ENSO DMI forecast data needs updating examining expiration dates JSON configuration files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"","code":"check_forecast_freshness(warn_threshold_days = 30)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"warn_threshold_days Number days expiration start warning (default: 30)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"List freshness status datasets","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"function reads JSON configuration files checks: Whether forecast data already expired Whether data expires soon (within warning threshold) Provides recommendations updating","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_forecast_freshness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Forecast Data Freshness â€” check_forecast_freshness","text":"","code":"if (FALSE) { # \\dontrun{ # Check current freshness status freshness <- check_forecast_freshness() print(freshness)  # Use shorter warning threshold freshness <- check_forecast_freshness(warn_threshold_days = 14) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_installed_dependencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Installed R and Python Dependencies for MOSAIC â€” check_installed_dependencies","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_installed_dependencies","text":"function checks MOSAIC Python virtual environment, installed Python packages, verifies keras3 tensorflow R packages installed configured correctly. prints currently active Python environment confirms whether backend working.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_installed_dependencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_installed_dependencies","text":"","code":"check_installed_dependencies(pkgname = \"MOSAIC\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_installed_dependencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Installed R and Python Dependencies for MOSAIC â€” check_installed_dependencies","text":"return value. Prints diagnostic messages environment status package versions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":null,"dir":"Reference","previous_headings":"","what":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"function performs pre-screening checks observed vs estimated epidemic data identify clearly unrealistic predictions receive floor likelihood values. checks magnitude mismatches, negative correlations, nonsensical values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"","code":"check_likelihood_guardrails(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   floor_ll = -1e+08,   over_prediction_ratio = 50,   under_prediction_ratio = 0.02,   min_cases_for_epidemic = 500,   substantial_epidemic = 2000,   zero_threshold = 500,   negative_correlation_threshold = -0.2,   max_cases_per_timestep = 1e+06,   max_deaths_per_timestep = 1e+05,   cumulative_over_ratio = 500,   cumulative_under_ratio = 0.001,   min_cumulative_for_check = 100,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"obs_cases Matrix observed cases, n_locations x n_time_steps. est_cases Matrix estimated cases, dimension obs_cases. obs_deaths Matrix observed deaths, n_locations x n_time_steps. est_deaths Matrix estimated deaths, dimension obs_deaths. floor_ll Numeric scalar, floor likelihood value return guardrails triggered. Default -1e8. over_prediction_ratio Numeric scalar, threshold -prediction detection. Triggers estimated total >= ratio * observed total. Default 50. under_prediction_ratio Numeric scalar, threshold severe -prediction. Triggers estimated total < ratio * observed total. Default 0.02. min_cases_for_epidemic Numeric scalar, minimum observed cases trigger -prediction check. Default 500. substantial_epidemic Numeric scalar, threshold \"missing epidemic\" detection. Triggers -prediction check observed > value. Default 2000. zero_threshold Numeric scalar, minimum observed total penalize zero predictions. Default 500. negative_correlation_threshold Numeric scalar, correlation threshold trigger guardrail. Default -0.2. max_cases_per_timestep Numeric scalar, maximum reasonable cases per location per timestep. Default 1e6. max_deaths_per_timestep Numeric scalar, maximum reasonable deaths per location per timestep. Default 1e5. cumulative_over_ratio Numeric scalar, threshold cumulative -prediction detection. Triggers estimated cumulative >= ratio * observed cumulative. Default 500. cumulative_under_ratio Numeric scalar, threshold severe cumulative -prediction. Triggers estimated cumulative < ratio * observed cumulative. Default 0.001. min_cumulative_for_check Numeric scalar, minimum observed cumulative trigger ratio checks. Default 100. verbose Logical, TRUE prints detailed violation messages. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"list components: status: Character, either \"PROCEED\" \"FLOOR\" violations: Character vector describing violations found floor_ll: floor likelihood value (status \"FLOOR\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"function performs three categories checks: Magnitude Mismatches: Detects extreme /-prediction, missing epidemics, zero predictions Negative Correlations: Identifies cases predictions move opposite observations Nonsensical Values: Catches negative, infinite, extremely large predicted values guardrail triggered, function returns status = \"FLOOR\" indicating calc_model_likelihood return floor likelihood value immediately rather performing expensive likelihood calculations clearly unrealistic predictions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_likelihood_guardrails.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check likelihood guardrails to identify unrealistic predictions â€” check_likelihood_guardrails","text":"","code":"# Example with over-prediction that should trigger guardrail obs_cases <- matrix(c(10, 20, 15, 5), nrow = 2, ncol = 2) est_cases <- matrix(c(200, 300, 250, 100), nrow = 2, ncol = 2)  # 15x over-prediction obs_deaths <- matrix(c(1, 2, 1, 0), nrow = 2, ncol = 2) est_deaths <- matrix(c(1, 2, 1, 0), nrow = 2, ncol = 2)  result <- check_likelihood_guardrails(obs_cases, est_cases, obs_deaths, est_deaths, verbose = TRUE) print(result$status)  # Should be \"FLOOR\" #> [1] \"PROCEED\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_magnitude_mismatches.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for magnitude mismatches between observed and estimated data â€” check_magnitude_mismatches","title":"Check for magnitude mismatches between observed and estimated data â€” check_magnitude_mismatches","text":"Check magnitude mismatches observed estimated data","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_magnitude_mismatches.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for magnitude mismatches between observed and estimated data â€” check_magnitude_mismatches","text":"","code":"check_magnitude_mismatches(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   over_ratio,   under_ratio,   min_cases,   substantial,   zero_thresh )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_magnitude_mismatches.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for magnitude mismatches between observed and estimated data â€” check_magnitude_mismatches","text":"obs_cases Matrix observed cases est_cases Matrix estimated cases obs_deaths Matrix observed deaths est_deaths Matrix estimated deaths over_ratio Threshold -prediction detection under_ratio Threshold -prediction detection min_cases Minimum observed cases trigger -prediction check substantial Threshold missing epidemic detection zero_thresh Minimum observed penalize zero predictions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_magnitude_mismatches.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for magnitude mismatches between observed and estimated data â€” check_magnitude_mismatches","text":"Character vector violations found","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_negative_correlation.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for negative correlations between observed and estimated time series â€” check_negative_correlation","title":"Check for negative correlations between observed and estimated time series â€” check_negative_correlation","text":"Check negative correlations observed estimated time series","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_negative_correlation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for negative correlations between observed and estimated time series â€” check_negative_correlation","text":"","code":"check_negative_correlation(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   threshold )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_negative_correlation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for negative correlations between observed and estimated time series â€” check_negative_correlation","text":"obs_cases Matrix observed cases est_cases Matrix estimated cases obs_deaths Matrix observed deaths est_deaths Matrix estimated deaths threshold Correlation threshold trigger guardrail","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_negative_correlation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for negative correlations between observed and estimated time series â€” check_negative_correlation","text":"Character vector violations found","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_nonsensical_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for nonsensical values in estimated data â€” check_nonsensical_values","title":"Check for nonsensical values in estimated data â€” check_nonsensical_values","text":"Check nonsensical values estimated data","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_nonsensical_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for nonsensical values in estimated data â€” check_nonsensical_values","text":"","code":"check_nonsensical_values(est_cases, est_deaths, max_cases, max_deaths)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_nonsensical_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for nonsensical values in estimated data â€” check_nonsensical_values","text":"est_cases Matrix estimated cases est_deaths Matrix estimated deaths max_cases Maximum reasonable cases per timestep max_deaths Maximum reasonable deaths per timestep","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_nonsensical_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for nonsensical values in estimated data â€” check_nonsensical_values","text":"Character vector violations found","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for overdispersion in a count time series â€” check_overdispersion","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"function checks overdispersion univariate count time series using: (1) Poisson GLM intercept , (2) optional Poisson GLM 2-harmonic seasonal Fourier terms based day--year.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"","code":"check_overdispersion(   y,   date = NULL,   seasonality = FALSE,   period = 365,   print = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"y numeric vector non-negative integer counts (e.g., cases deaths). date vector class Date corresponding y. Required seasonality = TRUE. seasonality Logical; TRUE, also fits GLM 2-harmonic seasonal terms. Default = FALSE. period Integer; seasonal period (default = 365 daily data). print Logical; TRUE, prints summary results. Default = TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"list dispersion metrics: dispersion_ratio Variance--mean ratio pearson_dispersion_intercept Pearson statistic intercept-model pearson_dispersion_seasonal Pearson statistic seasonal model (applicable) overdispersed_intercept Logical; TRUE intercept model dispersion > 1.5 overdispersed_seasonal Logical; TRUE seasonal model dispersion > 1.5 (applicable) n_obs Number non-missing observations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"Overdispersion assessed using Pearson dispersion statistic variance--mean ratio. Pearson statistic exceeds 1.5, series flagged overdispersed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_overdispersion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check for overdispersion in a count time series â€” check_overdispersion","text":"","code":"if (FALSE) { # \\dontrun{   check_overdispersion(y = c(0, 2, 1, 0, 1, 3, 2, 0))   dates <- as.Date(\"2023-03-01\") + 0:13   cases <- c(0, 1, 2, 0, 2, 4, 3, 1, 0, 5, 2, 3, 1, 0)   check_overdispersion(y = cases, date = dates, seasonality = TRUE) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_python_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Python Environment for MOSAIC â€” check_python_env","title":"Check Python Environment for MOSAIC â€” check_python_env","text":"Displays information Python environment currently attached R session checks whether matches MOSAIC Python environment ~/.virtualenvs/r-mosaic. Provides clickable links relevant functions based environment status.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_python_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Python Environment for MOSAIC â€” check_python_env","text":"","code":"check_python_env()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_python_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Python Environment for MOSAIC â€” check_python_env","text":"Logical. TRUE r-mosaic Python environment linked current session, FALSE otherwise.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_sampled_parameter.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Sampled Parameter Against Prior â€” check_sampled_parameter","title":"Check Sampled Parameter Against Prior â€” check_sampled_parameter","text":"Helper function compare sampled parameter values prior distributions verify sampling working correctly.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_sampled_parameter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Sampled Parameter Against Prior â€” check_sampled_parameter","text":"","code":"check_sampled_parameter(config_sampled, priors, param_name, location = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_sampled_parameter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Sampled Parameter Against Prior â€” check_sampled_parameter","text":"config_sampled sampled config priors priors list param_name Name parameter check location Optional location code location-specific parameters","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/check_sampled_parameter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Sampled Parameter Against Prior â€” check_sampled_parameter","text":"Data frame parameter info sampled value","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/clean_priors_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert array-wrapped JSON to clean format â€” clean_priors_json","title":"Convert array-wrapped JSON to clean format â€” clean_priors_json","text":"Reads JSON file may array-wrapped scalar values rewrites proper formatting (auto_unbox = TRUE). useful cleaning JSON files created without auto_unbox.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/clean_priors_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert array-wrapped JSON to clean format â€” clean_priors_json","text":"","code":"clean_priors_json(input_path, output_path = input_path, backup = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/clean_priors_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert array-wrapped JSON to clean format â€” clean_priors_json","text":"input_path Path JSON file potential array wrapping output_path Path cleaned JSON (defaults overwrite input) backup Logical; whether create backup original (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/clean_priors_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert array-wrapped JSON to clean format â€” clean_priors_json","text":"Invisibly returns output path","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/clean_priors_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert array-wrapped JSON to clean format â€” clean_priors_json","text":"","code":"if (FALSE) { # \\dontrun{ # Clean a priors file in place (creates .bak backup) clean_priors_json(\"priors.json\")  # Clean to a new file without backup clean_priors_json(\"old_priors.json\", \"clean_priors.json\", backup = FALSE) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"function intelligently combines vaccination data GTFCC sources, prioritizing GTFCC data identifying including campaigns missing GTFCC. uses multiple matching criteria determine campaigns duplicates, accounting date discrepancies dose variations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"","code":"combine_vaccination_data(PATHS, date_tolerance = 60, dose_tolerance = 0.2)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"PATHS list containing file paths input output data. list include: MODEL_INPUT: Path directory containing processed vaccination data files combined data saved. date_tolerance Number days tolerance matching campaign dates sources (default: 60 days) dose_tolerance Proportion tolerance matching doses sources (default: 0.2 = 20%)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"function saves combined vaccination data CSV file directory specified PATHS$MODEL_INPUT. also returns combined data data frame use R.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"function performs intelligent campaign matching using following approach: Load Processed Data: - Reads GTFCC processed vaccination data files Intelligent Matching: - Matches campaigns country, approximate date (within tolerance), dose similarity - Uses multiple passes different tolerance levels maximize accurate matching - Identifies truly unique campaigns present GTFCC Data Combination: - Prioritizes GTFCC data (marked source = \"GTFCC\") - Adds unique campaigns (marked source = \"\") - Includes campaigns present (marked source = \"GTFCC_WHO_matched\") Quality Assurance: - Validates data structure matches downstream requirements - Ensures required columns present - Maintains date ID formatting standards","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/combine_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine WHO and GTFCC Vaccination Data â€” combine_vaccination_data","text":"","code":"# Example usage PATHS <- get_paths() #> Error in get_paths(): Cannot find root_directory combined_data <- combine_vaccination_data(PATHS) #> ========================================== #> Combining WHO and GTFCC Vaccination Data #> ========================================== #> Loading processed vaccination data... #> Error: object 'PATHS' not found  # With custom tolerance settings combined_data <- combine_vaccination_data(PATHS, date_tolerance = 30, dose_tolerance = 0.1) #> ========================================== #> Combining WHO and GTFCC Vaccination Data #> ========================================== #> Loading processed vaccination data... #> Error: object 'PATHS' not found"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compare_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare beta and gamma fitting approaches â€” compare_distributions","title":"Compare beta and gamma fitting approaches â€” compare_distributions","text":"Compare beta gamma fitting approaches","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compare_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare beta and gamma fitting approaches â€” compare_distributions","text":"","code":"compare_distributions()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compare_distributions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare beta and gamma fitting approaches â€” compare_distributions","text":"","code":"if (FALSE) { # \\dontrun{ # For parameters bounded in [0,1], compare beta distribution phi_beta <- fit_beta_from_ci(mode_val = 0.788,                                ci_lower = 0.753,                                ci_upper = 0.822,                               method = \"optimization\")  # For positive unbounded parameters, use gamma distribution source(\"fit_gamma_from_ci.R\") omega_gamma <- fit_gamma_from_ci(mode_val = 0.000705,                                    ci_lower = 0.000471,                                    ci_upper = 0.001107,                                   method = \"optimization\")  cat(\"Beta for bounded [0,1] parameters:\\n\") cat(\"  Use for: effectiveness, proportions, probabilities\\n\") cat(\"  Example: phi_1 ~ Beta(\", phi_beta$shape1, \", \", phi_beta$shape2, \")\\n\\n\")  cat(\"Gamma for positive unbounded parameters:\\n\")   cat(\"  Use for: rates, times, positive continuous values\\n\") cat(\"  Example: omega_1 ~ Gamma(\", omega_gamma$shape, \", \", omega_gamma$rate, \")\\n\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compile_ENSO_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","text":"function compiles historical forecast data DMI ENSO (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) single data frame. data filtered include years specified year_start onwards. function also allows disaggregation monthly data daily weekly values using either linear interpolation spline interpolation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compile_ENSO_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","text":"","code":"compile_ENSO_data(year_start = NULL, frequency = \"monthly\", method = \"linear\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compile_ENSO_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","text":"year_start integer representing start year filtering data. data year onward included compiled data. value must greater equal 1870. frequency character string specifying time resolution output data. Valid options \"daily\", \"weekly\", \"monthly\". method character string specifying interpolation method use. Valid options \"linear\" (linear interpolation using zoo::na.approx()) \"spline\" (spline interpolation using zoo::na.spline()).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compile_ENSO_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","text":"data frame combined historical forecast data DMI, ENSO3, ENSO34, ENSO4. data frame includes following columns: date: date data (daily, weekly, monthly) YYYY-MM-DD format. variable: variable name, can \"DMI\", \"ENSO3\", \"ENSO34\", \"ENSO4\". value: value variable (sea surface temperature anomaly). year: year corresponding date. month: month corresponding date. week: week year (\"weekly\" \"daily\" frequency). doy: day year (\"daily\" frequency).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/compile_ENSO_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” compile_ENSO_data","text":"","code":"if (FALSE) { # Compile the ENSO and DMI data from the year 2000 onwards compiled_enso_data <- compile_ENSO_data(2010, \"monthly\")  # Display the compiled data head(compiled_enso_data) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default LASER Configuration â€” config_default","title":"Default LASER Configuration â€” config_default","text":"canonical LASER parameter object shipped MOSAIC. contains default values model parameters, initial state vectors, file-path references required run full cholera metapopulation transmission model across number locations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default LASER Configuration â€” config_default","text":"","code":"config_default"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_default.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default LASER Configuration â€” config_default","text":"named list created make_default_LASER_config(), whose elements include: Scalars â€“ biological constants (phi_1, gamma_1, epsilon, â€¦); Vectors â€“ initial populations (S_j_initial, I_j_initial, â€¦), initial proportions (optional: prop_S_initial, prop_I_initial, â€¦), coordinates (longitude, latitude), mobility coefficients, etc.; Matrices â€“ day--day series human--human transmission (b_jt), environmental suitability (psi_jt), birth/death rates; Character paths â€“ locations required input data (see ).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_default.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default LASER Configuration â€” config_default","text":"Unlike lightweight simulation configs exported make_simulation_epidemic_LASER_config_files.R make_simulation_endemic_LASER_config_files.R, default configuration assumes presence external data files arranged canonical MOSAIC directories: MODEL_INPUT Directory containing baseline CSV inputs (population, rainfall, vaccination, WASH, etc.). DATA_WHO_DAILY Directory processed daily cholera line-list aggregated case/death counts. ENV_RASTERS (Optional) Path geotiff rasters used build spatial priors environmental suitability. object intended full-scale analyses therefore large (tens megabytes) self-contained â€“ error file paths references exist user's machine.  tutorials automated tests, consider using config_simulation_epidemic config_simulation_endemic, run without external dependencies. Note Initial Condition Formats: configuration includes count (*_j_initial) proportion (prop_*_initial) representations initial conditions. count fields required LASER model simulation, proportion fields optional provided statistical analysis convenience. formats automatically maintained sync parameter sampling operations.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_endemic.html","id":null,"dir":"Reference","previous_headings":"","what":"Endemic Simulation LASER Configuration â€” config_simulation_endemic","title":"Endemic Simulation LASER Configuration â€” config_simulation_endemic","text":"multi-year endemic parameter set sustains low-level transmission produces recurring seasonal + quadrennial waves via environmental persistence. object generated make_simulated_LASER_config_files.R (sim_endemic) saved package config_simulation_endemic.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_endemic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Endemic Simulation LASER Configuration â€” config_simulation_endemic","text":"","code":"config_simulation_endemic"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_endemic.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Endemic Simulation LASER Configuration â€” config_simulation_endemic","text":"named list structure config_default spanning five years daily timesteps.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_endemic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Endemic Simulation LASER Configuration â€” config_simulation_endemic","text":"Together, longer environmental survival waning immunity allow susceptibles replenish, generating periodic endemic outbreaks without explosive dynamics epidemic toy set.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_epidemic.html","id":null,"dir":"Reference","previous_headings":"","what":"Epidemic Simulation LASER Configuration â€” config_simulation_epidemic","title":"Epidemic Simulation LASER Configuration â€” config_simulation_epidemic","text":"toy one-year outbreak parameter set quick unit-tests vignette examples. object created make_simulated_LASER_config_files.R saved package config_simulation_epidemic.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_epidemic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Epidemic Simulation LASER Configuration â€” config_simulation_epidemic","text":"","code":"config_simulation_epidemic"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_epidemic.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Epidemic Simulation LASER Configuration â€” config_simulation_epidemic","text":"named list identical structure config_default much smaller.  Key elements include day--day matrices (b_jt, psi_jt, mu_jt, â€¦), initial state vectors, placeholder reported_cases / reported_deaths.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/config_simulation_epidemic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Epidemic Simulation LASER Configuration â€” config_simulation_epidemic","text":"settings produce single, clearly defined epidemic wave patchâ€”especially pronounced â€œBARâ€, highest baseline transmission (Î² = 0.50).  configuration small enough run fractions second yet exercises major LASER components, making ideal automated tests teaching materials.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Config to DataFrame â€” convert_config_to_dataframe","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"Converts complex MOSAIC config list object single-row dataframe organized named columns. function handles scalar parameters location-specific parameters, creating appropriately named columns .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"","code":"convert_config_to_dataframe(config)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"config configuration list object format MOSAIC::config_default. config object contain global parameters (scalars) location-specific parameters (vectors/lists).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"single-row data.frame : Scalar parameters become single columns original names Vector parameters multiple locations become columns named \"parameter_location\" (e.g., \"beta_j0_env_ETH\", \"beta_j0_env_KEN\") Node-level parameters (matching population nodes) expanded node indices (e.g., \"N_1\", \"N_2\", etc.)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"function intelligently handles different parameter types: Character/numeric scalars: Direct conversion columns Named vectors/lists: Expanded location-specific columns Unnamed vectors matching node count: Expanded node-indexed columns Date fields: Converted character representation NULL values: Skipped Location-specific parameters identified names match ISO3 country codes. Node-level parameters identified length matching number population nodes (N parameter).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_dataframe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Config to DataFrame â€” convert_config_to_dataframe","text":"","code":"if (FALSE) { # \\dontrun{ # Convert default config df <- convert_config_to_dataframe(MOSAIC::config_default)  # Convert sampled config config_sampled <- sample_parameters(PATHS, seed = 123) df_sampled <- convert_config_to_dataframe(config_sampled)  # Convert location-specific config config_eth <- get_location_config(iso = \"ETH\") df_eth <- convert_config_to_dataframe(config_eth)  # View structure str(df) names(df) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"Converts complex MOSAIC config list object directly numeric vector suitable storage matrix. function optimized calibration workflows parameters need stored efficiently pre-allocated matrices.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"","code":"convert_config_to_matrix(config)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"config configuration list object format MOSAIC::config_default. config object contain global parameters (scalars) location-specific parameters (vectors/lists).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"named numeric vector : parameter values converted numeric representation Logical values become 0 (FALSE) 1 (TRUE) Character values converted NA warning Vector parameters expanded appropriate suffixes Names preserve parameter structure later reconstruction","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"function efficient convert_config_to_dataframe() goal store parameters numeric matrix, avoids overhead creating intermediate data.frame. processes parameters directly numeric vector maintaining naming convention. function handles: Scalar parameters: Direct numeric conversion Location-specific vectors: Expanded location suffixes Node-level parameters: Expanded numeric indices Logical values: Converted 0/1 NULL values: Skipped Non-numeric values: Converted NA warning","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_config_to_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Config to Numeric Vector for Matrix Storage â€” convert_config_to_matrix","text":"","code":"if (FALSE) { # \\dontrun{ # Convert sampled config for matrix storage config_sampled <- sample_parameters(PATHS, seed = 123) vec_params <- convert_config_to_matrix(config_sampled)  # Use in calibration workflow n_sim <- 100 n_params <- length(vec_params) results_matrix <- matrix(NA_real_, nrow = n_sim, ncol = 4 + n_params) results_matrix[1, 5:ncol(results_matrix)] <- vec_params  # Compare with dataframe approach (slower) df_params <- convert_config_to_dataframe(config_sampled) vec_params_slow <- as.numeric(df_params) all.equal(vec_params, vec_params_slow)  # Should be TRUE } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"function converts country names corresponding ISO3 ISO2 country codes. function uses countrycode package, allows multiple spellings variations country names.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"","code":"convert_country_to_iso(x, iso3 = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"x character vector country names (e.g., \"United States\", \"UK\", \"Democratic Republic Congo\"). iso3 logical value. TRUE (default), returns ISO3 country codes. FALSE, returns ISO2 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"character vector ISO3 ISO2 country codes corresponding country names.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"function converts country names ISO3 ISO2 codes using countrycode package. handles various common alternative spellings country names.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Country Names to ISO3 or ISO2 Country Codes â€” convert_country_to_iso","text":"","code":"# Convert a single country name to ISO3 convert_country_to_iso(\"United States\") #> [1] \"USA\"  # Convert a vector of country names to ISO2 convert_country_to_iso(c(\"United States\", \"UK\", \"Democratic Republic of Congo\"), iso3 = FALSE) #> [1] \"US\" \"GB\" \"CD\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"function converts vector scalar ISO3 country codes ISO2 country codes, vice versa, based input. function uses countrycode package auto-detects input format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"","code":"convert_iso_codes(iso_codes)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"iso_codes vector scalar ISO2 ISO3 country codes (e.g., \"USA\", \"GBR\", \"ZA\", \"GB\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"character vector converted ISO2 ISO3 country codes corresponding provided input.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"function detects whether input ISO2 ISO3 format based code length converts accordingly using countrycode package.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_codes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert ISO3 to ISO2 or ISO2 to ISO3 Country Codes â€” convert_iso_codes","text":"","code":"# Convert a vector of ISO3 codes to ISO2 codes convert_iso_codes(c(\"USA\", \"GBR\", \"DZA\")) #> [1] \"US\" \"GB\" \"DZ\"  # Convert a vector of ISO2 codes to ISO3 codes convert_iso_codes(c(\"US\", \"GB\", \"DZ\")) #> [1] \"USA\" \"GBR\" \"DZA\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"function converts vector scalar ISO2 ISO3 country codes corresponding country names using countrycode package.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"","code":"convert_iso_to_country(iso)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"iso vector scalar ISO2 ISO3 country codes (e.g., \"USA\", \"GB\", \"DZA\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"character vector country names corresponding provided ISO2 ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"function automatically detects input ISO2 ISO3 format returns corresponding country names. Special handling applied Congo Democratic Republic Congo.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert ISO2 or ISO3 Country Codes to Country Names â€” convert_iso_to_country","text":"","code":"# Convert a vector of ISO3 and ISO2 codes to country names convert_iso_to_country(c(\"USA\", \"GBR\", \"DZA\", \"COD\")) #> [1] \"United States\"                \"United Kingdom\"               #> [3] \"Algeria\"                      \"Democratic Republic of Congo\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"Converts numeric vector (typically calibration results matrix row) back MOSAIC config list structure. inverse operation convert_config_to_matrix().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"","code":"convert_matrix_to_config(   param_vector,   config_base,   col_params = NULL,   sampling_flags = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"param_vector Named numeric vector parameter values, returned convert_config_to_matrix(). config_base Base config object use template. Parameters found param_vector keep base values. col_params Optional integer vector specifying columns correspond parameters. NULL, assumes elements param_vector parameters. sampling_flags Optional named list specifying parameters originally sampled (TRUE) vs fixed (FALSE). Parameters sampling_flags = FALSE updated param_vector, preserving original fixed values. NULL, parameters param_vector updated (legacy behavior).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"MOSAIC config list object parameter values updated param_vector, respecting original sampling intentions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"function reconstructs config object : Starting config_base template Parsing parameter names identify structure (e.g., \"beta_j0_hum_ETH\") Checking sampling_flags determine parameters updated Updating parameters originally sampled (sampling_flags provided) Handling scalar vector parameters appropriately IMPORTANT: sampling_flags parameter addresses critical bug parameters intended fixed (sample_* = FALSE) overwritten matrix reconstruction, making appear stochastic downstream analyses. Parameter naming conventions expected: Scalar parameters: \"param_name\" (e.g., \"phi_1\", \"gamma_2\") Location-specific: \"param_name_LOCATION\" (e.g., \"beta_j0_hum_ETH\") Indexed parameters: \"param_name_1\", \"param_name_2\", etc.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_matrix_to_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Matrix Row to Config Object â€” convert_matrix_to_config","text":"","code":"if (FALSE) { # \\dontrun{ # Legacy usage (updates all parameters) config_orig <- sample_parameters(PATHS, seed = 123) param_vec <- convert_config_to_matrix(config_orig) config_reconstructed <- convert_matrix_to_config(param_vec, config_orig)  # Preserving sampling intent (recommended) sampling_flags <- list(alpha_1 = FALSE, phi_1 = TRUE, beta_j0_hum = TRUE) config_best <- convert_matrix_to_config(param_row, config_base,                                         sampling_flags = sampling_flags)  # Use with calibration results param_row <- results[best_idx, col_params] names(param_row) <- param_names config_best <- convert_matrix_to_config(param_row, config_base,                                        sampling_flags = original_sampling_flags) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_config_npe.html","id":null,"dir":"Reference","previous_headings":"","what":"Create NPE Configuration â€” create_config_npe","title":"Create NPE Configuration â€” create_config_npe","text":"Creates configuration file using posterior median values NPE. Automatically handles location-specific parameters stripping location suffixes (e.g., \"tau_i_ETH\" -> \"tau_i\") matching config fields. Supports single-location multi-location configs.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_config_npe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create NPE Configuration â€” create_config_npe","text":"","code":"create_config_npe(   posterior_result,   config_base,   output_file = NULL,   use_median = TRUE,   verbose = TRUE,   debug = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_config_npe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create NPE Configuration â€” create_config_npe","text":"posterior_result NPE posterior result object containing: samples - Matrix posterior samples (location suffixes) quantiles - Optional data frame q0.5 column medians n_samples - Number posterior samples config_base Base configuration update. Location-specific parameters named without location suffixes (e.g., \"tau_i\" \"tau_i_ETH\") output_file Path save config JSON (NULL = save) use_median Use median (TRUE) mean (FALSE) point estimates verbose Print progress messages including number parameters updated","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_config_npe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create NPE Configuration â€” create_config_npe","text":"Updated configuration list npe_metadata including: n_parameters_updated - Number parameters successfully updated n_parameters_skipped - Number parameters found config","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_config_npe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create NPE Configuration â€” create_config_npe","text":"single-location configs, location-specific parameters stored scalars. multi-location configs, stored vectors ordered location_name.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Results Matrix Using Schema â€” create_results_matrix","title":"Create Results Matrix Using Schema â€” create_results_matrix","text":"Creates pre-allocated results matrix proper column structure based calibration results schema.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Results Matrix Using Schema â€” create_results_matrix","text":"","code":"create_results_matrix(schema, n_rows = 1)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Results Matrix Using Schema â€” create_results_matrix","text":"schema calibration_results_schema object create_results_schema() n_rows Number rows pre-allocate","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Results Matrix Using Schema â€” create_results_matrix","text":"numeric matrix proper column names dimensions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Results Matrix Using Schema â€” create_results_matrix","text":"","code":"if (FALSE) { # \\dontrun{ schema <- create_results_schema(config_base) results_matrix <- create_results_matrix(schema, n_rows = 1000) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Results Schema for Calibration Workflows â€” create_results_schema","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"Creates standardized schema managing results matrices calibration workflows. eliminates common bugs related column misalignment, manual index management, inconsistent parameter extraction.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"","code":"create_results_schema(config_base, include_metadata = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"config_base base configuration object used determine parameter structure include_metadata Logical. Whether include simulation metadata columns (sim, iter, seed)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"calibration_results_schema object containing: metadata_cols: Names metadata columns param_cols: Names parameter columns all_cols: column names order n_metadata: Number metadata columns n_params: Number parameter columns n_total: Total number columns param_template: Template parameter vector validation","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"schema provides single source truth results matrix structure, eliminating manual column counting index management. ensures consistent parameter extraction provides validation parameter insertion. Metadata columns always placed first, followed parameter columns. 'seed' parameter automatically excluded parameter columns present configuration avoid duplication metadata.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_results_schema.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Results Schema for Calibration Workflows â€” create_results_schema","text":"","code":"if (FALSE) { # \\dontrun{ config_base <- get_location_config(\"ETH\") schema <- create_results_schema(config_base) print(schema$all_cols)  # See all column names } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_sampling_args.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","title":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","text":"Helper function create argument lists common sampling scenarios, making easier work many parameters.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_sampling_args.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","text":"","code":"create_sampling_args(   pattern = \"all\",   seed,   custom = list(),   PATHS = NULL,   priors = NULL,   config = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_sampling_args.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","text":"pattern Character string specifying pattern. Options: \"\": Sample parameters (default) \"none\": sample parameters \"disease_only\": Sample disease progression immunity parameters \"transmission_only\": Sample transmission parameters \"mobility_only\": Sample mobility parameters \"spatial_only\": Sample spatial parameters \"initial_conditions_only\": Sample initial condition proportions seed Random seed sampling custom Named list custom overrides specific parameters PATHS Optional PATHS object priors Optional priors object config Optional config object","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_sampling_args.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","text":"Named list arguments suitable .call(sample_parameters, ...)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/create_sampling_args.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Sampling Arguments for Common Patterns â€” create_sampling_args","text":"","code":"if (FALSE) { # \\dontrun{ # Sample only disease parameters args <- create_sampling_args(\"disease_only\", seed = 123) config <- do.call(sample_parameters, args)  # Sample all except mobility args <- create_sampling_args(\"all\", seed = 123,   custom = list(sample_mobility_omega = FALSE,                 sample_mobility_gamma = FALSE)) config <- do.call(sample_parameters, args) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/default_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Default LASER Configuration â€” default_config","title":"Default LASER Configuration â€” default_config","text":"pre-generated default configuration object running LASER model simulations. object contains default values model parameters initial conditions required cholera metapopulation transmission model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/default_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default LASER Configuration â€” default_config","text":"","code":"default_config"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/default_config.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default LASER Configuration â€” default_config","text":"list object named elements defining model parameters initial conditions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/default_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default LASER Configuration â€” default_config","text":"object includes predefined defaults suitable running LASER simulations across multiple locations. defaults assume existence input data structures formats compatible MOSAIC framework. object includes references expected file paths, : MODEL_INPUT Character string. Path directory containing model input CSV files. DATA_WHO_DAILY Character string. Path directory containing processed cholera daily CSV data.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Detach MOSAIC Python Environment â€” detach_mosaic_env","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"Detaches r-mosaic Python environment current R session. function provides guided instructions properly detaching restarting R use different Python environment.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"","code":"detach_mosaic_env(restart = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"restart Logical. TRUE RStudio, automatically restart R session. Default: FALSE (just provide instructions).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"Invisible NULL. restart = TRUE RStudio, session restart function return.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"Due reticulate's design, Python initialized R session, switched different environment without restarting R. function: Unsets RETICULATE_PYTHON environment variable Provides instructions restarting R Optionally triggers automatic restart (RStudio ) detaching: RETICULATE_PYTHON variable cleared current Python session remains active (changed) R restarts, MOSAIC auto-attach r-mosaic can set different RETICULATE_PYTHON loading MOSAIC","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detach_mosaic_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detach MOSAIC Python Environment â€” detach_mosaic_env","text":"","code":"if (FALSE) { # \\dontrun{ # Detach and get restart instructions detach_mosaic_env()  # Detach and automatically restart (RStudio only) detach_mosaic_env(restart = TRUE)  # To use a different Python after detaching: # 1. detach_mosaic_env() # 2. Restart R # 3. Sys.setenv(RETICULATE_PYTHON = \"/path/to/other/python\") # 4. library(MOSAIC)  # Will use your specified Python } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"Attempts infer parameters originally sampled vs fixed analyzing parameter variance across multiple configs. fallback original sampling flags available.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"","code":"detect_sampled_parameters_from_configs(configs, variance_threshold = 1e-10)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"configs List config objects parameter sampling variance_threshold Parameters variance threshold considered \"fixed\". Default 1e-10.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"Named list logical values indicating parameters appear sampled","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"function compares parameter values across multiple config objects identify parameters show variation (likely sampled) vs remain constant (likely fixed). heuristic approach original sampling metadata lost.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/detect_sampled_parameters_from_configs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect Parameter Sampling Flags from Config â€” detect_sampled_parameters_from_configs","text":"","code":"if (FALSE) { # \\dontrun{ # Generate multiple configs with some fixed parameters configs <- lapply(1:10, function(i) {   sample_parameters(PATHS, seed = i, sample_alpha_1 = FALSE, sample_phi_1 = TRUE) }) sampling_flags <- detect_sampled_parameters_from_configs(configs) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dgompertz.html","id":null,"dir":"Reference","previous_headings":"","what":"Gompertz Distribution Density Function â€” dgompertz","title":"Gompertz Distribution Density Function â€” dgompertz","text":"Compute probability density function Gompertz distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dgompertz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gompertz Distribution Density Function â€” dgompertz","text":"","code":"dgompertz(x, b, eta, log = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dgompertz.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gompertz Distribution Density Function â€” dgompertz","text":"x Numeric vector. Values evaluate density. b Numeric. Shape parameter (b > 0). eta Numeric. Rate parameter (eta > 0). log Logical. TRUE, return log density.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dgompertz.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gompertz Distribution Density Function â€” dgompertz","text":"Numeric vector density values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/disagg_annual_cases_to_daily.html","id":null,"dir":"Reference","previous_headings":"","what":"Temporal Disaggregation of Annual Cases to Daily Resolution â€” disagg_annual_cases_to_daily","title":"Temporal Disaggregation of Annual Cases to Daily Resolution â€” disagg_annual_cases_to_daily","text":"Disaggregates annual cholera case counts daily resolution using Fourier series seasonal patterns. Ensures exact preservation annual totals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/disagg_annual_cases_to_daily.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Temporal Disaggregation of Annual Cases to Daily Resolution â€” disagg_annual_cases_to_daily","text":"","code":"disagg_annual_cases_to_daily(annual_cases, years, a1, b1, a2, b2)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/disagg_annual_cases_to_daily.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Temporal Disaggregation of Annual Cases to Daily Resolution â€” disagg_annual_cases_to_daily","text":"annual_cases Vector annual case counts years Vector years corresponding cases a1 First harmonic cosine coefficient b1 First harmonic sine coefficient a2 Second harmonic cosine coefficient b2 Second harmonic sine coefficient","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/disagg_annual_cases_to_daily.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Temporal Disaggregation of Annual Cases to Daily Resolution â€” disagg_annual_cases_to_daily","text":"Data frame columns: date, year, day_of_year, cases, annual_total","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-check_bounds_vectorized.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Samples are Within Bounds â€” .check_bounds_vectorized","title":"Check if Samples are Within Bounds â€” .check_bounds_vectorized","text":"Check Samples Within Bounds","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-check_bounds_vectorized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Samples are Within Bounds â€” .check_bounds_vectorized","text":"","code":".check_bounds_vectorized(samples, bounds_lower, bounds_upper)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-draw_posterior_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Posterior Samples (Helper for Rejection Sampling) â€” .draw_posterior_samples","title":"Draw Posterior Samples (Helper for Rejection Sampling) â€” .draw_posterior_samples","text":"Draw Posterior Samples (Helper Rejection Sampling)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-draw_posterior_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Posterior Samples (Helper for Rejection Sampling) â€” .draw_posterior_samples","text":"","code":".draw_posterior_samples(   npe_model,   obs_norm,   n,   normalization,   device,   return_log_probs,   torch )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-extract_bounds_from_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Parameter Bounds from Model â€” .extract_bounds_from_model","title":"Extract Parameter Bounds from Model â€” .extract_bounds_from_model","text":"Extract Parameter Bounds Model","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-extract_bounds_from_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Parameter Bounds from Model â€” .extract_bounds_from_model","text":"","code":".extract_bounds_from_model(model)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-extract_location_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract location codes from parameter names â€” .extract_location_codes","title":"Extract location codes from parameter names â€” .extract_location_codes","text":"Extract location codes parameter names","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-extract_location_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract location codes from parameter names â€” .extract_location_codes","text":"","code":".extract_location_codes(param_names)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_param_description.html","id":null,"dir":"Reference","previous_headings":"","what":"Get parameter description from priors.json â€” .get_param_description","title":"Get parameter description from priors.json â€” .get_param_description","text":"Get parameter description priors.json","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_param_description.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get parameter description from priors.json â€” .get_param_description","text":"","code":".get_param_description(base_name, priors)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_prior_distribution_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function to extract distribution info from priors â€” .get_prior_distribution_info","title":"Helper function to extract distribution info from priors â€” .get_prior_distribution_info","text":"Helper function extract distribution info priors","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_prior_distribution_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function to extract distribution info from priors â€” .get_prior_distribution_info","text":"","code":".get_prior_distribution_info(param_name, priors)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_prior_distribution_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function to extract distribution info from priors â€” .get_prior_distribution_info","text":"param_name Parameter name priors Priors list JSON","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-get_prior_distribution_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function to extract distribution info from priors â€” .get_prior_distribution_info","text":"Distribution information NULL","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-is_location_specific.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if parameter is location-specific â€” .is_location_specific","title":"Check if parameter is location-specific â€” .is_location_specific","text":"Check parameter location-specific","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-is_location_specific.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if parameter is location-specific â€” .is_location_specific","text":"","code":".is_location_specific(param_name, location_codes)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-parse_location_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse location-specific parameter name â€” .parse_location_param","title":"Parse location-specific parameter name â€” .parse_location_param","text":"Parse location-specific parameter name","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-parse_location_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse location-specific parameter name â€” .parse_location_param","text":"","code":".parse_location_param(param_name)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-reshape_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Reshape Samples to Matrix (Helper) â€” .reshape_samples","title":"Reshape Samples to Matrix (Helper) â€” .reshape_samples","text":"Reshape Samples Matrix (Helper)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/dot-reshape_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reshape Samples to Matrix (Helper) â€” .reshape_samples","text":"","code":".reshape_samples(samples_numpy, n_samples_batch, model)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Save Africa Shapefile â€” download_africa_shapefile","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"function downloads shapefile African countries using rnaturalearth package saves specified directory. output directory exist, created.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"","code":"download_africa_shapefile(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"PATHS list environment containing path structure, PATHS$DATA_PROCESSED specifies directory save processed shapefile.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"message indicating shapefile saved, including full path saved file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"function uses rnaturalearth package download shapefile African continent. shapefile saved AFRICA_ADM0.shp directory specified PATHS$DATA_PROCESSED/shapefiles. function create directory already exist.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_africa_shapefile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Save Africa Shapefile â€” download_africa_shapefile","text":"","code":"if (FALSE) { # \\dontrun{   # Example PATHS object   PATHS <- list(DATA_PROCESSED = \"path/to/processed/data\")    # Download and save the Africa shapefile   download_africa_shapefile(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"function downloads shapefiles African country saves specified directory. function iterates ISO3 country codes Africa (MOSAIC framework) saves country's shapefile individually.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"","code":"download_all_country_shapefiles(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"PATHS list containing paths processed data saved. PATHS typically output get_paths() function include: DATA_PROCESSED: Path directory processed shapefiles saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"function return value. downloads shapefiles African country saves individual shapefiles processed data directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"function performs following steps: Creates output directory shapefiles exist. Loops list ISO3 country codes African countries. Downloads country's shapefile using MOSAIC::get_country_shp(). Saves shapefile processed data directory ISO3_ADM0.shp.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_all_country_shapefiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Save Shapefiles for All African Countries â€” download_all_country_shapefiles","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for processed data using get_paths() PATHS <- get_paths()  # Download and save shapefiles for all African countries download_all_country_shapefiles(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"function downloads daily climate data list specified countries, saving data Parquet files. data includes historical future climate variables grid points within country specified set climate models variables.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"","code":"download_climate_data(   PATHS,   iso_codes,   n_points,   date_start,   date_stop,   climate_models,   climate_variables,   api_key )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"PATHS list containing paths raw processed data stored. PATHS typically output get_paths() function include: DATA_SHAPEFILES: Path directory containing country shapefiles. DATA_CLIMATE: Path directory processed climate data saved. iso_codes character vector ISO3 country codes climate data downloaded. n_points integer specifying number grid points generate within country climate data downloaded. date_start character string representing start date climate data (\"YYYY-MM-DD\" format). date_stop character string representing end date climate data (\"YYYY-MM-DD\" format). climate_models character vector climate models use. Available models include: CMCC_CM2_VHR4 FGOALS_f3_H HiRAM_SIT_HR MRI_AGCM3_2_S EC_Earth3P_HR MPI_ESM1_2_XR NICAM16_8S climate_variables character vector climate variables retrieve. See details available variables. api_key character string representing API key required access climate data API.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"function return value. downloads climate data country, climate model, climate variable, saving results Parquet files specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"function uses country shapefiles generate grid points within country, climate data downloaded. function retrieves climate data specified date range (date_start date_stop) specified climate models variables. data saved country, climate model, climate variable Parquet file named climate_data_{climate_model}_{climate_variable}_{date_start}_{date_stop}_{ISO3}.parquet. available climate variables include: temperature_2m_mean, temperature_2m_max, temperature_2m_min wind_speed_10m_mean, wind_speed_10m_max cloud_cover_mean shortwave_radiation_sum relative_humidity_2m_mean, relative_humidity_2m_max, relative_humidity_2m_min dew_point_2m_mean, dew_point_2m_min, dew_point_2m_max precipitation_sum, rain_sum, snowfall_sum pressure_msl_mean soil_moisture_0_to_10cm_mean et0_fao_evapotranspiration_sum","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_climate_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Save Climate Data for Multiple Countries (Parquet Format, Multiple Models and Variables) â€” download_climate_data","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for raw and processed data using get_paths() PATHS <- get_paths()  # ISO3 country codes for African countries iso_codes <- c(\"ZAF\", \"KEN\", \"NGA\")  # API key for climate data API api_key <- \"your-api-key-here\"  # Download climate data for multiple models and variables and save it for the specified countries download_climate_data(PATHS, iso_codes, n_points = 5,                       date_start = \"1970-01-01\", date_stop = \"2030-12-31\",                       climate_models = c(\"MRI_AGCM3_2_S\", \"EC_Earth3P_HR\"),                       climate_variables = c(\"temperature_2m_mean\", \"precipitation_sum\"), api_key) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_country_DEM.html","id":null,"dir":"Reference","previous_headings":"","what":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","title":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","text":"function downloads 1km resolution DEM (Digital Elevation Model) raster data given vector ISO3 country codes, writes raster GeoTIFF file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_country_DEM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","text":"","code":"download_country_DEM(PATHS, iso_codes, zoom_level = 6)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_country_DEM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","text":"PATHS list containing paths DEM data saved. Typically generated get_paths() function include: DATA_DEM: Path directory DEM rasters saved. iso_codes character vector ISO3 country codes DEM data downloaded. zoom_level integer representing zoom level DEM data. Zoom levels 6-8 recommended 1km resolution (default = 6).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_country_DEM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","text":"function return value. downloads DEM data country saves results GeoTIFF files specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/download_country_DEM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download 1km DEM Raster for Multiple Countries and Save to Files â€” download_country_DEM","text":"","code":"if (FALSE) { # \\dontrun{ # Define the ISO3 country codes iso_codes <- c(\"ZAF\", \"KEN\", \"NGA\")  # Get paths for data storage PATHS <- get_paths()  # Download DEM rasters for the countries download_country_DEM(iso_codes, PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"function reads CSV file containing weekly processed cholera data JHU sources downscales daily time series using MOSAIC::downscale_weekly_values method. country (identified ISO code), function applies downscale_weekly_values function cases deaths columns, merges results date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"","code":"downscale_weekly_cholera_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"PATHS list file paths. list must include element named DATA_WHO_WEEKLY DATA_WHO_DAILY.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"Invisibly returns NULL.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"input CSV file cholera_country_weekly_processed.csv expected contain least following columns: date_start - start date week (\"YYYY-MM-DD\" format, must Monday). iso_code - ISO code identifying country. cases - weekly total number cholera cases. deaths - weekly total number cholera deaths. function downsamples weekly totals daily counts using helper function downscale_weekly_values, distributes remainders symmetrically across days week integer = TRUE. MOSAIC::convert_iso_to_country function used convert ISO code country name.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_cholera_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Downscale Weekly Cholera Data to Daily Frequency â€” downscale_weekly_cholera_data","text":"","code":"if (FALSE) { # \\dontrun{   # Define paths list with the directory containing the weekly data file:   PATHS <- list(DATA_WHO_WEEKLY = \"/path/to/your/data\")    # Downscale the weekly cholera data to daily data:   downscale_weekly_cholera_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale weekly values to a daily time series â€” downscale_weekly_values","title":"Downscale weekly values to a daily time series â€” downscale_weekly_values","text":"function takes weekly time series (start dates values) returns complete daily time series values distributed across 7 days week. integer = TRUE, remainders centered week. Missing weeks days filled NA ensure completeness.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale weekly values to a daily time series â€” downscale_weekly_values","text":"","code":"downscale_weekly_values(date_start, value, integer = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale weekly values to a daily time series â€” downscale_weekly_values","text":"date_start vector Dates (class \"Date\") representing start week. Must fall Mondays. value numeric vector weekly totals (e.g., cases rainfall). integer Logical; TRUE, treat values counts distribute remainder symmetrically.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale weekly values to a daily time series â€” downscale_weekly_values","text":"data frame columns: date, value, one row per day min max date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/downscale_weekly_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Downscale weekly values to a daily time series â€” downscale_weekly_values","text":"","code":"downscale_weekly_values(as.Date(c(\"2023-01-02\", \"2023-01-16\")), c(10, 3), integer = TRUE) #>          date value #> 1  2023-01-02     1 #> 2  2023-01-03     1 #> 3  2023-01-04     2 #> 4  2023-01-05     2 #> 5  2023-01-06     2 #> 6  2023-01-07     1 #> 7  2023-01-08     1 #> 8  2023-01-09    NA #> 9  2023-01-10    NA #> 10 2023-01-11    NA #> 11 2023-01-12    NA #> 12 2023-01-13    NA #> 13 2023-01-14    NA #> 14 2023-01-15    NA #> 15 2023-01-16     0 #> 16 2023-01-17     0 #> 17 2023-01-18     1 #> 18 2023-01-19     1 #> 19 2023-01-20     1 #> 20 2023-01-21     0 #> 21 2023-01-22     0"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/effective_aic_alternatives.html","id":null,"dir":"Reference","previous_headings":"","what":"Alternative Theoretically-Grounded Approaches for Effective AIC Range â€” effective_aic_alternatives","title":"Alternative Theoretically-Grounded Approaches for Effective AIC Range â€” effective_aic_alternatives","text":"functions demonstrate principled approaches based statistical theory","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/effective_aic_alternatives.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Alternative Theoretically-Grounded Approaches for Effective AIC Range â€” effective_aic_alternatives","text":"","code":"get_effective_aic_range_chisq(top_percentile, df = 2)  get_effective_aic_range_likelihood(top_percentile)  get_effective_aic_range_empirical(top_percentile)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/effective_aic_alternatives.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Alternative Theoretically-Grounded Approaches for Effective AIC Range â€” effective_aic_alternatives","text":"top_percentile Numeric percentage (0-100) top simulations df Degrees freedom chi-square approach (default: 2)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/effective_aic_alternatives.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Alternative Theoretically-Grounded Approaches for Effective AIC Range â€” effective_aic_alternatives","text":"","code":"# Compare different approaches percentiles <- c(1, 5, 10, 20)  # Current ad hoc formula current <- sapply(percentiles, function(p) 2 + 2.3 * log10(p))  # Chi-square based chisq_based <- sapply(percentiles, get_effective_aic_range_chisq)  # Relative likelihood based likelihood_based <- sapply(percentiles, get_effective_aic_range_likelihood)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Cholera Epidemic Peaks Data â€” epidemic_peaks","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"dataset containing identified epidemic peaks cholera surveillance data across African countries. Peaks detected using time series analysis smoothing prominence-based peak detection algorithms.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"","code":"epidemic_peaks"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"data frame 5 variables: iso_code ISO 3166-1 alpha-3 country code peak_start Start date epidemic period (Date) peak_date Date peak incidence (Date) peak_stop End date epidemic period (Date) reported_cases Number reported cholera cases peak (numeric)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"Generated cholera surveillance data using est_epidemic_peaks() function combined daily surveillance data sources.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"Epidemic peaks identified using following methodology: Time series smoothing 21-day running mean window Local maxima detection 7-day comparison windows Prominence-based filtering (minimum 10\\ Minimum peak height threshold 10 smoothed cases Minimum 90-day separation consecutive peaks Peak boundaries defined incidence drops 1/3 peak height Country-specific adjustments applied : Niger (NER): Lower prominence threshold (2\\ Cameroon (CMR): Adjusted threshold (5\\ Ethiopia (ETH): Standard threshold (7\\ Manual corrections applied known issues including: Ethiopia 2024: February peak corrected March (sustained outbreak) DRC 2023: Added January peak (filtered due proximity) Nigeria 2024: Added October peak Kenya 2022-2023: Added December 2022, removed June 2023 minor peak Mozambique: Added February 2024 March 2025 peaks Somalia: Added major April 2017 peak 2024-2025 peaks Zambia: Added January 2018 peak Tanzania: Added January 2017 peak","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/epidemic_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cholera Epidemic Peaks Data â€” epidemic_peaks","text":"","code":"data(epidemic_peaks) head(epidemic_peaks) #>     iso_code peak_start  peak_date  peak_stop reported_cases #> 118      AGO 2018-01-01 2018-01-04 2018-01-31             24 #> 1        AGO 2025-03-29 2025-04-28 2025-05-28            303 #> 120      BDI 2016-08-01 2016-08-21 2016-10-31              9 #> 119      BDI 2017-10-15 2017-10-17 2017-10-19              6 #> 121      BDI 2023-04-06 2023-04-13 2023-04-30              8 #> 2        BDI 2023-09-03 2023-09-11 2023-09-19             13 #>     outbreak_interval_days #> 118                     30 #> 1                       60 #> 120                     91 #> 119                      4 #> 121                     24 #> 2                       16  # Countries with epidemic data unique(epidemic_peaks$iso_code) #>  [1] \"AGO\" \"BDI\" \"BEN\" \"CAF\" \"CIV\" \"CMR\" \"COD\" \"COG\" \"ETH\" \"GHA\" \"GIN\" \"KEN\" #> [13] \"LBR\" \"MOZ\" \"MWI\" \"NER\" \"NGA\" \"RWA\" \"SDN\" \"SLE\" \"SOM\" \"SSD\" \"TCD\" \"TGO\" #> [25] \"TZA\" \"UGA\" \"ZMB\" \"ZWE\"  # Recent peaks (2024-2025) recent_peaks <- epidemic_peaks[epidemic_peaks$peak_date >= as.Date(\"2024-01-01\"), ] table(recent_peaks$iso_code) #>  #> AGO BDI COD COG ETH GHA KEN MOZ NER NGA RWA SDN SOM SSD TGO TZA UGA ZMB ZWE  #>   1   2   1   1   2   1   3   2   1   2   1   4   2   2   1   3   3   2   2   # Peak duration calculation epidemic_peaks$duration <- as.numeric(   epidemic_peaks$peak_stop - epidemic_peaks$peak_start ) summary(epidemic_peaks$duration) #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.  #>    2.00   14.50   28.00   31.19   45.75  117.00"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"Fits hierarchical generalized additive model (GAM) estimate case fatality rates (CFR) across African countries time periods. model uses smooth splines temporal trends country-specific random effects, handling missingness borrowing strength across countries years. Results saved MODEL_INPUT directory use MOSAIC simulations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"","code":"est_CFR_hierarchical(   PATHS,   min_cases = 20,   k_year = 12,   include_country_trends = TRUE,   population_weighted = FALSE,   save_diagnostics = TRUE,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"PATHS List containing paths data directories, typically get_paths() min_cases Integer, minimum number cases required include observation (default 20) k_year Integer, number basis functions year spline (default 12) include_country_trends Logical, whether include country-specific temporal trends (default TRUE) population_weighted Logical, whether weight observations population size UN data (default FALSE) save_diagnostics Logical, whether save diagnostic plots (default TRUE) verbose Logical, whether print progress messages (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"List containing: model: Fitted GAM model object predictions: Data frame CFR estimates countries years country_effects: Estimated country-specific deviations temporal_trend: Population-average temporal trend validation: Cross-validation results recent years summary: Summary statistics model fit metrics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"function fits hierarchical GAM model following structure: Global temporal trend using thin-plate splines Country-specific random intercepts Optional country-specific smooth deviations global trend Binomial likelihood logit link proper handling rates Predictions extended current year based Sys.Date() Model outputs include: Point estimates 95% confidence intervals country-years Country-specific random effects quantifying systematic differences Smooth temporal trends showing CFR evolution time Model diagnostics validation metrics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_CFR_hierarchical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Case Fatality Rate using Hierarchical GAM with Time Series Splines â€” est_CFR_hierarchical","text":"","code":"if (FALSE) { # \\dontrun{ # Standard usage PATHS <- get_paths() cfr_model <- est_CFR_hierarchical(PATHS)  # Custom settings for smoother trends cfr_model <- est_CFR_hierarchical(   PATHS,   min_cases = 50,   k_year = 8,   include_country_trends = FALSE ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"function processes Water, Sanitation, Hygiene (WASH) coverage data African countries, optimizes weights WASH variables, calculates weighted means, examines correlation cholera incidence, imputes missing WASH values using similarity matrix. function generates plots tables showing relationships saves results specified paths.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"","code":"est_WASH_coverage(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"PATHS list containing paths WASH data, figures, model inputs saved. Typically generated get_paths() function include: DATA_WASH: Path WASH data CSV file. DOCS_FIGURES: Path save output figures. MODEL_INPUT: Path save model input data. DOCS_TABLES: Path save tables used documentation. DATA_SIMILARITY_MATRIX: Path similarity matrix CSV file imputation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"function return value, generates saves plots CSV files showing WASH coverage estimates, optimized weights WASH variables, correlation cholera incidence, imputed values missing data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"WASH coverage data first normalized (0-1 scale). Risk-related WASH variables (unimproved water sources, surface water, unimproved sanitation, open defecation) converted protective factors taking complement (1 - value). , function: Optimizes weights WASH variable maximize correlation cholera incidence using L-BFGS-B method. Calculates weighted mean WASH variables country. Imputes missing WASH data based country similarity matrix. Missing WASH values estimated using weighted average top 3 similar countries. Generates multiple plots showing relationships WASH variables cholera incidence. Saves tables optimized weights, weighted mean WASH indices, imputed WASH values. Data Source: Sikder et al. (2023). Water, Sanitation, Hygiene Coverage Cholera Incidence Sub-Saharan Africa. doi:10.1021/acs.est.3c01317 .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_WASH_coverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate, Visualize, and Impute WASH Coverage and Correlation with Cholera Incidence â€” est_WASH_coverage","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for saving WASH data, figures, and tables PATHS <- get_paths()  # Estimate WASH coverage and correlation with cholera incidence est_WASH_coverage(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"function estimates daily population, birth rates, death rates countries MOSAIC framework based UN World Population Prospects data. function interpolates annual demographic data daily values applies optional smoothing method generate continuous time-series estimates. function can produce smoothed times series length 1967 2100 (extent processed UN data model projections).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"","code":"est_demographic_rates(PATHS, date_start, date_stop, smooth_method)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"PATHS list containing paths raw processed data stored. PATHS typically output get_paths() function include following components: DATA_RAW: Path directory containing raw UN World Population Prospects data. DATA_PROCESSED: Path directory processed demographic data saved. DATA_WHO_ANNUAL: Path directory containing annual cholera mortality data. MODEL_INPUT: Path directory model input parameter files saved. date_start starting date demographic parameters. Accepts Date class objects valid character strings. date_stop ending date data demographic parameters. Must valid date format (date_start). smooth_method method used smooth annual demographic rates converting daily time scale. Must one following: \"none\": smoothing applied (annual values transposed daily time scale). \"linear\": Applies simple moving average smoothing. \"spline\": Uses cubic spline interpolation smoothing.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"function return value. estimates demographic rates saves results CSV files containing population size, birth rates, death rates time.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"function performs following steps: Filters demographic data specified date range. Converts annual birth death rates daily estimates. Removes reported cholera deaths -cause mortality estimates. Applies chosen smoothing method daily demographic rates. Saves processed data model parameters specified directory. processed data file saved PATHS$DATA_PROCESSED/demographics/, model input parameters stored PATHS$MODEL_INPUT/. Data Source: United Nations World Population Prospects","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_demographic_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Daily Demographic Rates from UN World Population Prospects Data â€” est_demographic_rates","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for raw and processed data PATHS <- get_paths()  # Estimate demographic rates from 2000-01-01 to 2023-12-31 using spline smoothing est_demographic_rates(PATHS, date_start = \"2000-01-01\", date_stop = \"2023-12-31\", smooth_method = \"spline\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_epidemic_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","title":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","text":"function identifies characterizes epidemic peaks cholera incidence time series data countries available data. detects peak timing, magnitude, duration epidemic periods.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_epidemic_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","text":"","code":"est_epidemic_peaks(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_epidemic_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","text":"PATHS List paths generated get_paths() containing required data locations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_epidemic_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","text":"data frame containing epidemic peak parameters","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_epidemic_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Epidemic Peaks from Cholera Time Series Data â€” est_epidemic_peaks","text":"","code":"if (FALSE) { # \\dontrun{ # Set up paths and run epidemic peak estimation set_root_directory(\"~/MOSAIC\") PATHS <- get_paths()  # Estimate epidemic peaks for all countries epidemic_results <- est_epidemic_peaks(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Immune Decay â€” est_immune_decay","title":"Estimate Immune Decay â€” est_immune_decay","text":"function estimates immune durability fitting proportional decay model data. uses nonlinear least squares fitting (NLS) estimate decay parameters generates plots predicted immune durability decay rate distributions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Immune Decay â€” est_immune_decay","text":"","code":"est_immune_decay(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Immune Decay â€” est_immune_decay","text":"PATHS list containing paths data figures saved. Typically generated get_paths() function include: DATA_IMMUNE_DURABILITY: Path directory containing immune durability data. DOCS_FIGURES: Path directory plots saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Immune Decay â€” est_immune_decay","text":"","code":"if (FALSE) { # Assuming PATHS is generated from get_paths() PATHS <- get_paths() est_immune_decay(PATHS) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay_vaccine.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","title":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","text":"function estimates oral cholera vaccine (OCV) immune decay fitting exponential decay models meta-regression effectiveness data Xu et al (2024). estimates decay parameters (omega) initial effectiveness (phi) one-dose two-dose regimens, generates plots predicted vaccine effectiveness time.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay_vaccine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","text":"","code":"est_immune_decay_vaccine(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay_vaccine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","text":"PATHS list containing paths data figures saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory parameter files saved. DOCS_FIGURES: Path directory plots saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay_vaccine.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","text":"Xu et al. (2024). Effectiveness Oral Cholera Vaccines: Systematic Review Meta-Analysis. medRxiv. https://doi.org/10.1101/2024.08.13.24311930v2","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_immune_decay_vaccine.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Vaccine Immune Decay â€” est_immune_decay_vaccine","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths() est_vaccine_immune_decay(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"function estimates initial number individuals Exposed (E) Infected () compartments model start time using recent surveillance data Monte Carlo simulation approach.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"","code":"est_initial_E_I(   PATHS,   priors,   config,   n_samples = 1000,   t0 = NULL,   lookback_days = 21,   verbose = TRUE,   parallel = FALSE,   variance_inflation = 2 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"PATHS List paths get_paths(). priors Prior distributions parameters (e.g., priors_default). config Configuration object location codes date_start. Must include config$location_name config$date_start. n_samples Number Monte Carlo samples (default 1000). t0 Target date estimation (default config$date_start). lookback_days Days surveillance data use (default 21). verbose Print progress messages (default TRUE). parallel Enable parallel processing Monte Carlo sampling n_samples >= 100 (default FALSE). Uses parallel::mclapply() available cores. Note: supported Windows. variance_inflation Factor create variance Beta distributions (default 2). Sets ci_lower = mean_val / variance_inflation ci_upper = mean_val * variance_inflation. Values > 1 create wider distributions around sample mean. > 1.1 meaningful variance.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"list two main components: metadata List containing estimation details: description, version, date, t0, lookback_days, n_samples, method. parameters_location List prop_E_initial prop_I_initial, containing: parameter_name: Parameter identifier distribution: \"beta\" parameters$location: Named list ISO code shape1 shape2","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"method back-calculates true infections reported cases using surveillance cascade, accounts reporting delays, estimates E/compartments based epidemiological progression rates. Includes comprehensive parameter validation, numerical stability protections, optional parallel processing.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Initial E and I Compartments from Surveillance Data â€” est_initial_E_I","text":"","code":"if (FALSE) { # \\dontrun{ PATHS  <- get_paths() priors <- priors_default config <- config_default results <- est_initial_E_I(   PATHS, priors, config,   n_samples = 1000,   variance_inflation = 2           # Factor for expanding CI bounds around sample mean ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"function performs actual E/estimation single location using surveillance data epidemiological parameters. back-calculates true infections reported cases using surveillance cascade, accounts infection--report delays, estimates current E compartments based disease progression.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"","code":"est_initial_E_I_location(   cases,   dates,   population,   t0,   lookback_days = 60,   sigma,   rho,   chi,   tau_r,   iota,   gamma_1,   gamma_2,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"cases Vector daily suspected cholera cases (must length dates) dates Vector dates corresponding cases (Date class) population Total population location (must positive) t0 Target date estimation (Date class) lookback_days Days data use (default 60, must positive) sigma Symptomatic proportion (must (0,1]) rho Reporting rate - proportion symptomatic cases reported (must (0,1]) chi Diagnostic positivity - proportion suspected cases true cholera (must (0,1]) tau_r Reporting delay days symptom onset report (must non-negative) iota Incubation rate (1/incubation period, must positive) gamma_1 Symptomatic recovery rate (must positive) gamma_2 Asymptomatic recovery rate (must positive) verbose Print detailed progress (default FALSE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"list two components: E Number individuals Exposed compartment (non-negative numeric) Number individuals Infected compartment (non-negative numeric) Returns E=0, =0 cases lookback window. Includes numerical stability protections parameter validation. Warns E exceed 2% population.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"function includes comprehensive parameter validation, numerical stability protections exponential calculations, detailed progress reporting verbose=TRUE. Uses exact infectiousness kernels compartment estimation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_E_I_location.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate E and I Compartments for a Single Location â€” est_initial_E_I_location","text":"","code":"if (FALSE) { # \\dontrun{ # Example with synthetic data cases <- rpois(60, lambda = 5) dates <- seq(as.Date(\"2023-01-01\"), by = \"day\", length.out = 60) result <- est_initial_E_I_location(   cases = cases,   dates = dates,   population = 1000000,   t0 = as.Date(\"2023-03-01\"),   sigma = 0.125,   rho = 0.1,   chi = 0.5,   tau_r = 4,   iota = 0.714,   gamma_1 = 0.2,   gamma_2 = 0.67 ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","title":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","text":"Estimates initial proportion population Recovered (R) compartment based historical cholera surveillance data. R compartment represents individuals natural immunity previous cholera infection, subject waning immunity.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","text":"","code":"est_initial_R(   PATHS,   priors,   config,   n_samples = 1000,   t0 = NULL,   disaggregate = TRUE,   verbose = TRUE,   parallel = FALSE,   variance_inflation = 1 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","text":"PATHS List containing paths data directories priors List containing prior distributions model parameters config List containing model configuration including location codes n_samples Integer, number Monte Carlo samples uncertainty quantification (default 1000) t0 Date object, target date estimation (default NULL uses current date) disaggregate Logical, whether use Fourier disaggregation (TRUE) mid-year point estimate (FALSE) verbose Logical, whether print progress messages (default TRUE) parallel Logical, whether use parallel processing locations length(location_codes) >= 8 (default FALSE). Uses parallel::mclapply() available cores. Note: supported Windows. variance_inflation Numeric factor inflate variance fitted Beta distributions (default 1 = inflation). Values > 1 increase uncertainty preserving mean. example, 2 doubles variance.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","text":"List structure matching priors_default prop_R_initial parameters","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Initial R Compartment from Historical Cholera Surveillance â€” est_initial_R","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() priors <- priors_default config <- config_default initial_R <- est_initial_R(PATHS, priors, config, n_samples = 1000,                            t0 = as.Date(\"2024-01-01\"), disaggregate = TRUE) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial R Compartment for Single Location â€” est_initial_R_location","title":"Estimate Initial R Compartment for Single Location â€” est_initial_R_location","text":"Estimates recovered population time t0 single location based historical infection data, accounting waning immunity.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial R Compartment for Single Location â€” est_initial_R_location","text":"","code":"est_initial_R_location(   cases,   dates,   population,   t0,   epsilon,   sigma = 0.01,   rho = 0.1,   chi = 0.5,   iota,   gamma_1,   gamma_2 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial R Compartment for Single Location â€” est_initial_R_location","text":"cases Vector reported suspected cholera cases dates Vector dates corresponding cases population Population size t0 t0 Target date estimation epsilon Waning immunity rate (per day) sigma Proportion infections symptomatic rho Reporting rate symptomatic cases chi Diagnostic positivity rate iota Incubation rate (per day) gamma_1 Symptomatic recovery rate (per day) gamma_2 Asymptomatic recovery rate (per day)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_R_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial R Compartment for Single Location â€” est_initial_R_location","text":"Numeric value R compartment size t0","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"Estimates initial proportion population Susceptible (S) compartment using constraint S + V1 + V2 + E + + R = 1. function samples estimated priors compartments calculates S constrained residual, ensuring mathematical consistency propagating uncertainty compartments.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"","code":"est_initial_S(   PATHS,   priors,   config,   n_samples = 1000,   t0 = NULL,   variance_inflation = 0,   verbose = TRUE,   min_S_proportion = 0.01 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"PATHS List containing paths data directories (compatibility) priors Prior distributions object containing estimated priors V1, V2, E, , R config Configuration object containing location codes n_samples Integer, number Monte Carlo samples uncertainty quantification (default 1000) t0 Date object, target date estimation (default NULL, used metadata) variance_inflation Numeric factor inflate variance fitted Beta distributions (default 1 = inflation). Values > 1 increase uncertainty preserving mean. example, 2 doubles variance. verbose Logical, whether print progress messages (default TRUE) min_S_proportion Numeric, minimum allowed S proportion prevent negative values (default 0.01 = 1%)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"List priors_default-compatible structure containing: metadata Information estimation run including summary statistics parameters_location Parameter hierarchy matching priors_default: prop_S_initial: Beta distribution parameters S/N location parameter contains $parameters$location$ISO_CODE shape1 shape2","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"function implements constrained residual approach: Method Overview: Sample estimated Beta priors V1, V2, E, , R compartments Calculate S constrained residual: S = 1 - (V1 + V2 + E + + R) Apply constraints: ensure S â‰¥ min_S_proportion handle -allocation Fit Beta distribution S samples using CI expansion method Return priors-compatible structure metadata Constraint Handling: compartments sum > (1 - min_S_proportion), proportionally scale Ensures S always â‰¥ min_S_proportion biological realism Maintains mathematical consistency: compartments sum 1 Fallback Behavior: estimated priors unavailable compartment, uses default prior parameters Locations without estimated compartments use independent S prior (Beta(30, 7.5)) Graceful degradation ensures function always returns valid results Uncertainty Propagation: S uncertainty incorporates uncertainty compartments Variance inflation applied using CI expansion method consistent est_initial_* functions Countries high vaccination/immunity naturally get lower certain S estimates","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_S.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Initial S Compartment from Other Compartment Priors â€” est_initial_S","text":"","code":"if (FALSE) { # \\dontrun{ # After running est_initial_V1_V2, est_initial_E_I, est_initial_R PATHS <- get_paths() priors_updated <- priors_default  # With updated V1,V2,E,I,R compartments  initial_S <- est_initial_S(   PATHS = PATHS,   priors = priors_updated,   config = config_default,   n_samples = 1000,   variance_inflation = 2  # Double the variance for less constrained priors )  # Access results for a location eth_s_params <- initial_S$parameters_location$prop_S_initial$parameters$location$ETH eth_s_mean <- eth_s_params$metadata$mean } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"Estimates initial V1 (one-dose) V2 (two-dose) vaccination compartment values locations specified config, uncertainty quantification Monte Carlo sampling prior distributions. Returns results formatted priors-like object Beta distribution parameters V1/N V2/N proportions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"","code":"est_initial_V1_V2(   PATHS,   priors,   config,   n_samples = 1000,   t0 = NULL,   verbose = TRUE,   parallel = FALSE,   variance_inflation = 1 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"PATHS List object get_paths() containing data directory paths priors Prior distributions object (e.g., priors_default custom) config Configuration object containing location names (location_name location_codes) parameters n_samples Integer, number Monte Carlo samples uncertainty (default 1000) t0 Date object initial condition estimation (default config$date_start config$t0) verbose Logical, whether print progress messages (default TRUE) parallel Logical, whether use parallel processing (default FALSE). TRUE, automatically detects cores handles platform differences. variance_inflation Numeric factor inflate variance fitted Beta distributions (default 1 = inflation). Values > 1 increase uncertainty preserving mean. example, 2 doubles variance.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"list priors_default-compatible structure containing: metadata Information estimation run including summary statistics parameters_location Parameter-first hierarchy matching priors_default: prop_V1_initial: Beta distribution parameters V1/N location prop_V2_initial: Beta distribution parameters V2/N location parameter contains $parameters$location$ISO_CODE shape1, shape2, metadata","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"function performs following steps location: Loads vaccination population data Runs Monte Carlo simulation sampling priors omega phi Calculates V1 V2 sample Fits Beta distributions V1/N V2/N proportions Compiles results standardized format","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Initial V1 and V2 Compartments for All Locations â€” est_initial_V1_V2","text":"","code":"if (FALSE) { # \\dontrun{ # Standard usage PATHS <- get_paths() initial_conditions <- est_initial_V1_V2(   PATHS = PATHS,   priors = priors_default,   config = config_example,   n_samples = 1000 )  # Access results for a location (priors_default-compatible structure) eth_v1_params <- initial_conditions$parameters_location$prop_V1_initial$parameters$location$ETH eth_v1_shape1 <- eth_v1_params$shape1 eth_v1_mean <- eth_v1_params$metadata$mean } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"Estimates number individuals V1 (one-dose) V2 (two-dose) vaccination compartments given time point (t0) single location. function tracks vaccination cohorts time using FIFO (First--First-) queue system, accounts waning immunity via exponential decay, incorporates vaccine effectiveness, respects operational constraints including vaccination coverage ceilings minimum inter-dose intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"","code":"est_initial_V1_V2_location(   dates,   doses,   t0,   N = NA,   vacc_ceiling_frac = 0.6,   omega1 = 0.003,   omega2 = 0.003,   t_lag = 14L,   min_interdose_days = 40L,   phi1 = 1,   phi2 = 1,   allocation_logic = \"FIFO\" )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"dates vector dates doses administered (Date character can coerced Date). Must length doses. doses numeric vector doses administered date. Must positive values. Must length dates. t0 target date estimate V1 V2 compartments (Date object). vaccination events date considered. N Population size(s) location. Can : single numeric value constant population numeric vector (length dates) time-varying population NA ceiling constraint needed vacc_ceiling_frac Maximum fraction population can receive first doses (numeric 0 1). Default 0.6 (60% coverage ceiling). omega1 Waning rate one-dose protection (numeric, positive). Units 1/days. Default corresponds approximately 231-day half-life (0.003). omega2 Waning rate two-dose protection (numeric, positive). Units 1/days. Default equals omega1 typically lower (slower waning). t_lag Lag time days vaccine protection develop administration (integer, non-negative). Default 14 days. min_interdose_days Minimum number days required first second doses (integer, non-negative). Default 40 days following OCV guidelines. phi1 Vaccine effectiveness one-dose regimen (proportion developing protection). Numeric 0 1. Default 1.0 (100% effectiveness). phi2 Vaccine effectiveness two-dose regimen (proportion developing protection). Numeric 0 1. Default 1.0 (100% effectiveness). allocation_logic Character string specifying second dose allocation method ceiling reached. Either \"FIFO\" (First--First-, oldest cohorts first) \"LIFO\" (Last--First-, newest eligible cohorts first). Default \"FIFO\" backward compatibility. LIFO realistic actual campaigns.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"named numeric vector two elements: V1 Estimated number effectively protected individuals one-dose time t0 V2 Estimated number effectively protected individuals two-dose time t0","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"function implements sophisticated vaccine allocation algorithm : Cohort Tracking: Maintains separate cohorts first second doses timestamps Uses FIFO logic allocate second doses oldest eligible first-dose cohorts Second doses decrement V1 increment V2 (individuals move compartments) Constraint Enforcement: Vaccination ceiling: First doses exceed vacc_ceiling_frac * N[] time point Inter-dose interval: Second doses cohorts least min_interdose_days old -day second doses (enforced inter-dose interval) Time-varying population: N vector, ceiling adapts population vaccination date Allocation Priority: V1 ceiling, prioritize second doses eligible cohorts Allocate first doses remaining ceiling capacity Use remaining doses additional second doses possible Excess doses beyond constraints effectively lost Second Dose Allocation Logic (ceiling reached): FIFO: Allocates oldest eligible cohorts first (traditional approach) LIFO: Allocates newest eligible cohorts first (realistic) LIFO recommended better reflects real campaign behavior recent vaccinees accessible follow-doses. Waning Immunity: Final V1 V2 estimates account exponential decay protection: $$V_i(t_0) = \\sum_{cohorts} size_j \\times exp(-\\omega_i \\times (t_0 - date_j - t_{lag}))$$ Vaccine Effectiveness: output represents effectively protected individuals, just vaccinated: $$V1_{effective} = V1_{vaccinated} \\times \\phi_1$$ $$V2_{effective} = V2_{vaccinated} \\times \\phi_2$$ Note: Ceiling constraints operate administrative coverage (doses given), effective coverage.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"(2017). Cholera vaccines: position paper. Weekly Epidemiological Record.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_initial_V1_V2_location.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Initial V1 and V2 Compartments for a Location â€” est_initial_V1_V2_location","text":"","code":"if (FALSE) { # \\dontrun{ # Create sample vaccination data dates <- seq.Date(from = as.Date(\"2023-01-01\"),                   to = as.Date(\"2023-12-31\"),                   by = \"month\") doses <- c(50000, 45000, 40000, 35000, 30000, 25000,            20000, 15000, 10000, 5000, 3000, 2000)  # Example 1: Constant population v_const <- est_initial_V1_V2_location(   dates = dates,   doses = doses,   t0 = as.Date(\"2024-01-01\"),   N = 1000000,   vacc_ceiling_frac = 0.6,   omega1 = 0.003,   omega2 = 0.0015,   t_lag = 14,   min_interdose_days = 40,   phi1 = 0.65,  # 65% one-dose effectiveness   phi2 = 0.85,  # 85% two-dose effectiveness   allocation_logic = \"FIFO\"  # Default )  # Example 2: Time-varying population (e.g., 1% annual growth) N_vec <- 1000000 * (1.01 ^ (0:11/12))  # Monthly growth v_varying <- est_initial_V1_V2_location(   dates = dates,   doses = doses,   t0 = as.Date(\"2024-01-01\"),   N = N_vec,   allocation_logic = \"LIFO\"  # Recent cohorts get second doses first )  print(v_const) # V1      V2 # 80246   67074    print(v_varying)  # V1      V2 # 65432   67074  # May differ due to population changes } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_mobility.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","title":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","text":"function estimates departure probability (tau_i) diffusion model (pi_ij) using flight data, distance matrices, population sizes. processes flight data, builds mobility distance matrices, fits mobility model, saves results CSV format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_mobility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","text":"","code":"est_mobility(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_mobility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","text":"PATHS list containing paths data, models, figures stored. Typically generated get_paths() function include: DATA_OAG: Path directory containing flight data (OAG). DATA_SHAPEFILES: Path directory containing shapefiles African countries. DATA_DEMOGRAPHICS: Path directory containing demographic data. MODEL_INPUT: Path directory model input files saved. DOCS_FIGURES: Path directory figures saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_mobility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","text":"function saves mobility matrices (M, D, N), travel probabilities (tau_j), diffusion matrices (pi_ij) CSV files specified directory. also generates saves visualizations PNG files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_mobility.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Fit Mobility Model Using Flight Data and Distance Matrices â€” est_mobility","text":"function requires optional mobility package GitHub. Install : remotes::install_github(\"COVID-19-Mobility-Data-Network/mobility\") mobility package requires JAGS (>= 4.3.0) installed system. users need regenerate mobility data, pre-computed files included package.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_seasonal_dynamics.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Seasonal Dynamics for Cholera and Precipitation Using Daily Fourier Series â€” est_seasonal_dynamics","title":"Estimate Seasonal Dynamics for Cholera and Precipitation Using Daily Fourier Series â€” est_seasonal_dynamics","text":"function retrieves historical precipitation data, processes cholera case data, fits seasonal dynamics models using double Fourier series daily scale (p = 365). Weekly data expanded assigning weekly value every day week.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_seasonal_dynamics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Seasonal Dynamics for Cholera and Precipitation Using Daily Fourier Series â€” est_seasonal_dynamics","text":"","code":"est_seasonal_dynamics(   PATHS,   date_start,   date_stop,   min_obs = 30,   clustering_method,   k,   exclude_iso_codes = NULL,   data_sources = c(\"WHO\", \"JHU\", \"SUPP\") )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_seasonal_dynamics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Seasonal Dynamics for Cholera and Precipitation Using Daily Fourier Series â€” est_seasonal_dynamics","text":"PATHS list containing paths raw processed data stored. See get_paths(). date_start date YYYY-MM-DD format indicating start date precipitation data. date_stop date YYYY-MM-DD format indicating stop date precipitation data. min_obs minimum number observations required fit Fourier series cholera case data. clustering_method clustering method use (e.g., \"kmeans\", \"ward.D2\", etc.). k Number clusters grouping countries seasonality. exclude_iso_codes Optional character vector ISO codes exclude clustering neighbor matching. data_sources Character vector data sources include. Default c('', 'JHU', 'SUPP').","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_seasonal_dynamics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Seasonal Dynamics for Cholera and Precipitation Using Daily Fourier Series â€” est_seasonal_dynamics","text":"Saves daily fitted values parameter estimates CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"function loads climate data, ENSO data, weekly cholera cases data estimate environmental suitability cholera transmission based various environmental factors. scales climate covariates fits LSTM-based RNN model predict cholera outbreaks. model trained using past cholera case data climate conditions, predictions made environmental suitability (psi) based climate covariates.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"","code":"est_suitability(   PATHS,   fit_date_start = NULL,   fit_date_stop = NULL,   pred_date_start = NULL,   pred_date_stop = NULL,   n_splits = 10,   seed_base = 99,   fine_tune_epochs = 12,   fine_tune_lr = 0.001,   split_method = \"random\",   train_prop = 0.6 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"PATHS list containing paths data stored. Typically generated get_paths() function include: DATA_CHOLERA_WEEKLY: Path directory containing processed combined weekly cholera cases data (+JHU+SUPP sources). DATA_ELEVATION: Path directory elevation data stored. MODEL_INPUT: Path save processed model inputs outputs. DOCS_FIGURES: Path save generated plots. fit_date_start Date string NULL. Start date model fitting period. NULL, auto-detects first cholera case data. fit_date_stop Date string NULL. End date model fitting period. NULL, auto-detects last date cholera cases complete ENSO data. pred_date_start Date string NULL. Start date prediction period. NULL, uses fit_date_start. pred_date_stop Date string NULL. End date prediction period. NULL, auto-detects last date complete ENSO data. n_splits Integer. Number sequential random train/test splits transfer learning. Default 1 (fine-tuning). seed_base Integer. Base seed reproducible random splits. split uses seed_base + split_number. fine_tune_epochs Integer. Number epochs fine-tuning additional splits. Default 10. fine_tune_lr Numeric. Lower learning rate fine-tuning additional splits. Default 0.00001. split_method Character. Method train/validation splitting: \"random\" (default) \"location_month_block\". \"location_month_block\" method groups sequences country-month randomly assigns entire blocks, better tests spatial-temporal generalization preventing data leakage within location-months. train_prop Numeric. Proportion data training initial split (default 0.6). Used splitting methods.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"function processes climate cholera case data, fits LSTM model, makes predictions environmental suitability (psi), saves predictions covariate data. also generates plot showing model fit (MAE loss training epochs) saves specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"function performs following steps: Loads processed climate cholera data. Determines appropriate date ranges fitting prediction based data availability. Validates data completeness within specified date ranges. Scales climate covariates using training data statistics. Splits training data training validation sets using either random sampling location-month blocking. Creates temporal LSTM sequences respecting country boundaries temporal gaps. Builds LSTM-based recurrent neural network (RNN) model predicting cholera outbreaks. Trains model training set evaluates performance validation set. Makes predictions full prediction period dataset. Applies temporal smoothing predictions saves results specified directories. Optional: Performs sequential fine-tuning additional random splits transfer learning.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"LSTM model uses climate variables predict cholera suitability. model's predictions saved CSV file plot showing model fit (MAE loss) generated.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_suitability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Environmental Suitability (psi) for Cholera Transmission â€” est_suitability","text":"","code":"if (FALSE) { # \\dontrun{ # Set up paths PATHS <- get_paths()  # Basic usage with default settings est_suitability(PATHS)  # Custom date ranges for fitting and prediction est_suitability(PATHS,                fit_date_start = \"2015-01-01\",                fit_date_stop = \"2023-12-31\",                pred_date_start = \"2020-01-01\",                pred_date_stop = \"2025-12-31\")  # Transfer learning with sequential fine-tuning on 3 random splits est_suitability(PATHS,                n_splits = 3,                seed_base = 123,                fine_tune_epochs = 15,                fine_tune_lr = 0.00003)  # Use location-month blocking for better spatial-temporal generalization est_suitability(PATHS,                split_method = \"location_month_block\",                train_prop = 0.7)  # Location-month blocking with transfer learning est_suitability(PATHS,                split_method = \"location_month_block\",                n_splits = 5,                train_prop = 0.6,                seed_base = 42) } # }  if (FALSE) { # \\dontrun{ # Basic usage with auto-detected date ranges est_suitability(PATHS)  # Historical validation: fit on 2010-2020, predict on 2021-2023 est_suitability(PATHS,                 fit_date_start = \"2010-01-01\",                 fit_date_stop = \"2020-12-31\",                 pred_date_start = \"2021-01-01\",                 pred_date_stop = \"2023-12-31\")  } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_symptomatic_prop.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","title":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","text":"function reads symptomatic proportion data, fits Beta distribution simulate proportion infections symptomatic, generates visualizations comparing estimates previous studies.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_symptomatic_prop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","text":"","code":"est_symptomatic_prop(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_symptomatic_prop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","text":"PATHS list containing paths symptomatic proportion data figures saved. Typically generated get_paths() function include: DATA_PROCESSED: Path symptomatic proportion data. DOCS_FIGURES: Path save generated plots.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_symptomatic_prop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","text":"function return value generates saves plots PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_symptomatic_prop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate and Visualize Symptomatic Proportion Data â€” est_symptomatic_prop","text":"","code":"if (FALSE) { # \\dontrun{ # Estimate and visualize symptomatic proportion data PATHS <- get_paths() est_symptomatic_prop(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"Prepare input data fit negative-binomial spatial random-field model (SPDE + IID site effect) obtain location-specific multiplicative transmission modifiers.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"","code":"est_transmission_spatial_structure(PATHS, config)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"PATHS named list minimum: DATA_WORLD_BANK, DATA_ELEVATION, DATA_CLIMATE Character paths covariate files. MODEL_INPUT Character path directory parameter CSV written. config named list elementsâ€¦","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"list components relative_multiplier Numeric vector \\(\\exp(u_j)\\). model Fitted INLA object. inputs Internal objects (mesh, data_list, â€¦). data Merged site-level data frame used fit.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"response total reported incidence aggregated analysis window. log-offset \\(\\log(N_j \\times T)\\) applied, \\(N_j\\) site-level population \\(T\\) number observation days.  latent field MatÃ©rn SPDE (Lindgren et al., 2011). CSV estimated multipliers written file.path(PATHS$MODEL_INPUT, \"param_beta_relative_multiplier.csv\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"Lindgren, F., Rue, H. & LindstrÃ¶m, J. (2011). â€¦","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_transmission_spatial_structure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate spatial transmission structure using INLA â€” est_transmission_spatial_structure","text":"","code":"if (FALSE) { # \\dontrun{   paths  <- list(MODEL_INPUT = tempdir(), DATA_WORLD_BANK = \"...\", ...)   config <- MOSAIC::config_default[1:3]   # first three sites   res <- est_transmission_spatial_structure(paths, config)   head(res$relative_multiplier) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"function processes vaccination data GTFCC, redistributes doses based maximum daily rate, calculates vaccination parameters use MOSAIC cholera model. processed data includes redistributed daily doses, cumulative doses, proportion population vaccinated. results saved CSV files downstream modeling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"","code":"est_vaccination_rate(   PATHS,   date_start = NULL,   date_stop = NULL,   max_rate_per_day,   data_source )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"PATHS list containing file paths, including: DATA_SCRAPE_WHO_VACCINATION path folder containing vaccination data. DATA_DEMOGRAPHICS path folder containing demographic data. MODEL_INPUT path folder processed data saved. date_start start date vaccination data range (\"YYYY-MM-DD\" format). Defaults earliest date data. date_stop stop date vaccination data range (\"YYYY-MM-DD\" format). Defaults latest date data. max_rate_per_day maximum vaccination rate per day used redistribute doses. Default 100,000 doses/day. data_source source vaccination data. Must one \"\", \"GTFCC\", \"\". \"\" specified, function uses combined data sources GTFCC prioritized unique campaigns added.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"function return R object saves following files directory specified PATHS$MODEL_INPUT: redistributed vaccination data file named \"data_vaccinations_<suffix>_redistributed.csv\" suffix , GTFCC, GTFCC_WHO. parameter data frame vaccination rate (nu) named \"param_nu_vaccination_rate_<suffix>.csv\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"function performs following steps: Load Vaccination Data: - Reads processed vaccination data GTFCC filters relevant columns (iso_code, campaign_date, doses_shipped). Redistribute Doses: - Redistributes shipped doses day day based maximum daily rate (max_rate_per_day). - Ensures duplication distribution_date within iso_code. Validate Redistribution: - Checks redistributed doses sum total shipped doses. Ensure Full Coverage: - Ensures ISO codes data across full date range (date_start date_stop), filling missing dates zero doses. Calculate Population Metrics: - Merges population data 2023, calculates cumulative doses, computes proportion population vaccinated. Save Outputs: - Saves redistributed vaccination data vaccination rate parameter data frame.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccination_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate OCV Vaccination Rates â€” est_vaccination_rate","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(   DATA_SCRAPE_WHO_VACCINATION = \"path/to/who_vaccination_data\",   DATA_DEMOGRAPHICS = \"path/to/demographics\",   MODEL_INPUT = \"path/to/save/processed/data\" ) est_vaccination_rate(PATHS, max_rate_per_day = 100000, data_source = \"WHO\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"function estimates oral cholera vaccine (OCV) effectiveness decay fitting exponential decay models meta-regression effectiveness data Xu et al (2024). estimates decay parameters (omega) initial effectiveness (phi) one-dose two-dose regimens using non-linear least squares Levenberg-Marquardt algorithm.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"","code":"est_vaccine_effectiveness(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"PATHS list containing paths data parameters saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory parameter files, data, predictions saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"function return values saves three CSV files: data_vaccine_effectiveness.csv: Original meta-regression data points Xu et al pred_vaccine_effectiveness.csv: Predicted effectiveness 10 years confidence intervals param_vaccine_effectiveness.csv: Parameter estimates distributional parameters uncertainty","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"function performs following steps: Creates vaccine effectiveness data Xu et al (2024) meta-regression results Fits exponential decay models VE(t) = phi * exp(-omega * t) separately one-dose two-dose regimens Estimates parameters mean effectiveness confidence intervals using constrained optimization Infers beta distributions initial effectiveness (phi) gamma distributions decay rates (omega) Saves data points, predictions, parameter distributions CSV files model parameters : phi_1, phi_2: Initial vaccine effectiveness one-dose two-dose regimens omega_1, omega_2: Daily decay rates one-dose two-dose regimens","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"Xu et al. (2024). Effectiveness Oral Cholera Vaccines: Systematic Review Meta-Analysis. medRxiv. https://doi.org/10.1101/2024.08.13.24311930v2","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/est_vaccine_effectiveness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Vaccine Effectiveness Decay Parameters â€” est_vaccine_effectiveness","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths() est_vaccine_effectiveness(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimate_npe_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate NPE Posterior â€” estimate_npe_posterior","title":"Estimate NPE Posterior â€” estimate_npe_posterior","text":"Generates posterior samples using trained NPE model CRITICALLY extracts log q(theta|x) values needed SMC importance weights.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimate_npe_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate NPE Posterior â€” estimate_npe_posterior","text":"","code":"estimate_npe_posterior(   model,   observed_data,   n_samples = 10000,   return_log_probs = TRUE,   quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975),   output_dir = NULL,   verbose = TRUE,   rejection_sampling = FALSE,   max_rejection_rate = 0.2,   max_attempts = 10 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimate_npe_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate NPE Posterior â€” estimate_npe_posterior","text":"model Trained NPE model object observed_data Data frame observed outbreak data n_samples Number posterior samples generate return_log_probs TRUE, return log q(theta|x) SMC (default TRUE) quantiles Quantile levels compute output_dir Directory save results (NULL = save) verbose Print progress messages rejection_sampling Logical. TRUE, perform rejection sampling ensure returned samples within parameter bounds (default FALSE). max_rejection_rate Numeric. Maximum acceptable rejection rate (0-1). exceeded 3 attempts, sampling stops early (default 0.20). max_attempts Integer. Maximum number sampling attempts giving (default 10).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimate_npe_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate NPE Posterior â€” estimate_npe_posterior","text":"List containing: samples - Matrix posterior samples (n_samples x n_params) log_probs - Vector log q(theta|x) values SMC quantiles - Data frame parameter quantiles param_names - Names parameters n_samples - Actual number samples returned rejection_info - List rejection sampling diagnostics (NULL disabled): enabled - TRUE requested - Target number samples achieved - Actual samples obtained total_drawn - Total samples generated (including rejected) rejection_rate - Proportion samples rejected n_attempts - Number sampling iterations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimated Parameters Inventory â€” estimated_parameters","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"comprehensive inventory stochastic parameters estimated Bayesian sampling MOSAIC cholera transmission modeling framework. dataset contains metadata, categorization, ordering information parameters prior distributions part parameter estimation process.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"","code":"estimated_parameters"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"data frame 43 rows 11 columns: parameter_name Character. Parameter names used configuration files sampling functions display_name Character. Human-readable display names plotting reporting description Character. Detailed descriptions parameter represents units Character. Units measurement parameter distribution Character. Prior distribution type (beta, gamma, lognormal, uniform, normal, gompertz, truncnorm, derived) scale Character. Parameter scale: \"global\" (value across locations) \"location\" (varies location) category Character. Biological/functional category: transmission, environmental, disease, immunity, surveillance, mobility, spatial, initial_conditions, seasonality order Integer. Overall ordering systematic presentation (1-43) order_scale Character. Scale-based ordering (01 = global, 02 = location) order_category Character. Category-based ordering within scale order_parameter Character. Parameter-based ordering within category","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"Created data-raw/make_parameters_inventory.R","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"inventory focuses exclusively estimated parameters - prior distributions sampled Bayesian parameter estimation. include: Fixed model constants Non-stochastic derived quantities Intermediate calculations Data inputs (observed cases, demographics, etc.) inventory organized hierarchically: Global parameters (22): value across locations Location-specific parameters (21): Vary geographic location Categories reflect biological processes cholera transmission: transmission: Population mixing, frequency dependence environmental: V. cholerae survival, shedding, dose-response disease: Recovery rates, incubation, symptom proportions immunity: Natural vaccine-induced protection surveillance: Reporting rates delays mobility: Human movement parameters spatial: Geographic covariates (WASH coverage) initial_conditions: Starting compartment proportions seasonality: Temporal transmission patterns","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"dataset used : sample_parameters Bayesian parameter sampling Plotting functions consistent parameter ordering Model validation convergence diagnostics Documentation reporting functions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"Parameter metadata compiled : priors_default - Prior distributions config_default - Configuration templates Literature cholera transmission modeling Expert knowledge epidemic processes","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"John Giles","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/estimated_parameters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimated Parameters Inventory â€” estimated_parameters","text":"","code":"# Load the estimated parameters inventory data(estimated_parameters)  # View parameter structure str(estimated_parameters) #> 'data.frame':\t43 obs. of  11 variables: #>  $ parameter_name : chr  \"alpha_1\" \"alpha_2\" \"decay_days_short\" \"decay_days_long\" ... #>  $ display_name   : chr  \"Population Mixing\" \"Frequency-Driven Transmission\" \"Minimum V. cholerae Survival\" \"Maximum V. cholerae Survival\" ... #>  $ description    : chr  \"Population mixing within metapops (0-1, 1 = well-mixed)\" \"Degree of frequency driven transmission (0-1)\" \"Minimum V. cholerae survival time in environment\" \"Maximum V. cholerae survival time in environment\" ... #>  $ units          : chr  \"proportion\" \"proportion\" \"days\" \"days\" ... #>  $ distribution   : chr  \"beta\" \"beta\" \"uniform\" \"uniform\" ... #>  $ scale          : chr  \"global\" \"global\" \"global\" \"global\" ... #>  $ category       : chr  \"transmission\" \"transmission\" \"environmental\" \"environmental\" ... #>  $ order          : int  1 2 3 4 5 6 7 8 9 10 ... #>  $ order_scale    : chr  \"01\" \"01\" \"01\" \"01\" ... #>  $ order_category : chr  \"01\" \"01\" \"02\" \"02\" ... #>  $ order_parameter: chr  \"01\" \"02\" \"01\" \"02\" ... #>  - attr(*, \"creation_date\")= Date[1:1], format: \"2025-11-19\" #>  - attr(*, \"version\")= chr \"1.1.0\" #>  - attr(*, \"description\")= chr \"Comprehensive parameter inventory for MOSAIC cholera transmission model. Includes metadata, categorization, and\"| __truncated__  # Global vs location-specific parameters table(estimated_parameters$scale) #>  #>   global location  #>       22       21   # Parameters by biological category table(estimated_parameters$category) #>  #>            disease      environmental           immunity initial_conditions  #>                  5                 11                  5                  6  #>           mobility        seasonality            spatial       surveillance  #>                  3                  4                  1                  2  #>       transmission  #>                  6   # Parameters by distribution type table(estimated_parameters$distribution) #>  #>      beta     gamma  gompertz lognormal    normal truncnorm   uniform  #>        16         7         1         6         5         1         7   # Transmission parameters subset(estimated_parameters, category == \"transmission\") #>    parameter_name                  display_name #> 1         alpha_1             Population Mixing #> 2         alpha_2 Frequency-Driven Transmission #> 29    beta_j0_tot  Total Base Transmission Rate #> 30         p_beta     Human-to-Human Proportion #> 31    beta_j0_hum   Human-to-Human Transmission #> 32    beta_j0_env    Environmental Transmission #>                                                                        description #> 1                          Population mixing within metapops (0-1, 1 = well-mixed) #> 2                                    Degree of frequency driven transmission (0-1) #> 29                            Total base transmission rate (human + environmental) #> 30                         Proportion of total transmission that is human-to-human #> 31    Human-to-human component of transmission (derived from beta_j0_tot * p_beta) #> 32 Environmental component of transmission (derived from beta_j0_tot * (1-p_beta)) #>         units distribution    scale     category order order_scale #> 1  proportion         beta   global transmission     1          01 #> 2  proportion         beta   global transmission     2          01 #> 29    per day     gompertz location transmission    29          02 #> 30 proportion         beta location transmission    30          02 #> 31    per day        gamma location transmission    31          02 #> 32    per day        gamma location transmission    32          02 #>    order_category order_parameter #> 1              01              01 #> 2              01              02 #> 29             02              01 #> 30             02              02 #> 31             02              03 #> 32             02              04  # Location-specific initial conditions subset(estimated_parameters,        scale == \"location\" & category == \"initial_conditions\") #>     parameter_name                           display_name #> 23  prop_S_initial         Initial Susceptible Proportion #> 24  prop_E_initial             Initial Exposed Proportion #> 25  prop_I_initial            Initial Infected Proportion #> 26  prop_R_initial           Initial Recovered Proportion #> 27 prop_V1_initial Initial One-Dose Vaccinated Proportion #> 28 prop_V2_initial Initial Two-Dose Vaccinated Proportion #>                                           description      units distribution #> 23      Proportion of population susceptible at start proportion         beta #> 24          Proportion of population exposed at start proportion         beta #> 25         Proportion of population infected at start proportion         beta #> 26 Proportion of population recovered/immune at start proportion         beta #> 27          Proportion with one vaccine dose at start proportion         beta #> 28         Proportion with two vaccine doses at start proportion         beta #>       scale           category order order_scale order_category order_parameter #> 23 location initial_conditions    23          02             01              01 #> 24 location initial_conditions    24          02             01              02 #> 25 location initial_conditions    25          02             01              03 #> 26 location initial_conditions    26          02             01              04 #> 27 location initial_conditions    27          02             01              05 #> 28 location initial_conditions    28          02             01              06"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/evaluate_prior_densities.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate Prior Densities for SMC â€” evaluate_prior_densities","title":"Evaluate Prior Densities for SMC â€” evaluate_prior_densities","text":"Evaluates log p(theta) posterior sample using original priors. Required SMC importance weight calculation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/evaluate_prior_densities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate Prior Densities for SMC â€” evaluate_prior_densities","text":"","code":"evaluate_prior_densities(samples, priors, verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/evaluate_prior_densities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate Prior Densities for SMC â€” evaluate_prior_densities","text":"samples Matrix parameter samples priors List prior specifications verbose Print progress","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/evaluate_prior_densities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate Prior Densities for SMC â€” evaluate_prior_densities","text":"Vector log prior densities","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/extract_sampling_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","title":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","text":"Retrieves sampling flag metadata config object created store_sampling_metadata().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/extract_sampling_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","text":"","code":"extract_sampling_metadata(config)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/extract_sampling_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","text":"config Config object containing sampling metadata","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/extract_sampling_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","text":"Named list sampling flags, NULL metadata found","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/extract_sampling_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Sampling Metadata from Config â€” extract_sampling_metadata","text":"","code":"if (FALSE) { # \\dontrun{ config <- sample_parameters(PATHS, seed = 123) config <- store_sampling_metadata(config, sample_alpha_1 = FALSE)  sampling_flags <- extract_sampling_metadata(config) print(sampling_flags$sample_alpha_1)  # FALSE } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","title":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","text":"function calculates shape parameters (alpha beta) beta distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","text":"","code":"fit_beta_from_ci(   mode_val,   ci_lower,   ci_upper,   method = \"moment_matching\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","text":"mode_val Numeric. mode distribution (must (0,1)). ci_lower Numeric. lower bound 95% confidence interval (must (0,1)). ci_upper Numeric. upper bound 95% confidence interval (must (0,1)). method Character. Method use: \"moment_matching\" (default) \"optimization\". verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","text":"list containing: shape1: alpha shape parameter beta distribution shape2: beta shape parameter beta distribution fitted_mode: mode fitted distribution fitted_mean: mean fitted distribution fitted_var: variance fitted distribution fitted_ci: 95% CI fitted distribution input_mode: input mode value input_ci: input confidence interval","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Beta Distribution from Mode and 95% Confidence Intervals â€” fit_beta_from_ci","text":"","code":"# Example 1: Fit beta for phi_1 (vaccine effectiveness) result <- fit_beta_from_ci(mode_val = 0.788,                              ci_lower = 0.753,                              ci_upper = 0.822) print(result) #> $shape1 #> [1] 446.3372 #>  #> $shape2 #> [1] 120.8115 #>  #> $fitted_mode #> [1] 0.788 #>  #> $fitted_mean #> [1] 0.7869844 #>  #> $fitted_var #> [1] 0.0002950635 #>  #> $fitted_sd #> [1] 0.01717741 #>  #> $fitted_ci #>     lower     upper  #> 0.7523816 0.8196704  #>  #> $input_mode #> [1] 0.788 #>  #> $input_ci #> lower upper  #> 0.753 0.822  #>   # Example 2: Using optimization method result <- fit_beta_from_ci(mode_val = 0.65,                              ci_lower = 0.50,                              ci_upper = 0.78,                             method = \"optimization\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_safe.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper Function to Safely Fit Beta Distribution â€” fit_beta_safe","title":"Helper Function to Safely Fit Beta Distribution â€” fit_beta_safe","text":"Fits Beta distribution data using method moments estimation, error handling edge cases.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_safe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper Function to Safely Fit Beta Distribution â€” fit_beta_safe","text":"","code":"fit_beta_safe(x, label = \"\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_safe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper Function to Safely Fit Beta Distribution â€” fit_beta_safe","text":"x Numeric vector proportions (0,1) label Character string error messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_safe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper Function to Safely Fit Beta Distribution â€” fit_beta_safe","text":"List shape1 shape2 parameters, NULL fitting fails","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_with_variance_inflation_R.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper Function to Fit Beta Distribution with Variance Inflation for est_initial_R â€” fit_beta_with_variance_inflation_R","title":"Helper Function to Fit Beta Distribution with Variance Inflation for est_initial_R â€” fit_beta_with_variance_inflation_R","text":"Fits Beta distribution using CI expansion method variance inflation. Uses sqrt(variance_inflation) CI expansion since variance scales square standard deviation. Falls back method moments direct variance scaling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_with_variance_inflation_R.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper Function to Fit Beta Distribution with Variance Inflation for est_initial_R â€” fit_beta_with_variance_inflation_R","text":"","code":"fit_beta_with_variance_inflation_R(samples, variance_inflation = 0, label = \"\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_with_variance_inflation_R.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper Function to Fit Beta Distribution with Variance Inflation for est_initial_R â€” fit_beta_with_variance_inflation_R","text":"samples Numeric vector proportions (0,1) variance_inflation Numeric inflation factor label Character string error messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_beta_with_variance_inflation_R.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper Function to Fit Beta Distribution with Variance Inflation for est_initial_R â€” fit_beta_with_variance_inflation_R","text":"List shape1 shape2 parameters, NULL fitting fails","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gamma_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","title":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","text":"function calculates shape rate parameters gamma distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gamma_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","text":"","code":"fit_gamma_from_ci(   mode_val,   ci_lower,   ci_upper,   method = \"moment_matching\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gamma_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","text":"mode_val Numeric. mode distribution. ci_lower Numeric. lower bound 95% confidence interval. ci_upper Numeric. upper bound 95% confidence interval. method Character. Method use: \"moment_matching\" (default) \"optimization\". verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gamma_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","text":"list containing: shape: shape parameter (alpha) gamma distribution rate: rate parameter (beta) gamma distribution scale: scale parameter (1/rate) gamma distribution fitted_mean: mean fitted distribution fitted_ci: 95% CI fitted distribution mode: mode fitted distribution (shape > 1)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gamma_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Gamma Distribution from Mode and 95% Confidence Intervals â€” fit_gamma_from_ci","text":"","code":"# Example 1: Fit gamma for omega_1 result <- fit_gamma_from_ci(mode_val = 0.000705,                               ci_lower = 0.000471,                               ci_upper = 0.001107) print(result) #> $shape #> [1] 28.31043 #>  #> $rate #> [1] 38738.2 #>  #> $scale #> [1] 2.581431e-05 #>  #> $fitted_mode #> [1] 0.000705 #>  #> $fitted_mean #> [1] 0.0007308143 #>  #> $fitted_sd #> [1] 0.0001373516 #>  #> $fitted_ci #>        lower        upper  #> 0.0004868256 0.0010235775  #>  #> $input_mode #> [1] 0.000705 #>  #> $input_ci #>    lower    upper  #> 0.000471 0.001107  #>   # Example 2: Using optimization method result <- fit_gamma_from_ci(mode_val = 0.000337,                               ci_lower = 0.0000984,                               ci_upper = 0.000992,                              method = \"optimization\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gompertz_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","title":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","text":"function estimates parameters Gompertz distribution [0, Inf) pdf f(x; b, eta) = b * eta * exp(bx) * exp(-eta(exp(bx) - 1)), given target interior mode two-sided interval (default: central 95 percent). interior mode condition enforced eta = b * exp(bmode), holds exactly Gompertz mode eta > b.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gompertz_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","text":"","code":"fit_gompertz_from_ci(   mode_val,   ci_lower,   ci_upper,   probs = c(0.025, 0.975),   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gompertz_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","text":"mode_val Numeric greater 0. Target mode distribution (near zero allowed). ci_lower Numeric greater equal 0. Lower bound target interval (e.g., 2.5 percent quantile). ci_upper Numeric greater ci_lower. Upper bound target interval (e.g., 97.5 percent quantile). probs Numeric length-2 vector (0, 1). Probability levels target bounds. Defaults c(0.025, 0.975). verbose Logical. TRUE, prints diagnostic summary.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gompertz_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","text":"list containing: b: Gompertz shape parameter eta: Gompertz rate parameter f0: Density zero (finite positive) fitted_mode: implied mode (matches mode_val numeric error) fitted_ci: Named vector fitted quantiles probs fitted_mean: Numerical estimate expected value via quadrature fitted_sd: Numerical estimate standard deviation via quadrature probs: probability levels used input_mode: Echo mode_val input_ci: Echo c(lower = ci_lower, upper = ci_upper)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_gompertz_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Gompertz Distribution from Mode and Probability Interval â€” fit_gompertz_from_ci","text":"","code":"# Example: Fit Gompertz for small positive quantity result <- fit_gompertz_from_ci(   mode_val = 1e-8,   ci_lower = 1e-9,   ci_upper = 1e-6,   probs = c(0.025, 0.975) ) print(result) #> $b #> [1] 1919.758 #>  #> $eta #> [1] 1919.795 #>  #> $f0 #> [1] 3685543 #>  #> $fitted_mode #> [1] 1e-08 #>  #> $fitted_ci #>        lower        upper  #> 6.869447e-09 9.999450e-07  #>  #> $fitted_mean #> [1] 2.711853e-07 #>  #> $fitted_sd #> [1] 2.710226e-07 #>  #> $probs #> [1] 0.025 0.975 #>  #> $input_mode #> [1] 1e-08 #>  #> $input_ci #> lower upper  #> 1e-09 1e-06  #>"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"function calculates meanlog sdlog parameters lognormal distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"","code":"fit_lognormal_from_ci(   mode_val,   ci_lower,   ci_upper,   method = \"moment_matching\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"mode_val Numeric. mode distribution. ci_lower Numeric. lower bound 95% confidence interval. ci_upper Numeric. upper bound 95% confidence interval. method Character. Method use: \"moment_matching\" (default) \"optimization\". verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"list containing: meanlog: mean logarithm (mu) lognormal distribution sdlog: standard deviation logarithm (sigma) lognormal distribution mean: mean distribution (meanlog) sd: standard deviation distribution (sdlog) fitted_ci: 95% CI fitted distribution mode: mode fitted distribution","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"lognormal distribution parameters meanlog (Î¼) sdlog (Ïƒ): Mode = exp(Î¼ - ÏƒÂ²) Mean = exp(Î¼ + ÏƒÂ²/2) Variance = (exp(ÏƒÂ²) - 1) * exp(2Î¼ + ÏƒÂ²) moment matching method estimates parameters mode CI width log scale, adjusts lognormal relationship.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_lognormal_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Lognormal Distribution from Mode and 95% Confidence Intervals â€” fit_lognormal_from_ci","text":"","code":"# Example 1: Fit lognormal distribution result <- fit_lognormal_from_ci(mode_val = 1,                                  ci_lower = 0.5,                                  ci_upper = 3) print(result) #> $meanlog #> [1] 0.2089235 #>  #> $sdlog #> [1] 0.4570815 #>  #> $mean #> [1] 1.368048 #>  #> $sd #> [1] 0.6594373 #>  #> $fitted_ci #> [1] 0.5031134 3.0185807 #>  #> $mode #> [1] 1 #>   # Example 2: Using optimization method result <- fit_lognormal_from_ci(mode_val = 10,                                  ci_lower = 2,                                  ci_upper = 50,                                  method = \"optimization\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"function calculates mean standard deviation parameters normal distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"","code":"fit_normal_from_ci(   mode_val,   ci_lower,   ci_upper,   method = \"moment_matching\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"mode_val Numeric. mode distribution (equals mean normal). ci_lower Numeric. lower bound 95% confidence interval. ci_upper Numeric. upper bound 95% confidence interval. method Character. Method use: \"moment_matching\" (default) \"optimization\". verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"list containing: mean: mean parameter (mu) normal distribution sd: standard deviation parameter (sigma) normal distribution fitted_ci: 95% CI fitted distribution mode: mode fitted distribution (equals mean)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"normal distribution: mode equals mean 95% CI approximately mean Â± 1.96*sd distribution symmetric around mean moment matching method uses fact normal distribution, 95% CI width approximately 3.92 standard deviations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_normal_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Normal Distribution from Mode and 95% Confidence Intervals â€” fit_normal_from_ci","text":"","code":"# Example 1: Fit normal distribution result <- fit_normal_from_ci(mode_val = 0,                               ci_lower = -2,                               ci_upper = 2) print(result) #> $mean #> [1] 0 #>  #> $sd #> [1] 1.020408 #>  #> $fitted_ci #> [1] -1.999963  1.999963 #>  #> $mode #> [1] 0 #>   # Example 2: Using optimization method result <- fit_normal_from_ci(mode_val = 5,                               ci_lower = 2,                               ci_upper = 8,                               method = \"optimization\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_posterior_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Posterior Distributions â€” fit_posterior_distributions","title":"Fit Posterior Distributions â€” fit_posterior_distributions","text":"Fits parametric distributions NPE posterior samples parameter. Creates proper nested structure parameters_global parameters_location match BFRS format plotting.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_posterior_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Posterior Distributions â€” fit_posterior_distributions","text":"","code":"fit_posterior_distributions(   posterior_samples,   priors_file = NULL,   output_file = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_posterior_distributions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Posterior Distributions â€” fit_posterior_distributions","text":"posterior_samples Matrix posterior samples priors_file Path priors JSON file (distribution types) output_file Path save fitted distributions verbose Print progress","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_posterior_distributions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Posterior Distributions â€” fit_posterior_distributions","text":"List fitted distributions proper global/location structure","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"function calculates mean, sd, truncation bounds truncated normal distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"","code":"fit_truncnorm_from_ci(   mode_val,   ci_lower,   ci_upper,   a = NULL,   b = NULL,   method = \"moment_matching\",   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"mode_val Numeric. mode distribution. ci_lower Numeric. lower bound 95% confidence interval. ci_upper Numeric. upper bound 95% confidence interval. Numeric. Lower truncation bound (default: -Inf). b Numeric. Upper truncation bound (default: Inf). method Character. Method use: \"moment_matching\" (default) \"optimization\". verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"list containing: mean: mean parameter (mu) underlying normal distribution sd: standard deviation parameter (sigma) underlying normal distribution : lower truncation bound b: upper truncation bound fitted_mean: mean truncated distribution fitted_ci: 95% CI fitted truncated distribution mode: mode fitted truncated distribution","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"truncated normal distribution: mode may differ mean due truncation truncation symmetric far mean, mode â‰ˆ mean Asymmetric truncation shifts mode away mean truncation bounds specified, estimated CI, extending slightly beyond allow proper truncated distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_truncnorm_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Truncated Normal Distribution from Mode and 95% Confidence Intervals â€” fit_truncnorm_from_ci","text":"","code":"# Example 1: Fit truncated normal with specified bounds result <- fit_truncnorm_from_ci(mode_val = 0.5,                                  ci_lower = 0.2,                                  ci_upper = 0.8,                                  a = 0, b = 1) print(result) #> $mean #> [1] 0.5 #>  #> $sd #> [1] 0.127551 #>  #> $a #> [1] 0 #>  #> $b #> [1] 1 #>  #> $fitted_mean #> [1] 0.4990757 #>  #> $fitted_ci #> [1] 0.2500963 0.7499037 #>  #> $mode #> [1] 0.499617 #>   # Example 2: Auto-detect truncation bounds result <- fit_truncnorm_from_ci(mode_val = 5,                                  ci_lower = 2,                                  ci_upper = 8)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"function calculates min max parameters uniform distribution best matches given mode 95% confidence intervals.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"","code":"fit_uniform_from_ci(   mode_val,   ci_lower,   ci_upper,   method = \"exact\",   extend_factor = 1.026,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"mode_val Numeric. mode distribution (value within range uniform). ci_lower Numeric. lower bound 95% confidence interval. ci_upper Numeric. upper bound 95% confidence interval. method Character. Method use: \"exact\" (default) \"extended\". extend_factor Numeric. Factor extend bounds beyond CI (default: 1.026 exact 95% CI). verbose Logical. TRUE, print diagnostic information.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"list containing: min: minimum parameter uniform distribution max: maximum parameter uniform distribution mean: mean fitted distribution (min + max)/2 sd: standard deviation fitted distribution fitted_ci: 95% CI fitted distribution mode: mode (undefined uniform, returns NA)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"uniform distribution U(min, max): Mean = (min + max) / 2 Variance = (max - min)Â² / 12 Mode undefined (value \\code[min, max] equally likely) 95% CI covers central 95% range \"exact\" method sets bounds 95% CI exactly matches input CI. U(, b), 2.5th percentile + 0.025*(b-) 97.5th percentile + 0.975*(b-). \"extended\" method allows bounds slightly beyond CI conservative estimate.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fit_uniform_from_ci.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit Uniform Distribution from Mode and 95% Confidence Intervals â€” fit_uniform_from_ci","text":"","code":"# Example 1: Exact fit to CI result <- fit_uniform_from_ci(mode_val = 0.5,                                ci_lower = 0.1,                                ci_upper = 0.9) print(result) #> $min #> [1] 0.07894737 #>  #> $max #> [1] 0.9210526 #>  #> $mean #> [1] 0.5 #>  #> $sd #> [1] 0.2430949 #>  #> $fitted_ci #> [1] 0.1 0.9 #>  #> $mode #> [1] NA #>   # Example 2: Extended bounds for conservative estimate result <- fit_uniform_from_ci(mode_val = 5,                                ci_lower = 2,                                ci_upper = 8,                                method = \"extended\",                                extend_factor = 1.05)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/format_ess_rate_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Format ESS Rate Analysis for Logging â€” format_ess_rate_analysis","title":"Format ESS Rate Analysis for Logging â€” format_ess_rate_analysis","text":"Creates formatted output ESS accumulation analysis","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/format_ess_rate_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format ESS Rate Analysis for Logging â€” format_ess_rate_analysis","text":"","code":"format_ess_rate_analysis(rate_analysis)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/format_ess_rate_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format ESS Rate Analysis for Logging â€” format_ess_rate_analysis","text":"rate_analysis Output calc_ess_accumulation_rate","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/format_ess_rate_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format ESS Rate Analysis for Logging â€” format_ess_rate_analysis","text":"Character vector formatted messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":null,"dir":"Reference","previous_headings":"","what":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"function implements generalized Fourier series model two harmonics sine-cosine form. model often used capture seasonal periodic dynamics time series data, temperature, precipitation, disease cases.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"","code":"fourier_series_double(t, beta0, a1, b1, a2, b2, p)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"t numeric vector representing time points (e.g., day year week year). beta0 numeric value representing intercept term (fixed 0 default). a1 numeric value representing amplitude first cosine term (first harmonic). b1 numeric value representing amplitude first sine term (first harmonic). a2 numeric value representing amplitude second cosine term (second harmonic). b2 numeric value representing amplitude second sine term (second harmonic). p numeric value representing period seasonal cycle (e.g., 52 weekly data year).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"numeric vector predicted values based Fourier series model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"model defined follows: $$\\beta_t = \\beta_0 + a_1 \\cos\\left(\\frac{2 \\pi t}{p}\\right) + b_1 \\sin\\left(\\frac{2 \\pi t}{p}\\right) + a_2 \\cos\\left(\\frac{4 \\pi t}{p}\\right) + b_2 \\sin\\left(\\frac{4 \\pi t}{p}\\right)$$ model includes intercept term beta0 (set 0 default) two harmonics coefficients a1, b1, a2, b2. period p controls periodicity series. function based sine-cosine form Fourier series. details, see Wikipedia page Fourier series. function commonly used modeling seasonal dynamics environmental epidemiological data, periodic patterns observed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/fourier_series_double.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fourier Series Model with Two Harmonics (Sine-Cosine Form) â€” fourier_series_double","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage with weekly data (p = 52 weeks in a year) time_points <- 1:52 beta0 <- 0 a1 <- 1.5 b1 <- -0.5 a2 <- 0.8 b2 <- 0.3 p <- 52  predictions <- fourier_series_double(time_points, beta0, a1, b1, a2, b2, p) print(predictions) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"function generates grid points within country's shapefile, points spaced specified distance kilometers.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"","code":"generate_country_grid_dist(country_shp, distance_km)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"country_shp sf object representing country's shapefile. distance_km numeric value specifying distance (kilometers) grid points.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"sf object containing generated grid points within country boundary.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"function creates regular grid points within polygon defined country's shapefile, spaced according specified distance kilometers.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_dist.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a Grid of Points Within a Country's Shapefile Based on Distance â€” generate_country_grid_dist","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage with distance in kilometers grid_points_sf <- generate_country_grid_dist(country_shapefile, distance_km = 50) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"function generates grid points within country's shapefile, grid contains specified number evenly spaced points.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"","code":"generate_country_grid_n(country_shp, n_points)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"country_shp sf object representing country's shapefile. n_points numeric value specifying total number evenly spaced points generate within country boundary.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"sf object containing generated grid points within country boundary.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"function creates regular grid points within polygon defined country's shapefile, containing specified number points.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_country_grid_n.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a Grid of Points Within a Country's Shapefile Based on Number of Points â€” generate_country_grid_n","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage with a specified number of points grid_points_sf <- generate_country_grid_n(country_shapefile, n_points = 100) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_test_data_for_ess.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Synthetic Data for Testing calc_model_ess_parameter â€” generate_test_data_for_ess","title":"Generate Synthetic Data for Testing calc_model_ess_parameter â€” generate_test_data_for_ess","text":"Generate Synthetic Data Testing calc_model_ess_parameter","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_test_data_for_ess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Synthetic Data for Testing calc_model_ess_parameter â€” generate_test_data_for_ess","text":"","code":"generate_test_data_for_ess(   n_samples = 2000,   n_params = 5,   true_ess = c(1500, 1000, 500, 200, 100) )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_test_data_for_ess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Synthetic Data for Testing calc_model_ess_parameter â€” generate_test_data_for_ess","text":"n_samples Number samples generate n_params Number parameters true_ess Target effective sample size pattern","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/generate_test_data_for_ess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Synthetic Data for Testing calc_model_ess_parameter â€” generate_test_data_for_ess","text":"Data frame synthetic results","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"function retrieves DMI forecast data JSON configuration files falls back hardcoded values. DMI data comes Bureau Meteorology's IOD forecast page.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"","code":"get_DMI_forecast(use_json = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"use_json Logical. Whether try loading JSON configuration first (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"data frame columns year, month (numeric), month_name, variable (DMI), value. DMI measure difference sea surface temperature anomalies western eastern Indian Ocean used describe Indian Ocean Dipole (IOD).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"function first attempts load forecast data inst/extdata/dmi_forecast_current.json. JSON file exist use_json=FALSE, falls back hardcoded values extracted Bureau Meteorology's IOD forecast page. data includes DMI values representing forecasts sea surface temperature anomalies. Negative DMI values indicate cooler waters west, positive DMI values indicate warmer waters west Indian Ocean.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get DMI (Dipole Mode Index) Forecast Data â€” get_DMI_forecast","text":"","code":"if (FALSE) { # \\dontrun{ # Get DMI forecast data (tries JSON first) dmi_forecast <- get_DMI_forecast()  # Force use of hardcoded values dmi_forecast <- get_DMI_forecast(use_json = FALSE)  # Display the DMI forecast data print(dmi_forecast) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast_from_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","title":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","text":"Load DMI forecast data JSON configuration file instead hardcoded values. replaces manual text parsing approach.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast_from_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","text":"","code":"get_DMI_forecast_from_json()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast_from_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","text":"data frame columns: year, month, month_name, variable, value","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast_from_json.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","text":"function reads forecast data inst/extdata/dmi_forecast_current.json converts standard MOSAIC format. automatically checks data freshness issues warnings data stale.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_forecast_from_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get DMI Forecast from JSON Configuration â€” get_DMI_forecast_from_json","text":"","code":"if (FALSE) { # \\dontrun{ # Get current DMI forecasts   dmi_forecast <- get_DMI_forecast_from_json() head(dmi_forecast) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Process Historical DMI Data â€” get_DMI_historical","title":"Download and Process Historical DMI Data â€” get_DMI_historical","text":"function downloads historical Dipole Mode Index (DMI) data NOAA processes data frame columns year, month (1-12), month_name, variable (DMI), value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Process Historical DMI Data â€” get_DMI_historical","text":"","code":"get_DMI_historical()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Process Historical DMI Data â€” get_DMI_historical","text":"data frame columns year, month, month_name, variable (DMI), value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_historical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Process Historical DMI Data â€” get_DMI_historical","text":"DMI data downloaded NOAA's historical DMI data page: https://psl.noaa.gov/gcos_wgsp/Timeseries/Data/dmi..long.data. data includes DMI values representing difference sea surface temperature anomalies western eastern Indian Ocean.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_DMI_historical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Process Historical DMI Data â€” get_DMI_historical","text":"","code":"if (FALSE) { # \\dontrun{ # Get the historical DMI data dmi_historical <- get_DMI_historical()  # Display the historical DMI data print(dmi_historical) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","title":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","text":"function retrieves manually extracted ENSO forecast data, including NiÃ±o3, NiÃ±o3.4, NiÃ±o4 sea surface temperature (SST) anomalies, Bureau Meteorology.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","text":"","code":"get_ENSO_forecast()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","text":"data frame columns year, month (numeric), month_name, variable (ENSO3, ENSO34, ENSO4), value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","text":"ENSO forecast manually extracted Bureau Meteorology's ocean outlook page. data includes SST anomalies NiÃ±o3, NiÃ±o3.4, NiÃ±o4 regions. Negative values indicate cooler sea surface temperatures, positive values indicate warmer temperatures.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ENSO (NiÃ±o3, NiÃ±o3.4, and NiÃ±o4) Forecast Data â€” get_ENSO_forecast","text":"","code":"if (FALSE) { # \\dontrun{ # Get the ENSO forecast data enso_forecast <- get_ENSO_forecast()  # Display the ENSO forecast data print(enso_forecast) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast_from_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","title":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","text":"Load ENSO forecast data JSON configuration file instead hardcoded values. replaces manual text parsing approach.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast_from_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","text":"","code":"get_ENSO_forecast_from_json()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast_from_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","text":"data frame columns: year, month, month_name, variable, value","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast_from_json.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","text":"function reads forecast data inst/extdata/enso_forecast_current.json converts standard MOSAIC format. automatically checks data freshness issues warnings data stale.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_forecast_from_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ENSO Forecast from JSON Configuration â€” get_ENSO_forecast_from_json","text":"","code":"if (FALSE) { # \\dontrun{ # Get current ENSO forecasts enso_forecast <- get_ENSO_forecast_from_json() head(enso_forecast) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","title":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","text":"function downloads historical ENSO data NiÃ±o3, NiÃ±o3.4, NiÃ±o4 NOAA processes single data frame columns year (integer), month, month_name, variable (ENSO3, ENSO34, ENSO4), value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","text":"","code":"get_ENSO_historical()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","text":"data frame columns year, month, month_name, variable, value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_historical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","text":"historical ENSO data downloaded NOAA's historical ENSO data pages. data includes sea surface temperature anomalies NiÃ±o3, NiÃ±o3.4, NiÃ±o4 regions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ENSO_historical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Process Historical ENSO Data (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) â€” get_ENSO_historical","text":"","code":"if (FALSE) { # \\dontrun{ # Get the historical ENSO data enso_historical <- get_ENSO_historical()  # Display the historical ENSO data print(enso_historical) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"function processes WASH (Water, Sanitation, Hygiene) coverage data African countries Sikder et al. (2023). data includes indicators water sanitation access, including piped water, improved sanitation, unimproved water sources, open defecation. processed data saved CSV file specified path.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"","code":"get_WASH_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"PATHS list containing paths WASH data saved. Typically generated get_paths() function include: DATA_WASH: Path directory processed WASH data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"function return value processes WASH coverage data saves specified directory CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"WASH coverage data based percentages population access piped water, improved water sources, septic sewer sanitation, improved sanitation. data also includes proportions population using unimproved water sources, surface water, unimproved sanitation, practicing open defecation. risk-related variables (unimproved water, surface water, unimproved sanitation, open defecation) converted complement (1 - value) reflect protective factors. data scaled 0 1. Data Source: Sikder et al. (2023). Water, Sanitation, Hygiene Coverage Cholera Incidence Sub-Saharan Africa. doi:10.1021/acs.est.3c01317 .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WASH_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download, Process, and Save WASH Coverage Data â€” get_WASH_data","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for saving WASH data PATHS <- get_paths()  # Download, process, and save WASH coverage data get_WASH_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"function processes raw vaccination request data converts format suitable use MOSAIC cholera model. extracts relevant information tab-separated text data various years, year, country, request number, status, context, ICG decision date, number doses requested, approved, shipped, well date vaccination campaign. data compiled data frame saved CSV format analysis.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"","code":"get_WHO_vaccination_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"data used function sourced ICG (International Coordinating Group Vaccine Provision) dashboard, can accessed via following Power BI link: https://app.powerbi.com/view?r=eyJrIjoiYmFmZTBmM2EtYWM3Mi00NWYwLTg3YjgtN2Q0MjM5ZmE1ZjFkIiwidCI6ImY2MTBjMGI3LWJkMjQtNGIzOS04MTBiLTNkYzI4MGFmYjU5MCIsImMiOjh9","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"PATHS list file paths, include following element: DATA_SCRAPE_WHO_VACCINATION path folder processed vaccination data saved CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"data frame containing processed vaccination request data. function also prints summary information, including total number observations, total requested doses, approved doses, shipped doses, start end dates requests.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"function performs following steps: Reads raw vaccination request data tab-separated text multiple years (e.g., 2016-2024). Extracts relevant columns Year, Country, Request Number, Status, Context, Decision Date, Doses Requested, Approved, Shipped. Handles missing values checks duplicated rows, removing duplicates printing rows removed. Summarizes data, printing total number observations, total doses requested, approved, shipped, well first last decision dates. Saves processed vaccination data CSV file location specified PATHS argument.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_WHO_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get WHO Vaccination Data â€” get_WHO_vaccination_data","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(DATA_SCRAPE_WHO_VACCINATION = \"path/to/save\") who_data <- get_WHO_vaccination_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"function creates binary indicator environmental suitability cholera transmission based case count data. uses sophisticated temporal logic identify outbreak periods also environmental conditions leading outbreaks, may predictive future transmission risk.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"","code":"get_cases_binary(data, cutoff = 1)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"data data frame containing cholera surveillance data columns: iso_code: ISO country code cases: Weekly cholera case counts date_start: Start date week (ordering) cutoff Numeric threshold case counts. Weeks cases >= cutoff considered outbreak periods. Default 1 (cases).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"input data frame additional cases_binary column containing binary environmental suitability indicator (0 = unsuitable, 1 = suitable).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"environmental suitability logic works follows: Primary identification: Weeks cases >= cutoff marked suitable (1) Lead-period: week immediately outbreak week marked suitable Extended lead-: two consecutive weeks cases >= cutoff, 2-3 weeks also marked suitable approach recognizes environmental conditions favorable cholera transmission typically develop weeks preceding observable outbreaks. marking lead-periods \"suitable,\" model can learn predict environmental suitability cases reported, useful early warning systems. Missing Data Handling: Weeks missing case data (NA) preserved NA binary indicator never retroactively marked suitable lead-period logic. prevents false environmental suitability signals periods poor surveillance coverage. function processes country separately ensure temporal relationships maintained within location's outbreak history.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"temporal logic requires data ordered date within country. function sort data appropriately, best performance, input data already ordered iso_code date_start.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Binary Environmental Suitability Indicator from Case Data â€” get_cases_binary","text":"","code":"if (FALSE) { # \\dontrun{ # Load cholera case data data <- read.csv(\"cholera_weekly_data.csv\")  # Create binary suitability indicator with default cutoff data_with_binary <- get_cases_binary(data)  # Use higher cutoff for more conservative outbreak definition data_with_binary <- get_cases_binary(data, cutoff = 10) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"function creates deterministic binary indicator environmental suitability cholera transmission based epidemic peak periods identified est_epidemic_peaks() function. uses exact peak_start peak_stop dates without modifications lead-periods.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"","code":"get_cases_binary_from_peaks(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"PATHS List paths generated get_paths() containing MODEL_INPUT path accessing epidemic peaks data file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"function takes data frame returns additional cases_binary column containing binary environmental suitability indicator (0 = unsuitable, 1 = suitable). input data frame must contain columns: iso_code date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"function implements deterministic approach creating environmental suitability indicators: Deterministic Epidemic Peak Method: Loads epidemic peak periods param_epidemic_peaks.csv Marks weeks peak_start peak_stop suitable (1) Uses exact dates without lead-periods duration filters Countries without epidemic peaks cases_binary = 0 periods Key Features: Deterministic behavior - parameters can alter peak periods Direct use peak_start peak_stop dates epidemic analysis fallback methods threshold-based logic Preserves missing data periods (NA) non-suitable","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"Requires param_epidemic_peaks.csv file generated est_epidemic_peaks(). file missing, function stop error.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_cases_binary_from_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Binary Environmental Suitability Indicator from Epidemic Peaks â€” get_cases_binary_from_peaks","text":"","code":"if (FALSE) { # \\dontrun{ # Load and apply epidemic peaks to data PATHS <- get_paths() peak_function <- get_cases_binary_from_peaks(PATHS) data_with_binary <- peak_function(data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"function reads country shapefile, calculates centroid, returns centroid coordinates (longitude latitude) along ISO3 country code.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"","code":"get_centroid(shapefile)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"shapefile character string representing file path country shapefile (.shp format).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"data frame following columns: iso3: ISO3 country code extracted shapefile name. lon: longitude country's centroid. lat: latitude country's centroid.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"function reads shapefile using sf::st_read(), calculates centroid country using sf::st_centroid(), extracts coordinates centroid sf::st_coordinates(). ISO3 code extracted filename shapefile, assuming first three characters shapefile name represent ISO3 country code.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_centroid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Centroid of a Country from its Shapefile â€” get_centroid","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage: # Assuming you have a shapefile \"ZAF_ADM0.shp\" for South Africa shapefile_path <- \"path/to/shapefile/ZAF_ADM0.shp\" centroid_data <- get_centroid(shapefile_path) print(centroid_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"function retrieves daily climate forecast data specified location one climate variables range forecast days using Open-Meteo API.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"","code":"get_climate_forecast(lat, lon, n_days, climate_variables, api_key = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"lat numeric value representing latitude location. lon numeric value representing longitude location. n_days integer representing number forecast days retrieve (maximum value 15). climate_variables character vector climate variables retrieve (e.g., c(\"temperature_2m_max\", \"precipitation_sum\")). api_key character string representing API key Open-Meteo API.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"data frame columns: date date forecast (class Date). climate_variable name climate variable. climate_value value climate variable date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"function queries Open-Meteo API daily weather forecast data specified latitude, longitude, range forecast days (15 days). API request successful, function returns data frame containing date, climate variable, value. request fails, function returns NULL issues warning HTTP status code.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_forecast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Climate Forecast Data (Daily) â€” get_climate_forecast","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage to get forecast data for multiple climate variables lat <- 52.52 lon <- 13.41 n_days <- 15 climate_variables <- c(\"temperature_2m_max\", \"precipitation_sum\") api_key <- \"your_api_key_here\" forecast_data <- get_climate_forecast(lat, lon, n_days, climate_variables, api_key) print(forecast_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"function retrieves daily future climate data multiple specified locations climate variables specified date range using specified climate model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"","code":"get_climate_future(   lat,   lon,   date_start,   date_stop,   climate_variables,   climate_model,   api_key = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"lat numeric vector representing latitudes locations. lon numeric vector representing longitudes locations. date_start character string representing start date data \"YYYY-MM-DD\" format. date_stop character string representing end date data \"YYYY-MM-DD\" format. climate_variables character vector climate variables retrieve. Valid options include: temperature_2m_mean: Mean 2m air temperature. temperature_2m_max: Maximum 2m air temperature. temperature_2m_min: Minimum 2m air temperature. wind_speed_10m_mean: Mean 10m wind speed. wind_speed_10m_max: Maximum 10m wind speed. cloud_cover_mean: Mean cloud cover. shortwave_radiation_sum: Sum shortwave radiation. relative_humidity_2m_mean: Mean 2m relative humidity. relative_humidity_2m_max: Maximum 2m relative humidity. relative_humidity_2m_min: Minimum 2m relative humidity. dew_point_2m_mean: Mean 2m dew point temperature. dew_point_2m_min: Minimum 2m dew point temperature. dew_point_2m_max: Maximum 2m dew point temperature. precipitation_sum: Total precipitation. rain_sum: Total rainfall. snowfall_sum: Total snowfall. pressure_msl_mean: Mean sea level pressure. soil_moisture_0_to_10cm_mean: Mean soil moisture (0-10 cm depth). et0_fao_evapotranspiration_sum: Sum evapotranspiration (FAO standard). climate_model single character string representing climate model use. Available models include: CMCC_CM2_VHR4 FGOALS_f3_H HiRAM_SIT_HR MRI_AGCM3_2_S EC_Earth3P_HR MPI_ESM1_2_XR NICAM16_8S api_key character string representing API key climate data API. provided, function assumes API key required.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"data frame columns: date: date climate data. latitude: latitude location. longitude: longitude location. climate_model: climate model used data. variable_name: climate variable retrieved (e.g., temperature_2m_mean, precipitation_sum). value: value climate variable date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"function retrieves daily future climate data multiple specified locations using Open-Meteo Climate API. downloads specified climate variables latitude longitude provided, using single climate model. data retrieved date range specified date_start date_stop. progress bar displayed indicate download progress.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_future.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Future Climate Data for Multiple Locations (One Model at a Time) â€” get_climate_future","text":"","code":"if (FALSE) { # \\dontrun{ # Define latitudes and longitudes for the locations lat <- c(40.7128, 34.0522) lon <- c(-74.0060, -118.2437)  # Define the climate variables and model climate_vars <- c(\"temperature_2m_mean\", \"precipitation_sum\") climate_model <- \"MRI_AGCM3_2_S\"  # Set the date range and API key date_start <- \"2023-03-01\" date_stop <- \"2030-12-31\" api_key <- \"your_api_key_here\"  # Download the climate data climate_data <- get_climate_future(lat, lon, date_start, date_stop,                                    climate_vars, climate_model, api_key)  # Display the climate data head(climate_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Historical Climate Data â€” get_climate_historical","title":"Get Historical Climate Data â€” get_climate_historical","text":"function retrieves historical weather data specified location one climate variables date range. uses Open-Meteo API.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Historical Climate Data â€” get_climate_historical","text":"","code":"get_climate_historical(   lat,   lon,   start_date,   end_date,   climate_variables,   api_key = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Historical Climate Data â€” get_climate_historical","text":"lat numeric value representing latitude location. lon numeric value representing longitude location. start_date character string representing start date \"YYYY-MM-DD\" format. end_date character string representing end date \"YYYY-MM-DD\" format. climate_variables character vector climate variables retrieve (e.g., c(\"precipitation_sum\", \"temperature_2m_max\")). api_key character string representing API key Open-Meteo API. provided, default key used.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Historical Climate Data â€” get_climate_historical","text":"data frame columns: date date observation (class Date). climate_variable name climate variable. climate_value value climate variable date.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Historical Climate Data â€” get_climate_historical","text":"function queries Open-Meteo API historical weather data given latitude, longitude, climate variables specified date range. API request successful, function returns data frame containing date, climate variable, value. request fails, function returns NULL issues warning HTTP status code.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_climate_historical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Historical Climate Data â€” get_climate_historical","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage to get historical data for multiple climate variables lat <- 40.7128 lon <- -74.0060 start_date <- \"2020-01-01\" end_date <- \"2020-12-31\" climate_variables <- c(\"temperature_2m_max\", \"precipitation_sum\") api_key <- \"your_api_key_here\"  # Replace with your actual API key climate_data <- get_climate_historical(lat, lon, start_date, end_date, climate_variables, api_key) print(climate_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_col_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Column Indices from Schema â€” get_col_indices","title":"Get Column Indices from Schema â€” get_col_indices","text":"Helper function get column indices specific data types schema. eliminates manual column counting hard-coded indices.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_col_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Column Indices from Schema â€” get_col_indices","text":"","code":"get_col_indices(schema, type = c(\"metadata\", \"params\", \"likelihood\"))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_col_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Column Indices from Schema â€” get_col_indices","text":"schema calibration_results_schema object type Type columns retrieve: \"metadata\", \"params\", \"likelihood\"","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_col_indices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Column Indices from Schema â€” get_col_indices","text":"Integer vector column indices","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_col_indices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Column Indices from Schema â€” get_col_indices","text":"","code":"if (FALSE) { # \\dontrun{ schema <- create_results_schema(config_base) param_indices <- get_col_indices(schema, \"params\") likelihood_idx <- get_col_indices(schema, \"likelihood\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_country_shp.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","title":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","text":"function retrieves shapefile given iso3 code GeoBoundaries data API.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_country_shp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","text":"","code":"get_country_shp(iso3, path_output = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_country_shp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","text":"iso3 three-letter capitalized character string. Must follow ISO-3166 Alpha-3 country code standard (https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3). path_output file path save country shapefile","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_country_shp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","text":"sf class shapefile","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_country_shp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a country shapefile from GeoBoundaries API â€” get_country_shp","text":"","code":"if (FALSE) { # \\dontrun{  tmp <- get_country_shp(iso3 = 'MCO') plot(tmp)  } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_LASER_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Default LASER Configuration â€” get_default_LASER_config","title":"Create Default LASER Configuration â€” get_default_LASER_config","text":"Generates default configuration running LASER model simulations. Automatically defines default values model parameters initial conditions cholera metapopulation transmission model. function uses make_LASER_config check parameter values meet model specifications.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_LASER_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Default LASER Configuration â€” get_default_LASER_config","text":"","code":"get_default_LASER_config(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_LASER_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Default LASER Configuration â€” get_default_LASER_config","text":"PATHS named list file path components required accessing input data. Expected list elements include: MODEL_INPUT Character string. Path directory containing model input CSV files. DATA_WHO_DAILY Character string. Path directory containing processed cholera daily CSV data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_LASER_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Default LASER Configuration â€” get_default_LASER_config","text":"list object containing necessary parameters initial conditions LASER model simulation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_LASER_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Default LASER Configuration â€” get_default_LASER_config","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(   MODEL_INPUT = \"path/to/model_input\",   DATA_WHO_DAILY = \"path/to/daily_data\" )  default_config <- get_default_config(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Default LASER Configuration â€” get_default_config","title":"Create Default LASER Configuration â€” get_default_config","text":"Generates default configuration running LASER model simulations. Automatically defines default values model parameters initial conditions cholera metapopulation transmission model. function uses make_LASER_config check parameter values meet model specifications.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Default LASER Configuration â€” get_default_config","text":"","code":"get_default_config(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Default LASER Configuration â€” get_default_config","text":"PATHS named list file path components required accessing input data. Expected list elements include: MODEL_INPUT Character string. Path directory containing model input CSV files. DATA_WHO_DAILY Character string. Path directory containing processed cholera daily CSV data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Default LASER Configuration â€” get_default_config","text":"list object containing necessary parameters initial conditions LASER model simulation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Default LASER Configuration â€” get_default_config","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(   MODEL_INPUT = \"path/to/model_input\",   DATA_WHO_DAILY = \"path/to/daily_data\" )  default_config <- get_default_config(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"Returns structured list tiered criteria identifying optimal subsets calibration results. Uses hybrid degradation strategy 30 hardcoded tiers.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"","code":"get_default_subset_tiers(   target_ESS_best = 500,   target_A = 0.95,   target_CVw = 0.7 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"target_ESS_best Numeric target ESS best subset (default: 500) target_A Numeric target agreement index (default: 0.95) target_CVw Numeric target coefficient variation (default: 0.7)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"named list element contains: name: Tier identifier : Target agreement index (0-1) CVw: Maximum coefficient variation weights ESS_B: Target effective sample size","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"function generates 30 hardcoded tiers hybrid degradation strategy: Tiers 1-20 (ESS-constant): ESS_B remains constant target_ESS_best degrades 5% per tier (multiplied 0.95) CVw increases 5% per tier (multiplied 1.05) Prioritizes statistical power relaxing quality criteria Tiers 21-30 (Fallback): three criteria degrade 5% per tier ESS_B, , CVw relax simultaneously Graceful degradation ESS target achieved Example defaults (target_ESS_best=500, target_A=0.95, target_CVw=0.7):","code":"Tier  1: ESS=500, A=0.950, CVw=0.700  (Stringent) Tier  5: ESS=500, A=0.773, CVw=0.817  (High quality) Tier 10: ESS=500, A=0.599, CVw=0.931  (Moderate quality) Tier 20: ESS=500, A=0.358, CVw=1.327  (Last ESS-constant) Tier 21: ESS=475, A=0.340, CVw=1.393  (Fallback begins) Tier 30: ESS=315, A=0.226, CVw=1.986  (Final fallback)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_default_subset_tiers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Default Subset Tiers for Post-Hoc Optimization â€” get_default_subset_tiers","text":"","code":"if (FALSE) { # \\dontrun{ # Get default 30 tiers tiers <- get_default_subset_tiers(   target_ESS_best = 500,   target_A = 0.95,   target_CVw = 0.7 )  # Custom starting criteria tiers_custom <- get_default_subset_tiers(   target_ESS_best = 600,   target_A = 0.90,   target_CVw = 0.75 )  # Loop through tiers in calibration with grid search for (tier_name in names(tiers)) {   tier <- tiers[[tier_name]]   result <- grid_search_best_subset(     results = results,     target_ESS = tier$ESS_B,     target_A = tier$A,     target_CVw = tier$CVw,     min_size = 30,     max_size = 1000   )   if (result$converged) break } } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_distance_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","title":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","text":"function builds pairwise distance matrix (kilometers) vectors longitude (x) latitude (y), either planar approximation great-circle (Haversine) formula.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_distance_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","text":"","code":"get_distance_matrix(x, y, id, method = c(\"spherical\", \"planar\"))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_distance_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","text":"x Numeric vector longitudes (degrees). y Numeric vector latitudes (degrees). id Character vector names location. method Character string, either \"spherical\" (default) Haversine distances sphere radius 6371 km, \"planar\" Euclidean distances degreeâ€space converted 111.35 km/deg.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_distance_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","text":"square matrix pairwise distances (km) among locations, row column names id, sorted alphabetically.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_distance_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build distance matrix from longitude/latitude coordinates â€” get_distance_matrix","text":"","code":"if (FALSE) { # \\dontrun{ # Sample lon/lat for three cities lon <- c(-122.33, -118.24, -74.00) lat <- c(  47.61,   34.05,   40.71) id  <- c(\"Seattle\", \"LosAngeles\", \"NewYork\")  # 1. Greatâ€circle (Haversine) distances in km D_spherical <- get_distance_matrix(lon, lat, id)  # 2. Planar approximation (Ã— 111.35 km/deg) D_planar <- get_distance_matrix(lon, lat, id, method = \"planar\")  # Inspect results print(D_spherical) print(D_planar) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"Calculates expected delta AIC range given top percentile using continuous relationship based log odds ratio.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"","code":"get_effective_aic_range(top_percentile)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"top_percentile Numeric percentage (0-100) top simulations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"Numeric effective range delta AIC normalization","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"effective range represents expected delta AIC span top X% models typical (non-dispersed) conditions. Uses heuristic maps percentiles Burnham & Anderson's AIC thresholds. Based interpretation: 1% â†’ Î” AIC < 2 (substantial support, ~37% relative likelihood) 5% â†’ Î” AIC â‰ˆ 4 (boundary substantial/less support) 10% â†’ Î” AIC â‰ˆ 7 (upper end \"considerably less support\") 20% â†’ Î” AIC â‰ˆ 10 (boundary \"essentially support\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_effective_aic_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Effective AIC Range for Gibbs Temperature Scaling â€” get_effective_aic_range","text":"","code":"get_effective_aic_range(1)   # 2.0 #> [1] 2 get_effective_aic_range(5)   # 4.0 #> [1] 4 get_effective_aic_range(10)  # 7.0 #> [1] 7"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_elevation.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","title":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","text":"function calculates mean median elevation given set ISO3 country codes loading downloaded DEM files extracting raster values within country's boundary.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_elevation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","text":"","code":"get_elevation(PATHS, iso_codes, method = \"median\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_elevation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","text":"PATHS list containing paths DEM data stored. Typically generated get_paths() function include: DATA_DEM: Path directory DEM rasters saved (GeoTIFF format). DATA_SHAPEFILES: Path directory shapefiles saved. iso_codes character vector ISO3 country codes elevation data calculated. method character string specifying method use calculating elevation statistics. Can \"mean\" \"median\" (default \"median\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_elevation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","text":"data frame ISO3 codes, country names, calculated mean median elevation country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_elevation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Mean or Median Elevation from Downloaded DEM Data Using Country Boundaries â€” get_elevation","text":"","code":"if (FALSE) { # \\dontrun{ # Define the ISO3 country codes iso_codes <- c(\"ZAF\", \"KEN\", \"NGA\")  # Get paths for data storage PATHS <- get_paths()  # Calculate mean elevation for the countries mean_elevations <- get_elevation(iso_codes, PATHS, method = \"mean\") print(mean_elevations) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_freshness_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Freshness Status Helper â€” get_freshness_status","title":"Get Freshness Status Helper â€” get_freshness_status","text":"Get Freshness Status Helper","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_freshness_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Freshness Status Helper â€” get_freshness_status","text":"","code":"get_freshness_status(days_remaining, warn_threshold)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_generation_time_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Generation Time Distribution for Days and Weeks â€” get_generation_time_distribution","title":"Estimate the Generation Time Distribution for Days and Weeks â€” get_generation_time_distribution","text":"function generates probability distribution generation time cholera based gamma distribution. allows specification mean generation time, adjusts shape rate parameters. day-wise week-wise probabilities saved CSV files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_generation_time_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Generation Time Distribution for Days and Weeks â€” get_generation_time_distribution","text":"","code":"get_generation_time_distribution(PATHS, mean_generation_time)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_generation_time_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Generation Time Distribution for Days and Weeks â€” get_generation_time_distribution","text":"PATHS list containing paths output tables saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory model input data saved. DOCS_TABLES: Path directory day-wise week-wise generation time tables saved. mean_generation_time numeric value representing desired mean generation time (days). value used adjust shape rate parameters gamma distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"function extracts legend ggplot object returns grob (graphical object). extracted legend can used independently, instance, combine legend plots.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"","code":"get_ggplot_legend(plot)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"plot ggplot object legend extracted.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"grob representing legend ggplot object.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"function converts ggplot object grob using ggplotGrob() extracts legend, stored grob name \"guide-box\". function can used separate legend plot combine plots needed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_ggplot_legend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract the Legend from a ggplot Object â€” get_ggplot_legend","text":"","code":"# Create a simple ggplot object p <- ggplot2::ggplot(mtcars, ggplot2::aes(x = wt, y = mpg, color = factor(gear))) +      ggplot2::geom_point() +      ggplot2::scale_color_discrete(name = \"Gear\")  # Extract the legend from the plot legend <- get_ggplot_legend(p)  # Display the extracted legend grid::grid.draw(legend)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"function returns Unicode hex key specified Greek letter name. user can choose whether returned letter uppercase lowercase.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"","code":"get_greek_unicode(letter_name, uppercase = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"letter_name character string representing name Greek letter. Accepted values English names Greek letters (e.g., \"alpha\", \"beta\", \"gamma\"). uppercase logical argument indicating whether return uppercase version Greek letter (default TRUE).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"character string representing Unicode hex key specified Greek letter. can used plots, titles, text Greek symbols needed.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"function allows users obtain Unicode hex representation common Greek letter name. function supports uppercase lowercase Greek letters. returned hex key can inserted directly strings titles, example, ggplot2 plots.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_greek_unicode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Unicode Hex Key for a Greek Letter â€” get_greek_unicode","text":"","code":"if (FALSE) { # \\dontrun{ # Get the Unicode for uppercase Alpha get_greek_unicode(\"alpha\", TRUE)  # Get the Unicode for lowercase Omega get_greek_unicode(\"omega\", FALSE)  # Get the Unicode for uppercase Sigma get_greek_unicode(\"sigma\", TRUE)  # Use in ggplot2 title ggplot() + labs(title = paste(\"Example with Greek letter\", get_greek_unicode(\"Psi\", TRUE))) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_immune_decay_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Immune Decay Data â€” get_immune_decay_data","title":"Get Immune Decay Data â€” get_immune_decay_data","text":"function retrieves immune durability data based known values various studies. data includes time (days), effectiveness, confidence intervals studies.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_immune_decay_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Immune Decay Data â€” get_immune_decay_data","text":"","code":"get_immune_decay_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_immune_decay_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Immune Decay Data â€” get_immune_decay_data","text":"PATHS list containing paths data figures saved. Typically generated get_paths() function include: DATA_IMMUNE_DURABILITY: Path directory immune durability data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_immune_decay_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Immune Decay Data â€” get_immune_decay_data","text":"data frame columns: day, effectiveness, effectiveness_hi, effectiveness_lo, source.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_immune_decay_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Immune Decay Data â€” get_immune_decay_data","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths() immune_data <- get_immune_decay_data(PATHS) print(immune_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Initial Compartment Values â€” get_initial_compartment_values","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"Computes integer counts compartments based total population size provided proportions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"","code":"get_initial_compartment_values(   N,   prop_S,   prop_E,   prop_I,   prop_R,   prop_V1,   prop_V2 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"N Numeric vector total population sizes (non-negative integers). Names, present, denote location identifiers preserved across compartments. prop_S Numeric vector susceptible proportions. Can length 1 length N. prop_E Numeric vector exposed proportions. Can length 1 length N. prop_I Numeric vector infected proportions. Can length 1 length N. prop_R Numeric vector recovered proportions. Can length 1 length N. prop_V1 Numeric vector single-dose vaccinated proportions. Can length 1 length N. prop_V2 Numeric vector two-dose vaccinated proportions. Can length 1 length N.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"list elements N, S, E, , R, V1, V2, integer vector length length(N) N = S + E + + R + V1 + V2. compartments inherit names N, provided.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"function checks sum provided proportions equals 1 location. , issues warning rescales proportions sum 1 computing counts. rounds counts, ensures outputs integer type, distributes rounding differences compartment largest proportion compartments sum exactly N.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_initial_compartment_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Initial Compartment Values â€” get_initial_compartment_values","text":"","code":"get_initial_compartment_values(   N = c(location_A = 1000, location_B = 2000),   prop_S = c(0.9, 0.8),   prop_E = c(0.05, 0.1),   prop_I = c(0.03, 0.05),   prop_R = c(0.01, 0.03),   prop_V1 = c(0.005, 0.01),   prop_V2 = c(0.005, 0.01) ) #> $N #> [1] 1000 2000 #>  #> $S #> [1]  900 1600 #>  #> $E #> [1]  50 200 #>  #> $I #> [1]  30 100 #>  #> $R #> [1] 10 60 #>  #> $V1 #> [1]  5 20 #>  #> $V2 #> [1]  5 20 #>"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Location-Specific Configuration â€” get_location_config","title":"Get Location-Specific Configuration â€” get_location_config","text":"Extracts configuration specific location(s) config object. Systematically subsets location-specific parameters include requested location(s).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Location-Specific Configuration â€” get_location_config","text":"","code":"get_location_config(iso, config = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Location-Specific Configuration â€” get_location_config","text":"iso Character vector ISO3 country codes extract (e.g., \"ETH\" c(\"ETH\", \"KEN\")). config configuration list object format MOSAIC::config_default. NULL, use MOSAIC::config_default.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Location-Specific Configuration â€” get_location_config","text":"config list object structure input, location-specific parameters subset requested locations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Location-Specific Configuration â€” get_location_config","text":"function systematically identifies subsets location-specific parameters config object. Location-specific parameters identified vectors length matching number locations original config. single location extractions, vector parameters converted scalars maintain consistency single-location configurations. Node-level parameters (N, S, V1, V2, E, , R) also properly subset based cumulative node indices location.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Location-Specific Configuration â€” get_location_config","text":"","code":"if (FALSE) { # \\dontrun{ # Extract config for Ethiopia eth_config <- get_location_config(iso = \"ETH\")  # Extract config for multiple countries east_africa_config <- get_location_config(   config = MOSAIC::config_default,   iso = c(\"ETH\", \"KEN\", \"UGA\", \"TZA\") )  # Use with sampled parameters config_sampled <- sample_parameters(seed = 123) config_eth <- get_location_config(config_sampled, iso = \"ETH\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Location-Specific Priors â€” get_location_priors","title":"Get Location-Specific Priors â€” get_location_priors","text":"Extracts priors specific location(s) priors object maintaining exact structure MOSAIC::priors_default. Keeps global parameters filters location-specific parameters include requested location(s).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Location-Specific Priors â€” get_location_priors","text":"","code":"get_location_priors(iso, priors = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Location-Specific Priors â€” get_location_priors","text":"iso Character vector ISO3 country codes extract (e.g., \"ETH\" c(\"ETH\", \"KEN\")). priors priors list object format MOSAIC::priors_default. NULL, use MOSAIC::priors_default.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Location-Specific Priors â€” get_location_priors","text":"priors list object structure input, containing: metadata (unchanged) global parameters (unchanged) Location-specific parameters filtered requested location(s)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Location-Specific Priors â€” get_location_priors","text":"function preserves exact structure priors object: metadata: Copied unchanged parameters_global: global parameters preserved parameters_location: Filtered include specified ISO codes function validates requested locations exist priors extracting. location missing, error thrown listing missing locations available locations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_location_priors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Location-Specific Priors â€” get_location_priors","text":"","code":"if (FALSE) { # \\dontrun{ # Extract priors for Ethiopia eth_priors <- get_location_priors(iso = \"ETH\")  # Extract priors for multiple countries east_africa_priors <- get_location_priors(   iso = c(\"ETH\", \"KEN\", \"UGA\", \"TZA\") )  # Use with custom priors object my_priors <- get_location_priors(   priors = my_custom_priors,   iso = \"SEN\" )  # Use extracted priors with sample_parameters config_sampled <- sample_parameters(   priors = eth_priors,   config = my_config,   seed = 123 ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"function creates train/validation splits LSTM training using three different cross-validation strategies: random sampling, spatial leave-one-, temporal cutoff. approach provides different insights model generalization capability cholera environmental suitability prediction.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"","code":"get_lstm_cv_folds(   data,   cv_mode = c(\"random\", \"spatial\", \"temporal\"),   train_prop = 0.8,   cutoff_date = \"2022-01-01\",   holdout_locations = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"data data frame containing suitability modeling dataset columns: iso_code: ISO country codes date: Date column (converted Date class) cases_binary: Binary suitability indicator (target variable) Additional environmental covariates modeling cv_mode Character string specifying cross-validation approach: \"random\": Random train/validation split (default) \"spatial\": Spatial leave-one-validation (hold specific countries) \"temporal\": Temporal split (train historical, test future data) train_prop Numeric proportion (0-1) training data random split mode. Default 0.8 (80% train, 20% validation). used cv_mode = \"random\". cutoff_date Date string (YYYY-MM-DD) temporal split mode. Training data includes observations date, validation includes observations date onward. Default \"2022-01-01\". used cv_mode = \"temporal\". holdout_locations Character vector ISO country codes hold validation spatial mode. Default NULL uses predefined set high-quality countries. used cv_mode = \"spatial\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"list containing: train_data: Training dataset val_data: Validation dataset split_info: List split metadata including: cv_mode: Cross-validation mode used train_n: Number training observations val_n: Number validation observations train_positive_rate: Proportion positive cases training val_positive_rate: Proportion positive cases validation Mode-specific metadata (split proportion, cutoff date, holdout countries)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"Random Split (cv_mode = \"random\"): Randomly samples observations training/validation Maintains class balance temporal distribution Good baseline model development comparison Provides optimistic performance estimates Spatial Split (cv_mode = \"spatial\"): Holds entire countries validation Tests geographic generalization capability realistic deployment new regions Uses predefined high-quality countries holdout_locations specified Temporal Split (cv_mode = \"temporal\"): Trains historical data, validates future periods Tests temporal generalization capability realistic operational early warning systems Prevents data leakage future past Maintains LSTM sequence integrity across temporal boundary Recommended CV Strategies: Development: Random split rapid iteration Geographic evaluation: Spatial split representative countries Operational validation: Temporal split recent cutoff Comprehensive evaluation: three modes robust assessment","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"function designed work MOSAIC cholera environmental suitability modeling pipeline. Different CV modes provide complementary insights model performance used together comprehensive evaluation.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_cv_folds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Cross-Validation Split for LSTM Environmental Suitability Models â€” get_lstm_cv_folds","text":"","code":"if (FALSE) { # \\dontrun{ # Load suitability data data_file <- file.path(PATHS$DATA_CHOLERA_WEEKLY,                       'cholera_country_weekly_suitability_data.csv') data <- read.csv(data_file, stringsAsFactors = FALSE)  # Random split (default) split_random <- get_lstm_cv_folds(data, cv_mode = \"random\")  # Random split with custom proportion split_random_70 <- get_lstm_cv_folds(data, cv_mode = \"random\", train_prop = 0.7)  # Spatial split with default high-quality countries split_spatial <- get_lstm_cv_folds(data, cv_mode = \"spatial\")  # Spatial split with custom countries split_custom <- get_lstm_cv_folds(data, cv_mode = \"spatial\",                                  holdout_locations = c(\"AGO\", \"KEN\", \"NGA\"))  # Temporal split with default cutoff (2022-01-01) split_temporal <- get_lstm_cv_folds(data, cv_mode = \"temporal\")  # Temporal split with custom cutoff split_temporal_2021 <- get_lstm_cv_folds(data, cv_mode = \"temporal\",                                         cutoff_date = \"2021-01-01\")  # Access split information print(split_random$split_info)  # Use in LSTM training train_sequences <- create_lstm_sequences(split_random$train_data, ...) val_sequences <- create_lstm_sequences(split_random$val_data, ...) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"function creates train/validation splits LSTM sequences using either random sampling location-month blocking. location-month blocking approach groups sequences country-month combinations randomly assigns entire blocks train/test, better preserves spatial-temporal structure tests generalization capability.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"","code":"get_lstm_sequence_splits(   train_sequences,   split_method = \"random\",   train_prop = 0.6,   seed = 99,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"train_sequences List containing LSTM sequences X, y, countries, dates (output create_lstm_sequences function) split_method Character. Either \"random\" (default) \"location_month_block\" train_prop Numeric. Proportion data training (default 0.6) seed Integer. Random seed reproducibility verbose Logical. Whether print detailed information splits (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"List containing train/validation indices metadata: train_indices: Indices training sequences val_indices: Indices validation sequences split_info: List split statistics metadata","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"Random Method (existing approach): Randomly samples individual sequences train/test split Good general model development comparison May allow data leakage sequences location-month Location-Month Block Method (new approach): Groups sequences iso_code + year-month combinations Randomly assigns entire location-month blocks train validation Ensures data leakage train/validation location-month Better tests spatial-temporal generalization capability realistic evaluation deployment new regions/time periods location-month blocking approach particularly valuable : Testing model generalization unseen location-time combinations Preventing overfitting specific location-month patterns Evaluating suitability early warning systems Assessing transferability across different epidemiological contexts","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_lstm_sequence_splits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Train/Validation Splits for LSTM Sequences â€” get_lstm_sequence_splits","text":"","code":"if (FALSE) { # \\dontrun{ # After creating LSTM sequences train_sequences <- create_lstm_sequences(...)  # Random splitting (existing method) splits_random <- get_lstm_sequence_splits(   train_sequences,   split_method = \"random\",   train_prop = 0.6,   seed = 99 )  # Location-month blocking (new method) splits_blocked <- get_lstm_sequence_splits(   train_sequences,   split_method = \"location_month_block\",   train_prop = 0.6,   seed = 99 )  # Use the splits in LSTM training X_train <- train_sequences$X[splits_blocked$train_indices, , ] y_train <- train_sequences$y[splits_blocked$train_indices] X_val <- train_sequences$X[splits_blocked$val_indices, , ] y_val <- train_sequences$y[splits_blocked$val_indices]  # Check split information print(splits_blocked$split_info) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_model_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the total model likelihood â€” get_model_likelihood","title":"Compute the total model likelihood â€” get_model_likelihood","text":"function expects matrices observed estimated cases deaths (size n_locations x n_time_steps), plus optional weight vectors locations time steps (weights_location weights_time). automatically selects Poisson Negative Binomial location outcome based whether Var(observed) / Mean(observed) >= 1.5. ratio 1.5, uses Poisson; otherwise uses NegBin. multiplies cases log-likelihood weight_cases deaths log-likelihood weight_deaths additional flexibility balancing two outcomes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_model_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the total model likelihood â€” get_model_likelihood","text":"","code":"get_model_likelihood(   obs_cases,   est_cases,   obs_deaths,   est_deaths,   weight_cases = NULL,   weight_deaths = NULL,   weights_location = NULL,   weights_time = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_model_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the total model likelihood â€” get_model_likelihood","text":"obs_cases Matrix observed cases, n_locations x n_time_steps. est_cases Matrix estimated cases, dimension obs_cases. obs_deaths Matrix observed deaths, n_locations x n_time_steps. est_deaths Matrix estimated deaths, dimension obs_deaths. weight_cases Numeric scalar (NULL), default NULL sets 1 internally. weight_deaths Numeric scalar (NULL), default NULL sets 1 internally. weights_location Optional numeric vector length n_locations, NULL. NULL, locations weighted equally. weights_time Optional numeric vector length n_time_steps, NULL. NULL, time steps weighted equally. verbose Logical; TRUE, prints summary messages. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_model_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the total model likelihood â€” get_model_likelihood","text":"single numeric value giving total log-likelihood across locations time steps, NA_real_ locations skipped.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_observed_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NPE Observed Data â€” get_npe_observed_data","title":"Get NPE Observed Data â€” get_npe_observed_data","text":"Extracts formats observed outbreak data NPE conditioning. Properly handles LASER config format reported_cases can : Vector: single location time series Matrix: rows = locations, columns = time points","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_observed_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NPE Observed Data â€” get_npe_observed_data","text":"","code":"get_npe_observed_data(config, aggregate_locations = FALSE, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_observed_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NPE Observed Data â€” get_npe_observed_data","text":"config Configuration outbreak data aggregate_locations Aggregate across locations (default FALSE) verbose Print progress","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_observed_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NPE Observed Data â€” get_npe_observed_data","text":"Data frame formatted NPE columns: j, t, cases","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_parameter_bounds.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NPE Parameter Bounds â€” get_npe_parameter_bounds","title":"Get NPE Parameter Bounds â€” get_npe_parameter_bounds","text":"Extracts mathematically correct bounds NPE training prior distributions, applying universal constraints based parameter type. ensures NPE training respects theoretical parameter constraints rather using empirical data ranges.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_parameter_bounds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NPE Parameter Bounds â€” get_npe_parameter_bounds","text":"","code":"get_npe_parameter_bounds(   param_names,   priors_file = NULL,   safety_buffer = 1e-10,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_parameter_bounds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NPE Parameter Bounds â€” get_npe_parameter_bounds","text":"param_names Character vector parameter names priors_file Path priors.json file (optional) safety_buffer Numeric buffer numerical stability (default: 1e-10) verbose Logical whether print diagnostics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_parameter_bounds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NPE Parameter Bounds â€” get_npe_parameter_bounds","text":"Data frame columns: parameter, min, max","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_simulated_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract NPE-formatted simulated data from LASER model output â€” get_npe_simulated_data","title":"Extract NPE-formatted simulated data from LASER model output â€” get_npe_simulated_data","text":"Converts LASER model output data frame format expected NPE posterior estimation. Handles R list structure Python object structure laser_cholera.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_simulated_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract NPE-formatted simulated data from LASER model output â€” get_npe_simulated_data","text":"","code":"get_npe_simulated_data(laser_result, verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_simulated_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract NPE-formatted simulated data from LASER model output â€” get_npe_simulated_data","text":"laser_result Output laser_cholera run_model verbose Logical whether print messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_simulated_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract NPE-formatted simulated data from LASER model output â€” get_npe_simulated_data","text":"Data frame columns j (location), t (time), cases","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NPE Importance Weights â€” get_npe_weights","title":"Get NPE Importance Weights â€” get_npe_weights","text":"Retrieves NPE weights pre-calculated BFRS weight columns. weight calculations performed BFRS stage using adaptive method. function simply selects appropriate column based strategy.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NPE Importance Weights â€” get_npe_weights","text":"","code":"get_npe_weights(bfrs_results, strategy = \"continuous_best\", verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NPE Importance Weights â€” get_npe_weights","text":"bfrs_results BFRS results object containing weight columns: weight_all: Weights valid simulations weight_retained: Weights retained subset weight_best: Weights best subset Subset mask columns: is_valid, is_retained, is_best_subset strategy Weight strategy: \"continuous_all\": Use weight_all column (valid simulations) \"binary_all\": Equal weights simulations \"continuous_retained\": Use weight_retained column \"binary_retained\": Equal weights within retained subset \"continuous_best\": Use weight_best column (DEFAULT) \"binary_best\": Equal weights within best subset verbose Print weight statistics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NPE Importance Weights â€” get_npe_weights","text":"Vector normalized weights (length = nrow(bfrs_results))","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_npe_weights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get NPE Importance Weights â€” get_npe_weights","text":"Weight calculation now unified BFRS stage using adaptive Gibbs method. eliminates redundant recalculation ensures consistency BFRS NPE posterior estimates. adaptive method automatically adjusts effective AIC range prevent numerical underflow maintaining discrimination among models.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Parameter Names from MOSAIC Objects â€” get_param_names","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"Extracts parameter names MOSAIC model configuration objects results matrices, organizing global parameters location-specific parameters ISO code. function useful organizing categorizing parameters analysis visualization workflows.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"","code":"get_param_names(object)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"object MOSAIC configuration list object (like config_default) named numeric vector/matrix created convert_config_to_matrix().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"list three elements: Character vector parameter names found object global Character vector global (scalar) parameter names location Named list element character vector location-specific parameter names ISO code","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"function distinguishes : Global parameters: Scalar parameters apply locations (e.g., \"phi_1\", \"omega_2\", \"epsilon\") Location-specific parameters: Parameters vary location, either stored vectors (config objects) ISO suffixes (results matrices) config objects, location-specific parameters identified base names presence location names. results matrices, location-specific parameters identified \"_ISO\" suffix pattern (e.g., \"S_j_initial_ETH\").","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_param_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Parameter Names from MOSAIC Objects â€” get_param_names","text":"","code":"if (FALSE) { # \\dontrun{ # With a config object config <- MOSAIC::config_default param_names <- get_param_names(config)  # View all parameter names param_names$all  # View global parameters only param_names$global  # View parameters for specific location param_names$location$ETH  # With a results matrix config_sampled <- sample_parameters(seed = 123) results_vec <- convert_config_to_matrix(config_sampled) param_names <- get_param_names(results_vec) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Directory Paths for the MOSAIC Project â€” get_paths","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"get_paths() function generates structured list file paths different data document directories MOSAIC project, based provided root directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"","code":"get_paths(root = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"root string specifying root directory MOSAIC project. paths generated relative root.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"named list containing following paths: ROOT root directory provided user. DATA_RAW Path raw data directory (\"MOSAIC-data/data/raw\"). DATA_PROCESSED Path processed data directory (\"MOSAIC-data/data/processed\"). MODEL_INPUT NULL, reserved path model input (applicable). MODEL_OUTPUT NULL, reserved path model output (applicable). DOCS_FIGURES Path figures directory (\"MOSAIC-docs/figures\"). DOCS_TABLES Path tables directory (\"MOSAIC-docs/tables\"). DOCS_PARAMS Path parameters directory (\"MOSAIC-docs/parameters\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"function helps organize directory structure data document storage MOSAIC project generating paths raw data, processed data, figures, tables, parameters. paths returned named list can used streamline access various project-related directories.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Directory Paths for the MOSAIC Project â€” get_paths","text":"","code":"if (FALSE) { # \\dontrun{ root_dir <- \"/{full file path}/MOSAIC\" PATHS <- get_paths(root_dir) print(PATHS$DATA_RAW) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_python_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Python Environment Paths â€” get_python_paths","title":"Get Python Environment Paths â€” get_python_paths","text":"Returns paths related desired MOSAIC Python environment","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_python_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Python Environment Paths â€” get_python_paths","text":"","code":"get_python_paths()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_python_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Python Environment Paths â€” get_python_paths","text":"list following named elements: env full absolute path desired Python environment directory (root folder virtual environment). exec expected path Python executable within environment, constructed using OS-specific conventions. norm normalized (canonical) absolute path Python executable symbolic links /relative components resolved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_suspected_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Proportion of Suspected Cholera Cases and Save Parameter Data Frame â€” get_suspected_cases","title":"Get Proportion of Suspected Cholera Cases and Save Parameter Data Frame â€” get_suspected_cases","text":"function generates parameters proportion suspected cholera cases (rho) saves parameter data frame.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_suspected_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Proportion of Suspected Cholera Cases and Save Parameter Data Frame â€” get_suspected_cases","text":"","code":"get_suspected_cases(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_suspected_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Proportion of Suspected Cholera Cases and Save Parameter Data Frame â€” get_suspected_cases","text":"PATHS list containing paths parameter data saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory parameter data frame saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_suspected_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Proportion of Suspected Cholera Cases and Save Parameter Data Frame â€” get_suspected_cases","text":"data frame containing parameter values proportion suspected cholera cases (rho).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_symptomatic_prop_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","title":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","text":"function creates data frame studies reporting proportion cholera infections symptomatic saves CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_symptomatic_prop_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","text":"","code":"get_symptomatic_prop_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_symptomatic_prop_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","text":"PATHS list containing paths symptomatic proportion data saved. Typically generated get_paths() function include: DATA_PROCESSED: Path save symptomatic proportion data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_symptomatic_prop_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","text":"function return value saves data frame CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_symptomatic_prop_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Symptomatic Proportion Data â€” get_symptomatic_prop_data","text":"","code":"if (FALSE) { # \\dontrun{ # Generate and save symptomatic proportion data PATHS <- get_paths() get_symptomatic_prop_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_vaccine_effectiveness_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Vaccine Effectiveness Data â€” get_vaccine_effectiveness_data","title":"Get Vaccine Effectiveness Data â€” get_vaccine_effectiveness_data","text":"function saves dataset containing vaccine effectiveness data extracted multiple studies. data saved CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_vaccine_effectiveness_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Vaccine Effectiveness Data â€” get_vaccine_effectiveness_data","text":"","code":"get_vaccine_effectiveness_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_vaccine_effectiveness_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Vaccine Effectiveness Data â€” get_vaccine_effectiveness_data","text":"PATHS list containing paths data saved. Typically generated get_paths() function include: DATA_VACCINE_EFFECTIVENESS: Path directory vaccine effectiveness data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Get WHO Region for ISO Country Codes â€” get_who_region","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"function maps ISO 3-letter country codes African regional classifications. Uses pre-loaded regional ISO code vectors available MOSAIC package data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"","code":"get_who_region(iso_codes)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"iso_codes Character vector ISO 3-letter country codes (e.g., \"NGA\", \"KEN\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"Character vector length input regional classifications: West Africa: Countries West African region East Africa: Countries East African region Central Africa: Countries Central African region North Africa: Countries North African region Southern Africa: Countries Southern African region Unknown: Countries found regional classification","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"function uses following MOSAIC package data objects: iso_codes_africa_west: West African countries iso_codes_africa_east: East African countries iso_codes_africa_central: Central African countries iso_codes_africa_north: North African countries iso_codes_africa_south: Southern African countries","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_who_region.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get WHO Region for ISO Country Codes â€” get_who_region","text":"","code":"if (FALSE) { # \\dontrun{ # Single country get_who_region(\"NGA\")  # Returns \"West Africa\"  # Multiple countries countries <- c(\"NGA\", \"KEN\", \"COD\", \"ZAF\") get_who_region(countries)  # Returns regional classifications  # Handle missing/unknown codes get_who_region(c(\"NGA\", \"XXX\"))  # Returns c(\"West Africa\", \"Unknown\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":null,"dir":"Reference","previous_headings":"","what":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"Performs exhaustive grid search find smallest subset size meets convergence criteria (ESS, , CVw) using Gibbs weighting. Stops first convergence.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"","code":"grid_search_best_subset(   results,   target_ESS,   target_A,   target_CVw,   min_size,   max_size,   step_size = 1,   ess_method = c(\"kish\", \"perplexity\"),   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"results Data frame calibration results columns: sim, likelihood target_ESS Numeric target Effective Sample Size (ESS) target_A Numeric target Agreement Index () target_CVw Numeric target Coefficient Variation weights (CVw) min_size Integer minimum subset size search max_size Integer maximum subset size search step_size Integer step size search (default 1) ess_method Character ESS calculation method: \"kish\" \"perplexity\" verbose Logical print progress messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"List elements: n: Optimal subset size (smallest n meeting criteria) subset: Data frame selected simulations metrics: List ESS, , CVw values optimal n converged: Logical indicating criteria met evaluations: Integer number n values tested","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"function searches min_size max_size step_size, stopping first size three criteria met simultaneously: ESS >= target_ESS >= target_A CVw <= target_CVw Metrics calculated using Gibbs weighting dynamic temperature: Calculate AIC = -2 * likelihood subset Calculate Delta AIC (relative best subset) Calculate dynamic temperature: effective_range = 4.0 (standard Akaike range) actual_range = range(Delta AIC) temperature = 0.5 * (effective_range / actual_range) Apply Gibbs weighting: weights = exp(-Delta AIC / temperature) / Z Calculate ESS, , CVw Gibbs-weighted samples temperature adapts data's actual Delta AIC range, providing consistent discrimination across different likelihood spreads. size meets criteria, returns results max_size converged=FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/grid_search_best_subset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Grid Search for Best Subset with Early Stopping â€” grid_search_best_subset","text":"","code":"if (FALSE) { # \\dontrun{ result <- grid_search_best_subset(   results = calibration_results,   target_ESS = 500,   target_A = 0.95,   target_CVw = 0.7,   min_size = 30,   max_size = 1000 ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/identify_best_subset.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","title":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","text":"Uses binary search percentile find smallest subset top simulations (likelihood) meets convergence criteria ESS_B, , CVw, minimum size. subset used define priors Neural Posterior Estimation (NPE).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/identify_best_subset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","text":"","code":"identify_best_subset(   results,   min_B = 30,   target_ESS_B = 50,   target_A = 0.95,   target_CVw = 0.5,   min_percentile = 0.001,   max_percentile = 30,   precision = 0.1,   ess_method = c(\"kish\", \"perplexity\"),   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/identify_best_subset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","text":"results Data frame containing simulation results columns: sim: Simulation ID likelihood: Log-likelihood values columns containing parameter values min_B Integer minimum number simulations include even percentile smaller (default: 30) ensures enough samples stable convergence metrics (ESS, , CVw). Can lowered small datasets, values < 20 may give unstable results. target_ESS_B Numeric target minimum ESS subset (default: 50) target_A Numeric target minimum agreement index (default: 0.95) target_CVw Numeric target maximum coefficient variation (default: 0.5) min_percentile Numeric minimum percentile consider (default: 0.001) search consider subsets smaller percentile. E.g., 0.001 means least top 0.001% considered. Note: actual minimum subset size max(min_percentile%, min_B simulations). max_percentile Numeric maximum percentile consider (default: 30) search consider subsets larger percentile. E.g., 30 means top 30% considered. precision Numeric precision binary search convergence percentage (default: 0.1) search stops range smaller value. ess_method Character string specifying ESS calculation method: \"kish\" (default) \"perplexity\" verbose Logical whether print progress messages (default: FALSE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/identify_best_subset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","text":"list containing: subset: Data frame selected simulations metrics: Final convergence metrics (ESS_B, , CVw, B_size) converged: Logical indicating criteria met n_selected: Number simulations final subset percentile_used: Final percentile simulations selected","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/identify_best_subset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify Best Subset of Simulations for NPE Prior Definition â€” identify_best_subset","text":"","code":"if (FALSE) { # \\dontrun{ # Identify best subset from calibration results best_subset <- identify_best_subset(   results = calibration_results,   min_B = 30,              # Minimum 30 simulations for stable metrics   target_ESS_B = 50,   target_A = 0.95,   target_CVw = 0.5,   min_percentile = 0.001,  # Search down to top 0.001%   max_percentile = 30,     # Don't consider more than top 30%   verbose = TRUE )  # Use subset for NPE prior definition npe_priors <- estimate_priors_from_subset(best_subset$subset) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert Metadata into Results Row â€” insert_metadata","title":"Insert Metadata into Results Row â€” insert_metadata","text":"Safely inserts metadata values results row using schema structure.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert Metadata into Results Row â€” insert_metadata","text":"","code":"insert_metadata(   result_row,   schema,   sim_id = NA,   iter = NA,   seed = NA,   likelihood = NA )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert Metadata into Results Row â€” insert_metadata","text":"result_row Numeric vector representing single results row schema calibration_results_schema object sim_id Simulation ID (optional) iter Iteration number (optional) seed Random seed (optional) likelihood Log-likelihood value (optional)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert Metadata into Results Row â€” insert_metadata","text":"Updated result_row metadata inserted","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Insert Metadata into Results Row â€” insert_metadata","text":"","code":"if (FALSE) { # \\dontrun{ schema <- create_results_schema(config_base) result_row <- rep(NA_real_, schema$n_total) result_row <- insert_metadata(result_row, schema, sim_id = 1, iter = 1, seed = 123) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Insert Parameters into Results Row â€” insert_parameters","title":"Insert Parameters into Results Row â€” insert_parameters","text":"Safely inserts parameter values results row using schema validation. ensures parameter structure consistency catches mismatches early.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Insert Parameters into Results Row â€” insert_parameters","text":"","code":"insert_parameters(result_row, schema, params_config)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Insert Parameters into Results Row â€” insert_parameters","text":"result_row Numeric vector representing single results row schema calibration_results_schema object params_config Configuration object containing parameters extract","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Insert Parameters into Results Row â€” insert_parameters","text":"Updated result_row parameters inserted","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/insert_parameters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Insert Parameters into Results Row â€” insert_parameters","text":"","code":"if (FALSE) { # \\dontrun{ schema <- create_results_schema(config_base) result_row <- rep(NA_real_, schema$n_total) params <- sample_parameters(PATHS, config_base, seed = 123) result_row <- insert_parameters(result_row, schema, params) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/install_dependencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Install R and Python Dependencies for MOSAIC â€” install_dependencies","title":"Install R and Python Dependencies for MOSAIC â€” install_dependencies","text":"Sets conda environment MOSAIC using environment.yml file located package. environment stored fixed directory (\"~/.virtualenvs/r-mosaic\") installs LASER disease transmission model simulation tool. function also installs R packages keras3 tensorflow, ensures Keras + TensorFlow Python backend available use R.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/install_dependencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install R and Python Dependencies for MOSAIC â€” install_dependencies","text":"","code":"install_dependencies(force = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/install_dependencies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install R and Python Dependencies for MOSAIC â€” install_dependencies","text":"force Logical. TRUE, deletes recreates conda environment scratch. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/install_dependencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install R and Python Dependencies for MOSAIC â€” install_dependencies","text":"return value","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse Logit (Logistic) Transformation â€” inv_logit","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"Applies inverse logit (logistic) transformation real-valued input, mapping real line (-Inf, Inf) interval (0, 1).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"","code":"inv_logit(x)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"x numeric vector real values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"numeric vector value inverse logit corresponding input, representing probability range (0, 1).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"inverse logit function defined : $$inv\\_logit(x) = \\frac{e^x}{1 + e^x}$$ often used map real-valued predictions (e.g., logistic regression) back probabilities.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/inv_logit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Inverse Logit (Logistic) Transformation â€” inv_logit","text":"","code":"inv_logit(0)     # Returns 0.5 #> [1] 0.5 inv_logit(1.39)  # Returns approximately 0.8 #> [1] 0.8005922 inv_logit(-1.39) # Returns approximately 0.2 #> [1] 0.1994078"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for All African Countries â€” iso_codes_africa","title":"ISO3 Country Codes for All African Countries â€” iso_codes_africa","text":"character vector containing ISO3 country codes 54 countries Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for All African Countries â€” iso_codes_africa","text":"","code":"iso_codes_africa"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for All African Countries â€” iso_codes_africa","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for All African Countries â€” iso_codes_africa","text":"","code":"# Access ISO3 codes for all African countries iso_codes_africa #>  [1] \"AGO\" \"BDI\" \"BEN\" \"BFA\" \"BWA\" \"CAF\" \"CIV\" \"CMR\" \"COD\" \"COG\" \"COM\" \"CPV\" #> [13] \"DJI\" \"DZA\" \"EGY\" \"ERI\" \"ETH\" \"GAB\" \"GHA\" \"GIN\" \"GMB\" \"GNB\" \"GNQ\" \"KEN\" #> [25] \"LBR\" \"LBY\" \"LSO\" \"MAR\" \"MDG\" \"MLI\" \"MOZ\" \"MRT\" \"MUS\" \"MWI\" \"NAM\" \"NER\" #> [37] \"NGA\" \"RWA\" \"SDN\" \"SEN\" \"SLE\" \"SOM\" \"SSD\" \"STP\" \"SWZ\" \"SYC\" \"TCD\" \"TGO\" #> [49] \"TUN\" \"TZA\" \"UGA\" \"ZAF\" \"ZMB\" \"ZWE\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_central.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for Central African Countries â€” iso_codes_africa_central","title":"ISO3 Country Codes for Central African Countries â€” iso_codes_africa_central","text":"character vector containing ISO3 country codes 8 countries Central Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_central.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for Central African Countries â€” iso_codes_africa_central","text":"","code":"iso_codes_africa_central"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_central.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for Central African Countries â€” iso_codes_africa_central","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_central.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for Central African Countries â€” iso_codes_africa_central","text":"","code":"# Access ISO3 codes for Central African countries iso_codes_africa_central #> [1] \"AGO\" \"CAF\" \"COD\" \"COG\" \"GAB\" \"GNQ\" \"STP\" \"TCD\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_east.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for East African Countries â€” iso_codes_africa_east","title":"ISO3 Country Codes for East African Countries â€” iso_codes_africa_east","text":"character vector containing ISO3 country codes 14 countries East Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_east.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for East African Countries â€” iso_codes_africa_east","text":"","code":"iso_codes_africa_east"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_east.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for East African Countries â€” iso_codes_africa_east","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_east.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for East African Countries â€” iso_codes_africa_east","text":"","code":"# Access ISO3 codes for East African countries iso_codes_africa_east #>  [1] \"BDI\" \"COM\" \"DJI\" \"ERI\" \"ETH\" \"KEN\" \"MDG\" \"MWI\" \"RWA\" \"SOM\" \"SSD\" \"SYC\" #> [13] \"TZA\" \"UGA\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_north.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for North African Countries â€” iso_codes_africa_north","title":"ISO3 Country Codes for North African Countries â€” iso_codes_africa_north","text":"character vector containing ISO3 country codes 6 countries North Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_north.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for North African Countries â€” iso_codes_africa_north","text":"","code":"iso_codes_africa_north"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_north.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for North African Countries â€” iso_codes_africa_north","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_north.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for North African Countries â€” iso_codes_africa_north","text":"","code":"# Access ISO3 codes for North African countries iso_codes_africa_north #> [1] \"DZA\" \"EGY\" \"LBY\" \"MAR\" \"SDN\" \"TUN\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_south.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for Southern African Countries â€” iso_codes_africa_south","title":"ISO3 Country Codes for Southern African Countries â€” iso_codes_africa_south","text":"character vector containing ISO3 country codes 7 countries Southern Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_south.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for Southern African Countries â€” iso_codes_africa_south","text":"","code":"iso_codes_africa_south"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_south.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for Southern African Countries â€” iso_codes_africa_south","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_south.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for Southern African Countries â€” iso_codes_africa_south","text":"","code":"# Access ISO3 codes for Southern African countries iso_codes_africa_south #> [1] \"BWA\" \"LSO\" \"NAM\" \"SWZ\" \"ZAF\" \"ZMB\" \"ZWE\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_west.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for West African Countries â€” iso_codes_africa_west","title":"ISO3 Country Codes for West African Countries â€” iso_codes_africa_west","text":"character vector containing ISO3 country codes 16 countries West Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_west.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for West African Countries â€” iso_codes_africa_west","text":"","code":"iso_codes_africa_west"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_west.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for West African Countries â€” iso_codes_africa_west","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_africa_west.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for West African Countries â€” iso_codes_africa_west","text":"","code":"# Access ISO3 codes for West African countries iso_codes_africa_west #>  [1] \"BEN\" \"BFA\" \"CIV\" \"CPV\" \"GHA\" \"GIN\" \"GMB\" \"GNB\" \"LBR\" \"MLI\" \"MRT\" \"NER\" #> [13] \"NGA\" \"SEN\" \"SLE\" \"TGO\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_mosaic.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for MOSAIC Modeling Framework â€” iso_codes_mosaic","title":"ISO3 Country Codes for MOSAIC Modeling Framework â€” iso_codes_mosaic","text":"character vector containing ISO3 country codes 41 countries modeled MOSAIC framework.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_mosaic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for MOSAIC Modeling Framework â€” iso_codes_mosaic","text":"","code":"iso_codes_mosaic"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_mosaic.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for MOSAIC Modeling Framework â€” iso_codes_mosaic","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_mosaic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for MOSAIC Modeling Framework â€” iso_codes_mosaic","text":"","code":"# Access ISO3 codes for countries modeled in the MOSAIC framework iso_codes_mosaic #>  [1] \"AGO\" \"BDI\" \"BEN\" \"BFA\" \"BWA\" \"CAF\" \"CIV\" \"CMR\" \"COD\" \"COG\" \"ERI\" \"ETH\" #> [13] \"GAB\" \"GHA\" \"GIN\" \"GMB\" \"GNB\" \"GNQ\" \"KEN\" \"LBR\" \"MLI\" \"MOZ\" \"MRT\" \"MWI\" #> [25] \"NAM\" \"NER\" \"NGA\" \"RWA\" \"SEN\" \"SLE\" \"SOM\" \"SSD\" \"SWZ\" \"TCD\" \"TGO\" \"TZA\" #> [37] \"UGA\" \"ZAF\" \"ZMB\" \"ZWE\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_ssa.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for Sub-Saharan African Countries â€” iso_codes_ssa","title":"ISO3 Country Codes for Sub-Saharan African Countries â€” iso_codes_ssa","text":"character vector containing ISO3 country codes 48 countries Sub-Saharan Africa.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_ssa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for Sub-Saharan African Countries â€” iso_codes_ssa","text":"","code":"iso_codes_ssa"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_ssa.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for Sub-Saharan African Countries â€” iso_codes_ssa","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_ssa.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for Sub-Saharan African Countries â€” iso_codes_ssa","text":"","code":"# Access ISO3 codes for Sub-Saharan African countries iso_codes_ssa #>  [1] \"AGO\" \"BDI\" \"BEN\" \"BFA\" \"BWA\" \"CAF\" \"CIV\" \"CMR\" \"COD\" \"COG\" \"COM\" \"CPV\" #> [13] \"DJI\" \"ERI\" \"ETH\" \"GAB\" \"GHA\" \"GIN\" \"GMB\" \"GNB\" \"GNQ\" \"KEN\" \"LBR\" \"LSO\" #> [25] \"MDG\" \"MLI\" \"MOZ\" \"MRT\" \"MUS\" \"MWI\" \"NAM\" \"NER\" \"NGA\" \"RWA\" \"SDN\" \"SEN\" #> [37] \"SLE\" \"SOM\" \"SSD\" \"STP\" \"SWZ\" \"SYC\" \"TCD\" \"TGO\" \"TZA\" \"UGA\" \"ZAF\" \"ZMB\" #> [49] \"ZWE\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_who_afro.html","id":null,"dir":"Reference","previous_headings":"","what":"ISO3 Country Codes for WHO AFRO Region Countries â€” iso_codes_who_afro","title":"ISO3 Country Codes for WHO AFRO Region Countries â€” iso_codes_who_afro","text":"character vector containing ISO3 country codes 47 countries African Region (AFRO).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_who_afro.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ISO3 Country Codes for WHO AFRO Region Countries â€” iso_codes_who_afro","text":"","code":"iso_codes_who_afro"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_who_afro.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ISO3 Country Codes for WHO AFRO Region Countries â€” iso_codes_who_afro","text":"character vector ISO3 country codes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_who_afro.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ISO3 Country Codes for WHO AFRO Region Countries â€” iso_codes_who_afro","text":"","code":"# Access ISO3 codes for WHO AFRO Region countries iso_codes_who_afro #>  [1] \"AGO\" \"BDI\" \"BEN\" \"BFA\" \"BWA\" \"CAF\" \"CIV\" \"CMR\" \"COD\" \"COG\" \"COM\" \"CPV\" #> [13] \"DJI\" \"DZA\" \"ERI\" \"ETH\" \"GAB\" \"GHA\" \"GIN\" \"GMB\" \"GNB\" \"GNQ\" \"KEN\" \"LBR\" #> [25] \"LSO\" \"MDG\" \"MLI\" \"MOZ\" \"MRT\" \"MUS\" \"MWI\" \"NAM\" \"NER\" \"NGA\" \"RWA\" \"SDN\" #> [37] \"SEN\" \"SLE\" \"SOM\" \"SSD\" \"STP\" \"SWZ\" \"SYC\" \"TCD\" \"TGO\" \"TZA\" \"UGA\" \"ZAF\" #> [49] \"ZMB\" \"ZWE\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_npe_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Load NPE Model â€” load_npe_model","title":"Load NPE Model â€” load_npe_model","text":"Loads saved NPE model disk.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_npe_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load NPE Model â€” load_npe_model","text":"","code":"load_npe_model(model_dir, device = \"cpu\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_npe_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load NPE Model â€” load_npe_model","text":"model_dir Directory containing saved model device Device load model (\"cpu\" \"cuda\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_npe_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load NPE Model â€” load_npe_model","text":"NPE model object","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_or_install_packages.html","id":null,"dir":"Reference","previous_headings":"","what":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","title":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","text":"function checks whether specified packages installed. package installed, installed. Special handling included mobility, propvacc, MOSAIC, installed GitHub.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_or_install_packages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","text":"","code":"load_or_install_packages(packages)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_or_install_packages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","text":"packages character vector package names load install.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_or_install_packages.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","text":"packages, function installs CRAN already installed. Special cases handled following packages: mobility: Installed GitHub https://github.com/COVID-19-Mobility-Data-Network/mobility. propvacc: Installed GitHub https://github.com/gilesjohnr/propvacc. MOSAIC: Installed GitHub https://github.com/InstituteforDiseaseModeling/MOSAIC-pkg.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/load_or_install_packages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load or Install Required Packages (with GitHub handling for mobility, propvacc, and MOSAIC) â€” load_or_install_packages","text":"","code":"if (FALSE) { # \\dontrun{ load_or_install_packages(c(\"ggplot2\", \"mobility\", \"propvacc\", \"MOSAIC\")) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/lock_python_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Lock Python Environment to r-mosaic â€” lock_python_env","title":"Lock Python Environment to r-mosaic â€” lock_python_env","text":"Ensures r-mosaic Python environment active prevents switching. function called start parallel workflows script requires stable Python environment access. function: Verifies r-mosaic environment exists Sets locks RETICULATE_PYTHON environment variable Initializes Python r-mosaic environment Imports laser_cholera ensure available Fails loudly step fails","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/lock_python_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lock Python Environment to r-mosaic â€” lock_python_env","text":"","code":"lock_python_env()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/lock_python_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lock Python Environment to r-mosaic â€” lock_python_env","text":"Invisible TRUE successful, stops error otherwise","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/lock_python_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Lock Python Environment to r-mosaic â€” lock_python_env","text":"Python initialized specific environment R session, reticulate prevents switching different environment. function leverages behavior initializing r-mosaic first, effectively locking session environment. Best practice: Call function immediately loading MOSAIC package operations might initialize Python.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/lock_python_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Lock Python Environment to r-mosaic â€” lock_python_env","text":"","code":"if (FALSE) { # \\dontrun{ # At the start of a calibration script library(MOSAIC) set_root_directory(\"/path/to/MOSAIC\")  # Lock Python environment before creating cluster lock_python_env()  # Now safe to create cluster and run simulations cl <- makeCluster(9) # ... rest of script } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":null,"dir":"Reference","previous_headings":"","what":"Simple Logging Function with Timestamps â€” log_msg","title":"Simple Logging Function with Timestamps â€” log_msg","text":"utility function logging messages timestamps console optional log files. Useful tracking progress long-running simulations model calibration workflows.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simple Logging Function with Timestamps â€” log_msg","text":"","code":"log_msg(msg, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simple Logging Function with Timestamps â€” log_msg","text":"msg Character string. message log. Can include sprintf-style formatting placeholders (e.g., \"%d\", \"%s\", \"%.2f\"). ... Additional arguments passed sprintf message formatting.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simple Logging Function with Timestamps â€” log_msg","text":"Invisible NULL. Function called side effects (logging).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simple Logging Function with Timestamps â€” log_msg","text":"function automatically adds timestamp \"YYYY-MM-DD HH:MM:SS\" format message. Messages printed console , 'dir_output' variable exists calling environment, also appended 'run.log' file directory (dir_output/run.log). directory exist, created automatically. particularly useful : Model calibration workflows (logs entire BFRS â†’ NPE sequence) Long-running simulations Parallel processing tasks Debugging progress tracking","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/log_msg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simple Logging Function with Timestamps â€” log_msg","text":"","code":"if (FALSE) { # \\dontrun{ # Simple message log_msg(\"Starting analysis\")  # Formatted message log_msg(\"Processing %d simulations with %d cores\", 100, 8)  # With output directory for file logging dir_output <- tempdir() log_msg(\"Results saved to %s\", dir_output)  # Check the log file log_file <- file.path(dir_output, \"run.log\") if (file.exists(log_file)) {   cat(readLines(log_file), sep = \"\\n\") } } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Logit Transformation â€” logit","title":"Logit Transformation â€” logit","text":"Applies logit transformation probability value, mapping interval (0, 1) real line (-Inf, Inf).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logit Transformation â€” logit","text":"","code":"logit(p)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Logit Transformation â€” logit","text":"p numeric vector probabilities, value must interval (0, 1).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Logit Transformation â€” logit","text":"numeric vector value logit corresponding input probability. output range (-Inf, Inf).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Logit Transformation â€” logit","text":"logit function defined : $$logit(p) = \\log\\left(\\frac{p}{1 - p}\\right)$$ commonly used logistic regression models probabilities need mapped real-valued scale.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/logit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Logit Transformation â€” logit","text":"","code":"logit(0.5)   # Returns 0 #> [1] 0 logit(0.8)   # Positive value #> [1] 1.386294 logit(0.2)   # Negative value #> [1] -1.386294"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_LASER_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Configuration File for LASER â€” make_LASER_config","title":"Create a Configuration File for LASER â€” make_LASER_config","text":"function generates JSON/HDF5/YAML configuration file used LASER model simulation parameters. validates input parameters , output file path provided, writes parameters file. file extension determines output format used: .json .json.gz â†’ written write_list_to_json, .h5, .h5.gz â†’ written write_list_to_hdf5, .yaml .yaml.gz â†’ written write_list_to_yaml.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_LASER_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Configuration File for LASER â€” make_LASER_config","text":"","code":"make_LASER_config(   output_file_path = NULL,   seed = NULL,   date_start = NULL,   date_stop = NULL,   location_name = NULL,   N_j_initial = NULL,   S_j_initial = NULL,   E_j_initial = NULL,   I_j_initial = NULL,   R_j_initial = NULL,   V1_j_initial = NULL,   V2_j_initial = NULL,   prop_S_initial = NULL,   prop_E_initial = NULL,   prop_I_initial = NULL,   prop_R_initial = NULL,   prop_V1_initial = NULL,   prop_V2_initial = NULL,   b_jt = NULL,   d_jt = NULL,   nu_1_jt = NULL,   nu_2_jt = NULL,   phi_1 = NULL,   phi_2 = NULL,   omega_1 = NULL,   omega_2 = NULL,   iota = NULL,   gamma_1 = NULL,   gamma_2 = NULL,   epsilon = NULL,   mu_jt = NULL,   mu_j_baseline = NULL,   mu_j_slope = NULL,   mu_j_epidemic_factor = NULL,   rho = NULL,   sigma = NULL,   chi_endemic = NULL,   chi_epidemic = NULL,   epidemic_threshold = NULL,   delta_reporting_cases = NULL,   delta_reporting_deaths = NULL,   longitude = NULL,   latitude = NULL,   mobility_omega = NULL,   mobility_gamma = NULL,   tau_i = NULL,   beta_j0_tot = NULL,   p_beta = NULL,   beta_j0_hum = NULL,   a_1_j = NULL,   a_2_j = NULL,   b_1_j = NULL,   b_2_j = NULL,   p = 365L,   alpha_1 = NULL,   alpha_2 = NULL,   beta_j0_env = NULL,   theta_j = NULL,   psi_jt = NULL,   psi_star_a = NULL,   psi_star_b = NULL,   psi_star_z = NULL,   psi_star_k = NULL,   zeta_1 = NULL,   zeta_2 = NULL,   kappa = NULL,   decay_days_short = NULL,   decay_days_long = NULL,   decay_shape_1 = NULL,   decay_shape_2 = NULL,   reported_cases = NULL,   reported_deaths = NULL,   sigfigs = 8 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_LASER_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Configuration File for LASER â€” make_LASER_config","text":"output_file_path character string representing full file path output file. Must .json, .json.gz, .h5, .hdf5, .h5.gz, .yaml, .yaml.gz extension. NULL, file written parameters returned. seed Integer scalar giving random seed value simulation run. date_start Start date simulation period \"YYYY-MM-DD\" format. provided character string, converted Date object. date_stop End date simulation period \"YYYY-MM-DD\" format. provided character string, converted Date object. location_name character vector giving names metapopulation location. order names must match used initial population vectors. N_j_initial named numeric integer vector length equal location_name giving total initial population size location. Note total population size must sum model compartments. S_j_initial named numeric integer vector length equal location_name giving starting number susceptible individuals location. Names must match location_name. E_j_initial named numeric integer vector length equal location_name giving starting number exposed individuals location. Names must match location_name. I_j_initial named numeric integer vector length equal location_name giving starting number infected individuals location. Names must match location_name. R_j_initial named numeric integer vector length equal location_name giving starting number recovered individuals location. Names must match location_name. V1_j_initial named numeric integer vector length equal location_name giving starting number individuals vaccine compartment V1 location. Names must match location_name. V2_j_initial named numeric integer vector length equal location_name giving starting number individuals vaccine compartment V2 location. Names must match location_name. prop_S_initial Optional. named numeric vector length equal location_name giving starting proportion susceptible individuals location. Values must [0,1]. Names must match location_name. proportion fields provided analysis convenience required LASER model. prop_E_initial Optional. named numeric vector length equal location_name giving starting proportion exposed individuals location. Values must [0,1]. Names must match location_name. prop_I_initial Optional. named numeric vector length equal location_name giving starting proportion infected individuals location. Values must [0,1]. Names must match location_name. prop_R_initial Optional. named numeric vector length equal location_name giving starting proportion recovered individuals location. Values must [0,1]. Names must match location_name. prop_V1_initial Optional. named numeric vector length equal location_name giving starting proportion individuals vaccine compartment V1 location. Values must [0,1]. Names must match location_name. prop_V2_initial Optional. named numeric vector length equal location_name giving starting proportion individuals vaccine compartment V2 location. Values must [0,1]. Names must match location_name. b_jt matrix birth rates rows equal length(location_name) columns equal daily sequence date_start date_stop. d_jt matrix mortality rates rows equal length(location_name) columns equal daily sequence date_start date_stop. nu_1_jt matrix first-dose OCV vaccinations location time step. nu_2_jt matrix second-dose OCV vaccinations location time step. phi_1 Effectiveness one dose OCV (numeric [0, 1]). phi_2 Effectiveness two doses OCV (numeric [0, 1]). omega_1 Waning immunity rate one dose (numeric >= 0). omega_2 Waning immunity rate two doses (numeric >= 0). iota Incubation period (numeric > 0). gamma_1 Recovery rate severe infection (numeric >= 0). gamma_2 Recovery rate mild infection (numeric >= 0). epsilon Waning immunity rate (numeric >= 0). mu_jt matrix time-varying probabilities mortality due infection, rows equal length(location_name) columns equal length(t). values must numeric 0 1. mu_j_baseline provided IFR parameters, mu_jt can generated using calc_deaths_from_infections(). mu_j_baseline Baseline infection fatality ratio threshold-dependent IFR model. Numeric vector length(location_name). Values must [0, 1]. mu_j_slope Temporal trend baseline IFR (proportion change simulation period). Numeric vector length(location_name). Default 0 (temporal trend). mu_j_epidemic_factor Proportional increase IFR epidemic periods (e.g., 0.5 = 50% increase). Numeric vector length(location_name). Must >= 0. rho Proportion true infections (numeric [0, 1]). sigma Proportion symptomatic infections (numeric [0, 1]). chi_endemic Positive predictive value among suspected cases endemic periods (numeric (0, 1]). chi_epidemic Positive predictive value among suspected cases epidemic periods (numeric (0, 1]). epidemic_threshold Incidence threshold (infections per capita) epidemic definition. Used case reporting IFR threshold models. Numeric [0, 1]. delta_reporting_cases Infection--case reporting delay days (non-negative integer). delta_reporting_deaths Infection--death reporting delay days (non-negative integer). longitude numeric vector longitudes location. Must length location_name. latitude numeric vector latitudes location. Must length location_name. mobility_omega Exponent weight destination population gravity mobility model. Must numeric â‰¥ 0. mobility_gamma Exponent weight distance decay gravity mobility model. Must numeric â‰¥ 0. tau_i Departure probability origin location (numeric vector length(location_name) [0, 1]). beta_j0_tot Total baseline transmission rate (human + environmental). Optional numeric vector length(location_name). provided p_beta, used derive beta_j0_hum beta_j0_env. p_beta Proportion total transmission human--human (0-1). Optional numeric vector length(location_name). provided beta_j0_tot, used derive beta_j0_hum beta_j0_env. beta_j0_hum Baseline human--human transmission rate (numeric vector length(location_name)). beta_j0_tot p_beta provided, validated beta_j0_tot * p_beta. a_1_j Vector sine amplitude coefficients (1st harmonic) location. Numeric, length = length(location_name). a_2_j Vector sine amplitude coefficients (2nd harmonic) location. Numeric, length = length(location_name). b_1_j Vector cosine amplitude coefficients (1st harmonic) location. Numeric, length = length(location_name). b_2_j Vector cosine amplitude coefficients (2nd harmonic) location. Numeric, length = length(location_name). p Period seasonal forcing function. Scalar numeric > 0. Default 365 daily annual seasonality. alpha_1 Transmission parameter mixing (numeric [0, 1]). alpha_2 Transmission parameter density dependence (numeric [0, 1]). beta_j0_env Baseline environment--human transmission rate (numeric vector length(location_name)). beta_j0_tot p_beta provided, validated beta_j0_tot * (1 - p_beta). theta_j Proportion adequate WASH (numeric vector length(location_name) [0, 1]). psi_jt Matrix environmental suitability values (matrix rows = length(location_name) columns equal daily sequence date_start date_stop). psi_star_a Shape/gain parameter logit calibration psi_jt (numeric vector length(location_name) > 0). Values > 1 sharpen peaks, values < 1 flatten peaks. Default 1.0 (transformation). psi_star_b Scale/offset parameter logit calibration psi_jt (numeric vector length(location_name)). Shifts baseline /logit scale. Default 0.0 (offset). psi_star_z Smoothing weight causal EWMA calibrated psi_jt (numeric vector length(location_name) (0,1]). 1.0 = smoothing, < 1.0 = apply smoothing. Default 1.0 (smoothing). psi_star_k Time offset days psi_jt calibration (numeric vector length(location_name)). Positive values = forward/delay, negative values = backward/advance. Default 0.0 (offset). zeta_1 Shedding rate (numeric > 0). zeta_2 Shedding rate (numeric > 0; must less zeta_1). kappa Concentration required 50% infection (numeric > 0). decay_days_short Time constant (days) short-term survival V. cholerae environment. Must > 0 < decay_days_long. decay_days_long Time constant (days) long-term survival V. cholerae environment. Must > 0 > decay_days_short. decay_shape_1 First shape parameter beta distribution controlling environmental suitability maps decay rate V. cholerae environment. Must numeric > 0. decay_shape_2 Second shape parameter beta distribution controlling environmental suitability maps decay rate V. cholerae environment. Must numeric > 0. reported_cases Matrix daily reported cholera cases. Must integer. NA allowed. nrow=length(location_name), ncol=length(t). reported_deaths Matrix daily reported cholera deaths. Must integer. NA allowed. nrow=length(location_name), ncol=length(t). sigfigs Integer; number significant figures round numeric values . Default 4.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_LASER_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Configuration File for LASER â€” make_LASER_config","text":"Returns validated list parameters. output_file_path provided, parameters written file format determined file extension.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_LASER_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Configuration File for LASER â€” make_LASER_config","text":"","code":"if (FALSE) { # \\dontrun{ make_LASER_config(      output_file_path = \"parameters.json\",      seed = 123,      date_start = \"2024-12-01\",      date_stop = \"2024-12-31\",      location_name = c(\"Location A\", \"Location B\"),      N_j_initial = c(\"Location A\" = 1000, \"Location B\" = 1000),      S_j_initial = c(\"Location A\" = 900, \"Location B\" = 900),      E_j_initial = c(\"Location A\" = 0, \"Location B\" = 0),      I_j_initial = c(\"Location A\" = 50, \"Location B\" = 50),      R_j_initial = c(\"Location A\" = 50, \"Location B\" = 50),      V1_j_initial = c(\"Location A\" = 0, \"Location B\" = 0),      V2_j_initial = c(\"Location A\" = 0, \"Location B\" = 0),      b_jt = matrix(data = 0.0015, nrow = 2, ncol = 366),      d_jt = matrix(data = 0.001, nrow = 2, ncol = 366),      nu_1_jt = matrix(data = 0, nrow = 2, ncol = 366),      nu_2_jt = matrix(data = 0, nrow = 2, ncol = 366),      phi_1 = 0.8,      phi_2 = 0.85,      omega_1 = 0.1,      omega_2 = 0.12,      iota = 1.4,      gamma_1 = 0.2,      gamma_2 = 0.25,      epsilon = 0.05,      mu_jt = matrix(0.01, nrow = 2, ncol = 31),      rho = 0.9,      sigma = 0.5,      beta_j0_hum = c(0.05, 0.03),      a_1_j = c(0.02, 0.02),      a_2_j = c(0.01, 0.01),      b_1_j = c(0.03, 0.03),      b_2_j = c(0.01, 0.01),      p     = 365,      longitude = c(36.8, 37.0),      latitude = c(-1.3, -1.2),      mobility_omega = 1.0,      mobility_gamma = 2.0,      tau_i = c(0.1, 0.2),      alpha_1 = 0.95,      alpha_2 = 1,      beta_j0_env = c(0.02, 0.04),      theta_j = c(0.6, 0.7),      psi_jt = matrix(data = 0, nrow = 2, ncol = 366),      zeta_1 = 0.5,      zeta_2 = 0.4,      kappa = 10^5,      decay_days_short  = 3,      decay_days_long   = 90,      decay_shape_1     = 1,      decay_shape_2     = 1,      reported_cases    = matrix(NA, nrow=2, ncol=366),      reported_deaths   = matrix(NA, nrow=2, ncol=366) ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Lagged Versions of Data â€” make_lagged_data","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"function generates lagged versions columns given data frame. creates new columns lag, allowing time series data structured way includes previous time steps predictors.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"","code":"make_lagged_data(x, lags)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"x data frame tibble containing variables lagged versions created. lags vector lag values indicating many time steps lag data. example, lags = 1:3 create 1-lagged, 2-lagged, 3-lagged versions variable.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"data frame containing original data lagged versions variables. lagged columns named format <column_name>_lag_<lag>.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"function takes data frame creates new columns lagged versions original columns. number lags specified lags argument. function creates new columns lag value, appending lag number original column names.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_lagged_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Lagged Versions of Data â€” make_lagged_data","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage of create_lagged_data: data <- data.frame(var1 = 1:10, var2 = 11:20) make_lagged_data(data, lags = 1:2) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Template for Parameter Values â€” make_param_df","title":"Get Template for Parameter Values â€” make_param_df","text":"function generates template long-form data frame parameter values, including origin (), destination (j), time (t), used simulate variables sigma.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Template for Parameter Values â€” make_param_df","text":"","code":"make_param_df(   variable_name = NULL,   variable_description = NULL,   parameter_distribution = NULL,   i = NULL,   j = NULL,   t = NULL,   parameter_name = NULL,   parameter_value = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Template for Parameter Values â€” make_param_df","text":"variable_name character string representing name variable (e.g., 'sigma'). variable_description character string describing variable (e.g., 'proportion symptomatic'). parameter_distribution character string representing distribution parameter (e.g., 'beta'). vector representing origin locations. j vector representing destination locations. t vector representing time points. parameter_name character vector parameter names (e.g., shape1, shape2 beta distribution). parameter_value numeric vector parameter values (corresponding parameter names).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Template for Parameter Values â€” make_param_df","text":"data frame containing long-form template parameter values. arguments NULL, empty data frame returned.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Template for Parameter Values â€” make_param_df","text":"","code":"# Example usage for sigma prm <- list(shape1 = 2, shape2 = 5) param_df <- make_param_df(\"sigma\", \"proportion symptomatic\", \"beta\",                           i = \"A\", j = \"B\", t = 1, names(prm), unlist(prm)) print(param_df) #>   variable_name   variable_description parameter_distribution i j t #> 1         sigma proportion symptomatic                   beta A B 1 #> 2         sigma proportion symptomatic                   beta A B 1 #>   parameter_name parameter_value #> 1         shape1               2 #> 2         shape2               5"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_yaml.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","title":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","text":"function generates YAML file MOSAIC model simulation parameters returns parameters list file output specified. validates input parameters ensure meet required constraints MOSAIC simulation framework. YAML file output designed use MOSAIC R package ensures compatibility downstream Python-based tools Light-agent Spatial Model ERadication (LASER) platform.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_yaml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","text":"","code":"make_param_yaml(   output_file_path = NULL,   date_start = NULL,   date_stop = NULL,   location_id = NULL,   location_name = NULL,   N_j_initial = NULL,   S_j_initial = NULL,   I_j_initial = NULL,   R_j_initial = NULL,   b_j = NULL,   d_j = NULL,   nu_jt = NULL,   phi = NULL,   omega = NULL,   epsilon = NULL,   gamma = NULL,   mu = NULL,   rho = NULL,   sigma = NULL,   beta_j0_hum = NULL,   beta_j_seasonality = NULL,   tau_i = NULL,   pi_ij = NULL,   alpha = NULL,   beta_j0_env = NULL,   theta_j = NULL,   psi_jt = NULL,   zeta = NULL,   kappa = NULL,   delta_min = NULL,   delta_max = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_yaml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","text":"output_file_path character string representing full file path output YAML file (e.g., 'path//parameters.yaml'). NULL, file written. date_start Start date simulation period \"YYYY-MM-DD\" format. date_stop End date simulation period \"YYYY-MM-DD\" format. location_id vector integers giving numerical index metapopulations. location_name character vector giving names metapopulation location, matching length location_id. N_j_initial integer vector length location_id gives total initial population size j location. S_j_initial integer vector length location_id gives starting values number susceptible individuals j location. I_j_initial integer vector length location_id gives starting values number infected individuals j location. R_j_initial integer vector length location_id gives starting values number recovered individuals j location. b_j Birth rate population j. Must numeric, non-negative, length location_id. d_j Mortality rate population j. Must numeric, non-negative, length location_id. nu_jt matrix vaccination rates location (j) time step (t). Must rows equal length(location_id) columns equal daily sequence date_start date_stop. phi Effectiveness Oral Cholera Vaccine (OCV). Must numeric within range 0, 1. omega Waning immunity rate vaccinated individuals. Must numeric scalar greater equal zero. epsilon Waning immunity rate recovered individuals. Must numeric scalar greater equal zero. gamma Recovery rate infected individuals. Must numeric scalar greater equal zero. mu Mortality rate due V. cholerae infection. Must numeric scalar greater equal zero. rho Proportion suspected cholera cases true infections. Must numeric scalar 0 1. sigma Proportion symptomatic V. cholerae infections. Must numeric scalar 0 1. beta_j0_hum Baseline human--human transmission rate location. Must numeric vector length equal location_id values greater equal zero. beta_j_seasonality seasonal derivation mean transmission (beta_j0_hum) j location. seasonality term given Z-score indicating number standard deviations away mean rate transmission. Length 365 day year. Values estimated est_seasonal_dynamics() function. tau_i Departure probability origin location. Must numeric vector length equal location_id values 0 1. pi_ij matrix travel probabilities origin destination locations. Must dimensions equal length(location_id) x length(location_id) values 0 1. alpha Population mixing parameter. Must numeric scalar 0 1. beta_j0_env Baseline environment--human transmission rate location. Must numeric vector length equal location_id values greater equal zero. theta_j Proportion population adequate Water, Sanitation, Hygiene (WASH). Must numeric vector length equal location_id values 0 1. psi_jt 2D matrix environmental suitability values V. cholerae. Must rows equal length(location_id) columns equal daily sequence date_start date_stop, values 0 1. zeta Shedding rate V. cholerae environment. Must numeric scalar greater zero. kappa Concentration V. cholerae required 50% infection probability. Must numeric scalar greater zero. delta_min Minimum environmental decay rate V. cholerae. Must numeric scalar greater zero less delta_max (indicating faster decay rate). delta_max Maximum environmental decay rate V. cholerae.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_yaml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","text":"Returns validated list parameters. output_file_path provided, parameters also written YAML file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/make_param_yaml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a YAML File for MOSAIC Model Parameters â€” make_param_yaml","text":"","code":"make_param_yaml(      output_file_path = \"parameters.yaml\",      date_start = \"2024-12-01\",      date_stop = \"2024-12-31\",      location_id = 1:2,      location_name = c(\"Location A\", \"Location B\"),      N_j_initial = as.integer(c(1000, 1000)),      S_j_initial = as.integer(c(999, 999)),      I_j_initial = as.integer(c(1, 1)),      R_j_initial = as.integer(c(0, 0)),      b_j = c(0.01, 0.02),      d_j = c(0.01, 0.02),      nu_jt = matrix(data = 0, nrow = 2, ncol = 31),      phi = 0.8,      omega = 0.1,      epsilon = 0.05,      gamma = 0.2,      mu = 0.01,      rho = 0.9,      sigma = 0.5,      beta_j0_hum = c(0.05, 0.03),      beta_j_seasonality = rep(0, 365),      tau_i = c(0.1, 0.2),      pi_ij = matrix(c(0.8, 0.2, 0.2, 0.8), nrow = 2),      alpha = 0.95,      beta_j0_env = c(0.02, 0.04),      theta_j = c(0.6, 0.7),      psi_jt = matrix(data = 0, nrow = 2, ncol = 31),      zeta = 0.5,      kappa = 10^5,      delta_min = 0.001,      delta_max = 0.01 ) #> Validating parameter values #> Error in make_param_yaml(output_file_path = \"parameters.yaml\", date_start = \"2024-12-01\",     date_stop = \"2024-12-31\", location_id = 1:2, location_name = c(\"Location A\",         \"Location B\"), N_j_initial = as.integer(c(1000, 1000)),     S_j_initial = as.integer(c(999, 999)), I_j_initial = as.integer(c(1,         1)), R_j_initial = as.integer(c(0, 0)), b_j = c(0.01,         0.02), d_j = c(0.01, 0.02), nu_jt = matrix(data = 0,         nrow = 2, ncol = 31), phi = 0.8, omega = 0.1, epsilon = 0.05,     gamma = 0.2, mu = 0.01, rho = 0.9, sigma = 0.5, beta_j0_hum = c(0.05,         0.03), beta_j_seasonality = rep(0, 365), tau_i = c(0.1,         0.2), pi_ij = matrix(c(0.8, 0.2, 0.2, 0.8), nrow = 2),     alpha = 0.95, beta_j0_env = c(0.02, 0.04), theta_j = c(0.6,         0.7), psi_jt = matrix(data = 0, nrow = 2, ncol = 31),     zeta = 0.5, kappa = 10^5, delta_min = 0.001, delta_max = 0.01): date_start must be in the format 'YYYY-MM-DD'. Provided: 2024-12-01"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_control_defaults.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","title":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","text":"Creates complete control structure run_mosaic() run_mosaic_iso(). primary interface configuring MOSAIC execution settings, consolidating calibration strategy, parameter sampling, parallelization, output options. Parameters organized workflow order: calibration: run (simulations, iterations, batch sizes) sampling: sample (parameters vary) likelihood: score model fit (likelihood components weights) targets: stop (ESS convergence thresholds) fine_tuning: Advanced calibration (adaptive batch sizing) npe: Post-calibration stage (neural posterior estimation) parallel: Infrastructure (cores, cluster type) io: Output format (file format, compression) paths: File management (output directories, plots)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_control_defaults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","text":"","code":"mosaic_control_defaults(   calibration = NULL,   sampling = NULL,   likelihood = NULL,   targets = NULL,   fine_tuning = NULL,   npe = NULL,   predictions = NULL,   weights = NULL,   parallel = NULL,   io = NULL,   paths = NULL,   logging = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_control_defaults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","text":"calibration List calibration settings. Default : n_simulations: NULL auto mode, integer fixed mode n_iterations: Number LASER iterations per simulation (default: 3L) max_simulations: Maximum total simulations auto mode (default: 100000L) batch_size: Simulations per batch calibration phase (default: 500L) min_batches: Minimum calibration batches (default: 5L) max_batches: Maximum calibration batches (default: 8L) target_r2: RÂ² target calibration convergence (default: 0.90) sampling List parameter sampling flags (sample). Default : sample_tau_i: Sample transmission rate (default: TRUE) sample_mobility_gamma: Sample mobility gamma (default: TRUE) sample_mobility_omega: Sample mobility omega (default: TRUE) sample_mu_j: Sample recovery rate (default: TRUE) sample_iota: Sample importation rate (default: TRUE) sample_gamma_2: Sample second dose efficacy (default: TRUE) sample_alpha_1: Sample first dose efficacy (default: TRUE) ... (see mosaic_control_defaults() complete list 38 parameters) likelihood List likelihood calculation settings (score model fit). Default : add_max_terms: Add negative binomial time-series likelihood (default: FALSE) add_peak_timing: Add Gaussian peak timing penalty (default: FALSE) add_peak_magnitude: Add log-normal peak magnitude penalty (default: FALSE) add_cumulative_total: Add cumulative total penalty (default: FALSE) add_wis: Add Weighted Interval Score (default: FALSE) weight_cases: Weight cases vs deaths (default: 1.0) weight_deaths: Weight deaths vs cases (default: 1.0) enable_guardrails: Enable sanity checks (default: FALSE) ... (see mosaic_control_defaults() complete list) targets List convergence targets (stop). Default : ESS_param: Target ESS per parameter (default: 500) ESS_param_prop: Proportion parameters meeting ESS (default: 0.95) ESS_best: Target subset size ESS (default: 100). B_size ESS_B must >= ESS_best. A_best: Target agreement index (default: 0.95) CVw_best: Target CV weights (default: 0.5) percentile_min: Minimum percentile best subset search (default: 0.001) percentile_max: Maximum percentile best subset (default: 5.0) ESS_method: ESS calculation method, \"kish\" \"perplexity\" (default: \"kish\") fine_tuning List fine-tuning batch sizes (advanced calibration). Default : batch_sizes: Named list massive, large, standard, precision, final npe List NPE settings (post-calibration stage). Default : enable: Enable NPE training (default: FALSE) weight_strategy: Weight strategy: \"continuous_best\", \"continuous_retained\", \"continuous_all\", \"binary_best\", \"binary_retained\", \"binary_all\" (default: \"continuous_best\") architecture_tier: Architecture size: \"auto\", \"minimal\", \"small\", \"medium\", \"large\", \"xlarge\" (default: \"auto\") n_epochs: Maximum training epochs (default: 1000) batch_size: Training batch size (default: 512) learning_rate: Initial learning rate (default: 1e-3) validation_split: Proportion validation (default: 0.15) early_stopping: Enable early stopping (default: TRUE) patience: Early stopping patience epochs (default: 20) use_gpu: Use GPU available (default: TRUE) seed: Random seed reproducibility (default: 42) n_posterior_samples: Number posterior samples draw (default: 10000) predictions List prediction generation settings. Default : best_model_n_sims: Stochastic runs best model (default: 100L) ensemble_n_param_sets: Number parameter sets ensemble (default: 50L) ensemble_n_sims_per_param: Stochastic runs per parameter set (default: 10L) Total ensemble simulations = ensemble_n_param_sets Ã— ensemble_n_sims_per_param (e.g., 50 Ã— 10 = 500) parallel List parallelization settings (infrastructure). Default : enable: Enable parallel execution (default: FALSE) n_cores: Number cores use (default: 1L) type: Cluster type, \"PSOCK\" \"FORK\" (default: \"PSOCK\") progress: Show progress bar (default: TRUE) io List /O settings (output format). Default : format: Output format, \"parquet\" \"csv\" (default: \"parquet\") compression: Compression algorithm (default: \"zstd\") compression_level: Compression level (default: 3L) paths List path output settings (file management). Default : clean_output: Remove output directory exists (default: FALSE) plots: Generate diagnostic plots (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_control_defaults.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","text":"complete control list suitable passing run_mosaic() run_mosaic_iso().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_control_defaults.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Complete MOSAIC Control Structure â€” mosaic_control_defaults","text":"","code":"# Default control settings ctrl <- mosaic_control_defaults()  # Quick parallel run with 8 cores ctrl <- mosaic_control_defaults(   parallel = list(enable = TRUE, n_cores = 8) )  # Fixed mode with 5000 simulations, 5 iterations each ctrl <- mosaic_control_defaults(   calibration = list(     n_simulations = 5000,     n_iterations = 5   ) )  # Auto mode with custom settings ctrl <- mosaic_control_defaults(   calibration = list(     n_simulations = NULL,  # NULL = auto mode     n_iterations = 3,     max_simulations = 50000,     batch_size = 1000   ),   parallel = list(enable = TRUE, n_cores = 16) )  # Only sample specific parameters ctrl <- mosaic_control_defaults(   sampling = list(     sample_tau_i = TRUE,     sample_mobility_gamma = FALSE,     sample_mobility_omega = FALSE,     sample_mu_j = TRUE,     sample_iota = FALSE,     sample_gamma_2 = FALSE,     sample_alpha_1 = FALSE   ) )  # Enable peak timing and magnitude penalties in likelihood ctrl <- mosaic_control_defaults(   likelihood = list(     add_peak_timing = TRUE,     add_peak_magnitude = TRUE,     weight_peak_timing = 0.5,     weight_peak_magnitude = 0.5   ) )  # Use perplexity method for ESS calculations ctrl <- mosaic_control_defaults(   targets = list(ESS_method = \"perplexity\") )  # Full workflow configuration (demonstrates logical order) ctrl <- mosaic_control_defaults(   calibration = list(n_simulations = NULL, n_iterations = 3),      # How to run   sampling = list(sample_tau_i = TRUE, sample_mu_j = TRUE),        # What to sample   likelihood = list(add_peak_timing = TRUE, weight_cases = 1.0),   # How to score   targets = list(ESS_param = 500, ESS_param_prop = 0.95),          # When to stop   fine_tuning = list(batch_sizes = list(final = 200)),             # Advanced calibration   npe = list(enable = TRUE, weight_strategy = \"best_subset\"),      # Post-calibration   parallel = list(enable = TRUE, n_cores = 16),                    # Infrastructure   io = mosaic_io_presets(\"default\"),                               # Output format   paths = list(clean_output = FALSE, plots = TRUE)                 # File management )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_io_presets.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Pre-configured I/O Settings â€” mosaic_io_presets","title":"Get Pre-configured I/O Settings â€” mosaic_io_presets","text":"Returns pre-configured /O settings common use cases. Choose debug, fast, default, archive presets optimize workflow.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_io_presets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Pre-configured I/O Settings â€” mosaic_io_presets","text":"","code":"mosaic_io_presets(preset = c(\"default\", \"debug\", \"fast\", \"archive\"))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_io_presets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Pre-configured I/O Settings â€” mosaic_io_presets","text":"preset Character. One \"default\", \"debug\", \"fast\", \"archive\"","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_io_presets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Pre-configured I/O Settings â€” mosaic_io_presets","text":"Named list /O settings (format, compression, compression_level)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/mosaic_io_presets.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Pre-configured I/O Settings â€” mosaic_io_presets","text":"Presets: debug: CSV format, compression (easy inspection) fast: Parquet low compression (fastest) default: Parquet medium compression (balanced) archive: Parquet high compression (smallest files)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/pgompertz.html","id":null,"dir":"Reference","previous_headings":"","what":"Gompertz Distribution Cumulative Distribution Function â€” pgompertz","title":"Gompertz Distribution Cumulative Distribution Function â€” pgompertz","text":"Compute cumulative distribution function Gompertz distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/pgompertz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gompertz Distribution Cumulative Distribution Function â€” pgompertz","text":"","code":"pgompertz(q, b, eta, lower.tail = TRUE, log.p = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/pgompertz.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gompertz Distribution Cumulative Distribution Function â€” pgompertz","text":"q Numeric vector. Quantiles evaluate CDF. b Numeric. Shape parameter (b > 0). eta Numeric. Rate parameter (eta > 0). lower.tail Logical. TRUE, return P(X <= q), else P(X > q). log.p Logical. TRUE, return log probability.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/pgompertz.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gompertz Distribution Cumulative Distribution Function â€” pgompertz","text":"Numeric vector probabilities.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plan_batch_strategy.html","id":null,"dir":"Reference","previous_headings":"","what":"Plan Multi-Stage Batch Strategy â€” plan_batch_strategy","title":"Plan Multi-Stage Batch Strategy â€” plan_batch_strategy","text":"Plans multi-stage strategy: calibration -> large predictive batch -> fine-tuning","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plan_batch_strategy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plan Multi-Stage Batch Strategy â€” plan_batch_strategy","text":"","code":"plan_batch_strategy(   current_ess,   target_ess,   ess_history = NULL,   stage = \"calibration\",   calibration_size = 2000,   calibration_batch = 500 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plan_batch_strategy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plan Multi-Stage Batch Strategy â€” plan_batch_strategy","text":"current_ess Current minimum ESS target_ess Target ESS ess_history ESS history calibration stage Current stage (\"calibration\", \"prediction\", \"fine_tuning\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plan_batch_strategy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plan Multi-Stage Batch Strategy â€” plan_batch_strategy","text":"Recommended batch size stage info","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_by_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","title":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","text":"function creates two separate plots: one case fatality ratios (CFR) confidence intervals total cases country, another Beta distributions selected countries. plots generated based cholera data stored PATHS$DATA_WHO_ANNUAL directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_by_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","text":"","code":"plot_CFR_by_country(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_by_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","text":"PATHS list containing paths cholera data figures saved. Typically generated get_paths() function include: DATA_WHO_ANNUAL: Path directory processed annual cholera data located. DOCS_FIGURES: Path directory plots saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_by_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","text":"list containing two ggplot objects: one CFR total cases, one Beta distributions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_by_country.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Case Fatality Ratios, Total Cases, and Beta Distributions by Country â€” plot_CFR_by_country","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() plot_CFR_by_country(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"Creates professional visualizations hierarchical GAM CFR model results including observed data points modeled time series predictions. Generates 8.5x11 inch PDF faceted plots showing country-specific CFR trends time.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"","code":"plot_CFR_hierarchical(   PATHS,   countries_to_plot = NULL,   pdf_width = 8.5,   pdf_height = 11,   ncol_facet = 4,   show_ci = TRUE,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"PATHS List containing paths data directories, typically get_paths() countries_to_plot Character vector ISO codes plot. NULL, plots top 20 countries data availability pdf_width Numeric, width PDF inches (default 8.5) pdf_height Numeric, height PDF inches (default 11) ncol_facet Integer, number columns facet wrap (default 4) show_ci Logical, whether show confidence intervals (default TRUE) verbose Logical, whether print progress messages (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"Invisibly returns list ggplot objects. Saves PDF DOCS_FIGURES directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"function creates multi-page PDF containing: Page 1: Overview plot temporal trend data summary Following pages: Faceted plots country-specific CFR trends panel shows observed CFR (points) model predictions (lines CI) Color coding indicates data quality model fit","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_CFR_hierarchical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Hierarchical CFR Model Results â€” plot_CFR_hierarchical","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() # First run the model est_CFR_hierarchical(PATHS) # Then create plots plot_CFR_hierarchical(PATHS)  # Plot specific countries plot_CFR_hierarchical(PATHS,    countries_to_plot = c(\"COD\", \"NGA\", \"KEN\", \"MOZ\", \"ETH\", \"ZWE\")) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot ENSO and DMI Data â€” plot_ENSO_data","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"function creates facet plot visualize ENSO DMI data time, separate panels variable (DMI, ENSO3, ENSO34, ENSO4). horizontal line zero included indicate neutral value, vertical line marks current date, date displayed vertically left side line.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"","code":"plot_ENSO_data(PATHS, frequency)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"PATHS list containing paths ENSO DMI data stored output figures saved. Typically generated get_paths() function include: DATA_ENSO: Path directory containing compiled ENSO DMI data. DOCS_FIGURES: Path directory output figure saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"ggplot facet plot showing time series DMI, ENSO3, ENSO34, ENSO4 time. plot includes: horizontal solid line zero indicate neutral sea surface temperature anomaly. vertical dashed line indicate current date, current date displayed vertical text. Facets variable, allowing easy comparison DMI ENSO regions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"function uses ggplot2 create line plot facets variable (DMI, ENSO3, ENSO34, ENSO4). adds horizontal reference line zero vertical line representing current date. current date displayed vertical text aligned left vertical line. data expected date, variable, value format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_ENSO_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot ENSO and DMI Data â€” plot_ENSO_data","text":"","code":"if (FALSE) { # \\dontrun{ # Load the ENSO and DMI data and plot it PATHS <- get_paths() plot_ENSO_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"function creates plots based vaccination request data, displaying raw redistributed doses, highlighting proportion population vaccinated country. produces two types plots: (1) faceted plot showing cumulative vaccination data countries, (2) detailed plot zooming specific country selected date range.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"","code":"plot_WHO_vaccination_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"PATHS list file paths, include following elements: MODEL_INPUT path folder containing processed vaccination data (data_vaccinations.csv). DOCS_FIGURES path folder plot images saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"function returns R object saves two PNG files: faceted plot vaccination data across countries saved \"vaccination_by_country.png\". zoomed-plot selected country saved \"vaccination_example_<iso_code>.png\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"function performs following steps: Loads processed vaccination data CSV file. Extracts last cumulative value country, displaying maximum proportion population vaccinated. Creates faceted plot showing raw doses shipped redistributed doses time, country, independent y-axes. Saves faceted plot PNG file specified folder. Creates zoomed-plot specific country date range, adding text labels highlight important milestones. Saves zoomed-plot PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot WHO Vaccination Data â€” plot_WHO_vaccination_data","text":"","code":"if (FALSE) { PATHS <- list(   MODEL_INPUT = \"path/to/input/data\",   DOCS_FIGURES = \"path/to/save/figures\" ) plot_WHO_vaccination_data(PATHS) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"Generates choropleth maps corresponding bar plots visualize -ICG OCV vaccination data across African countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"","code":"plot_WHO_vaccination_maps(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"PATHS named list containing file paths required input output operations. include: MODEL_INPUT Directory path input CSV file data_vaccinations.csv located. DOCS_FIGURES Directory path generated plots saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"function return value. generates saves PNG file containing vaccination maps barplots annotations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"function performs following steps: Data Loading Processing: Reads vaccination data CSV file, converts date column Date objects, extracts latest cumulative doses distributed corresponding vaccination proportions country. Map Data Retrieval: Obtains map data African countries using rnaturalearth package. Data Merging: Merges vaccination data map data, identifying Sub-Saharan African countries based ISO codes provided MOSAIC::iso_codes_ssa dataset. Color Scale Definition: Defines distinct color scales cumulative doses distributed (green gradient) proportion vaccinated (purple gradient), including appropriate breaks labels. Choropleth Map Creation: Creates two choropleth mapsâ€”one cumulative doses distributed another proportion vaccinatedâ€”using ggplot2 layering map data accordingly. Barplot Generation: Constructs barplots metric, ordering countries descending values applying corresponding color scales. Plot Arrangement: Utilizes patchwork cowplot packages arrange maps barplots structured grid panel labels \"\" \"B\" adds footnote. Saving Plot: Saves final combined plot PNG file specified DOCS_FIGURES directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_WHO_vaccination_maps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot WHO Vaccination Maps â€” plot_WHO_vaccination_maps","text":"","code":"if (FALSE) { # Define the PATHS list with appropriate directories PATHS <- list(   MODEL_INPUT = \"path/to/model/input\",   DOCS_FIGURES = \"path/to/docs/figures\" )  # Call the function to generate and save the vaccination maps plot_WHO_vaccination_maps(PATHS) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"function creates map Africa highlighting countries Sub-Saharan Africa cholera outbreaks past 5 10 years. map saved PNG file specified PATHS$DOCS_FIGURES directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"","code":"plot_africa_map(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"PATHS list containing paths figure saved. Typically generated get_paths() function include: DOCS_FIGURES: Path directory map image saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"ggplot object showing map.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"function generates map Africa, highlighting Sub-Saharan African countries cholera outbreaks past 5 10 years. map saved PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_africa_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Africa Map with Cholera Outbreak Countries â€” plot_africa_map","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths() plot_africa_map(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"function creates visualization showing cholera case counts time shaded regions indicating periods identified environmentally suitable cholera transmission. environmental suitability determined using sophisticated temporal logic considers outbreak periods also lead-weeks conditions become favorable.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"","code":"plot_cases_binary(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"PATHS list containing paths data stored. Must include: DATA_CHOLERA_WEEKLY: Path combined weekly cholera surveillance data (+JHU+SUPP) DOCS_FIGURES: Path generated plot saved","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"Invisibly returns ggplot object displaying saving .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"function performs following steps: Loads processed suitability data containing pre-computed cases_binary indicators Uses existing binary environmental suitability indicators main pipeline Generates multi-panel plot showing case counts bars shaded regions indicating environmentally suitable periods Saves plot PNG file figures directory shaded regions represent periods identified environmentally suitable process_suitability_data() pipeline, including outbreak periods lead-weeks conditions become favorable.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cases_binary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Binary Environmental Suitability Indicator with Case Data â€” plot_cases_binary","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() plot_cases_binary(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cholera_surveillance_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","title":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","text":"function generates two-panel plot visualizes daily cholera cases deaths specific country, based combined downscaled surveillance data , JHU, SUPP. top panel shows reported cholera cases bottom panel shows reported cholera deaths. panels use log-transformation (log(count + 1)) labeling y-axis raw counts. Daily data bars colored original source (, JHU, SUPP), weekly observations shown discrete points without connecting lines.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cholera_surveillance_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","text":"","code":"plot_cholera_surveillance_data(PATHS, iso)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cholera_surveillance_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","text":"PATHS named list file paths. Required elements include: DATA_CHOLERA_WEEKLY - Directory containing combined weekly data file \"cholera_surveillance_weekly_combined.csv\". DATA_CHOLERA_DAILY - Directory containing combined daily data file \"cholera_surveillance_daily_combined.csv\". DOCS_FIGURES - Directory output PNG file saved. iso character string representing ISO code target country (e.g., \"ETH\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cholera_surveillance_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","text":"Invisibly returns NULL. function produces combined two-panel plot, printed active graphics device saved PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_cholera_surveillance_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Combined Cholera Surveillance Data â€” plot_cholera_surveillance_data","text":"function reads input CSV files directories specified PATHS saves resulting combined plot PNG file directory specified PATHS$DOCS_FIGURES.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_climate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Weekly Climate Data for a Given Country and Save to File â€” plot_climate_data","title":"Plot Weekly Climate Data for a Given Country and Save to File â€” plot_climate_data","text":"function loads weekly climate data Parquet file specified country ISO code plots faceted plot showing available climate variables time. vertical line indicates present day, plot saved DOCS_FIGURES directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_climate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Weekly Climate Data for a Given Country and Save to File â€” plot_climate_data","text":"","code":"plot_climate_data(PATHS, country_iso_code)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_climate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Weekly Climate Data for a Given Country and Save to File â€” plot_climate_data","text":"PATHS list containing paths climate data stored. Typically generated get_paths() function include: DATA_CLIMATE: Path directory processed climate data stored. DOCS_FIGURES: Path directory output figures saved. country_iso_code character string representing ISO3 code country plot climate data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_climate_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Weekly Climate Data for a Given Country and Save to File â€” plot_climate_data","text":"function return value generates saves faceted plot weekly climate data specified country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"function generates two-panel plot visualizes daily cholera cases deaths specific country, based downscaled weekly daily data. top panel shows reported cholera cases bottom panel shows reported cholera deaths. panels use log-transformation (log(cases + 1) log(deaths + 1) scale) y-axis labeled raw counts. Data specified country filtered ISO code, function converts ISO code country name using MOSAIC::convert_iso_to_country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"","code":"plot_downscaled_cholera_data(PATHS, iso)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"PATHS named list file paths. Required elements include: DATA_WHO_WEEKLY - Directory containing weekly data file \"cholera_country_weekly_processed.csv\". DATA_WHO_DAILY - Directory containing daily data file \"cholera_country_daily_processed.csv\". DOCS_FIGURES - Directory output PNG file saved. iso character string representing ISO code target country (e.g., \"ETH\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"Invisibly returns NULL. function produces combined two-panel plot, printed active graphics device saved PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"function reads input CSV files directories specified PATHS saves resulting combined plot PNG file directory specified PATHS$DOCS_FIGURES. function performs following steps: Reads weekly daily CSV files converts date strings Date objects. Filters data target country using ISO code. Separates valid missing daily entries cases deaths. Constructs two ggplot2 objects: one cases (upper panel) one deaths (lower panel), applying log-transformation custom y-axis breaks labels. Combines two panels vertically using patchwork package saves plot PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_downscaled_cholera_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Downscaled Cholera Data â€” plot_downscaled_cholera_data","text":"","code":"if (FALSE) {   PATHS <- list(     DATA_WHO_WEEKLY = \"path/to/weekly/data\",     DATA_WHO_DAILY = \"path/to/daily/data\",     DOCS_FIGURES = \"path/to/output/figures\"   )   # Plot data for Ethiopia (ISO code \"ETH\")   plot_downscaled_cholera_data(PATHS, iso = \"ETH\") }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_effective_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Effective Range Function â€” plot_effective_range","title":"Plot Effective Range Function â€” plot_effective_range","text":"Visualizes relationship top percentile effective AIC range","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_effective_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Effective Range Function â€” plot_effective_range","text":"","code":"plot_effective_range(percentiles = seq(0.5, 30, by = 0.5))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_effective_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Effective Range Function â€” plot_effective_range","text":"percentiles Numeric vector percentiles evaluate (default: 0.5 30)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_effective_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Effective Range Function â€” plot_effective_range","text":"plot showing effective AIC range function percentile","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_effective_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Effective Range Function â€” plot_effective_range","text":"","code":"if (FALSE) { # \\dontrun{ plot_effective_range() plot_effective_range(percentiles = seq(1, 20, by = 1)) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_epidemic_peaks.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","title":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","text":"function loads epidemic peak detection results creates multi-page PDF time series plots showing cases identified peaks location.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_epidemic_peaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","text":"","code":"plot_epidemic_peaks(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_epidemic_peaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","text":"PATHS List paths generated get_paths() containing required data locations","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_epidemic_peaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","text":"NULL (creates PDF file side effect)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_epidemic_peaks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Epidemic Peaks from Detection Results â€” plot_epidemic_peaks","text":"","code":"if (FALSE) { # \\dontrun{ # Set up paths and create visualization set_root_directory(\"~/MOSAIC\") PATHS <- get_paths()  # Run peak detection first est_epidemic_peaks(PATHS, method = 'algorithm')  # Create visualization PDF plot_epidemic_peaks(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_generation_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Generation Time as Gamma Distribution for Days and Weeks â€” plot_generation_time","title":"Plot Generation Time as Gamma Distribution for Days and Weeks â€” plot_generation_time","text":"function generates combined plot generation time probability distribution days (based gamma distribution) aggregated weeks. resulting plot saved PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_generation_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Generation Time as Gamma Distribution for Days and Weeks â€” plot_generation_time","text":"","code":"plot_generation_time(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_generation_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Generation Time as Gamma Distribution for Days and Weeks â€” plot_generation_time","text":"PATHS list containing paths plot saved. Typically generated get_paths() function include: DOCS_FIGURES: Path directory generation time plot saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mobility.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Mobility Data, Mobility Network, and Results â€” plot_mobility","title":"Plot Mobility Data, Mobility Network, and Results â€” plot_mobility","text":"function loads visualizes mobility data, including flight data, travel probabilities, diffusion model estimates, mobility network.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mobility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Mobility Data, Mobility Network, and Results â€” plot_mobility","text":"","code":"plot_mobility(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mobility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Mobility Data, Mobility Network, and Results â€” plot_mobility","text":"PATHS list containing paths data, models, figures stored. Typically generated get_paths() function include: MODEL_INPUT: Path directory mobility matrices parameter estimates saved. DATA_SHAPEFILES: Path directory containing shapefiles African countries. DOCS_FIGURES: Path directory figures saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mobility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Mobility Data, Mobility Network, and Results â€” plot_mobility","text":"function generates saves mobility-related visualizations PNG files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"Creates comprehensive diagnostic plot reading convergence results files written calc_model_convergence(). Visualizes log-likelihood rankings best model highlighted displays convergence metrics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"","code":"plot_model_convergence(results_dir, plots_dir = NULL, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"results_dir Character string specifying directory containing convergence_results.parquet convergence_diagnostics.json files. plots_dir Character string specifying directory plot saved. NULL, defaults ../plots/ relative results_dir. verbose Logical indicating whether print messages. Default TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"Invisibly returns ggplot object.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"function creates publication-quality diagnostic plot showing: Ranked log-likelihood curve best model highlighted Convergence diagnostics displayed plot subtitle/caption Clear indication model ensemble agreement metrics function reads two files: convergence_results.parquet â€” Per-simulation data convergence_diagnostics.json â€” Aggregate metrics descriptions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"important-note","dir":"Reference","previous_headings":"","what":"Important Note","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"visualizes model-weight agreement diagnostics, MCMC convergence. \"convergence\" refers agreement across parameter draws, chain convergence. MCMC diagnostics, use trace plots, R-hat, etc.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Model Convergence Diagnostics from Files â€” plot_model_convergence","text":"","code":"if (FALSE) { # \\dontrun{ # First calculate convergence (writes files) calc_model_convergence(   PATHS = get_paths(),   results = my_results,   output_dir = \"path/to/results\" )  # Then create plot from files plot <- plot_model_convergence(   results_dir = \"path/to/results\",   plots_dir = \"path/to/plots\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot model convergence status table â€” plot_model_convergence_status","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"Creates visual status table showing convergence diagnostics color-coded pass/warn/fail indicators metric. Works likelihood-based loss-based calibration methods auto-detecting appropriate diagnostics file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"","code":"plot_model_convergence_status(results_dir, plots_dir = NULL, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"results_dir Path results directory containing convergence diagnostics (expects either \"convergence_diagnostics.json\" \"convergence_diagnostics_loss.json\") plots_dir Path plots directory (default: \"../plots\" relative results_dir) verbose Logical indicating whether print messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"Invisible NULL. Creates PDF file convergence status table.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"function automatically detects whether use likelihood-based loss-based diagnostics checking presence diagnostics files order: convergence_diagnostics.json (likelihood-based, e.g., calibration_test_10.R) convergence_diagnostics_loss.json (loss-based, older methods)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_convergence_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot model convergence status table â€” plot_model_convergence_status","text":"","code":"if (FALSE) { # \\dontrun{ # Works with likelihood-based calibration (calibration_test_10.R) plot_model_convergence_status(   results_dir = \"./local/calibration/calibration_test_10/results\" )  # Also works with loss-based calibration (older methods) plot_model_convergence_status(   results_dir = \"./local/calibration/calibration_test_9/results\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_distributions.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","title":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","text":"Creates visualizations comparing parameter distributions across multiple methods (e.g., priors, BFRS posteriors, NPE posteriors) using flexible vector-based interface. Parameters organized biological category ordered consistently across plots.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_distributions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","text":"","code":"plot_model_distributions(   json_files,   method_names,   output_dir,   custom_colors = NULL,   verbose = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_distributions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","text":"json_files Vector paths JSON distribution files method_names Vector method names corresponding JSON file (legends colors) output_dir Directory save generated plots custom_colors Optional named vector colors method (e.g., c(\"Prior\" = \"#4a4a4a\", \"BFRS\" = \"#1f77b4\", \"NPE\" = \"#d00000\"))","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_distributions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","text":"Invisibly returns list generated plot objects","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_distributions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Multi-Method Parameter Distributions â€” plot_model_distributions","text":"","code":"if (FALSE) { # \\dontrun{ # Compare three methods plot_model_distributions(   json_files = c(\"priors.json\", \"posteriors_bfrs.json\", \"posterior/posteriors.json\"),   method_names = c(\"Prior\", \"BFRS\", \"NPE\"),   output_dir = \"plots\" )  # Compare just prior and NPE plot_model_distributions(   json_files = c(\"priors.json\", \"posterior/posteriors.json\"),   method_names = c(\"Prior\", \"NPE\"),   output_dir = \"plots\" )  # Use custom colors (MOSAIC defaults shown) plot_model_distributions(   json_files = c(\"priors.json\", \"posteriors_bfrs.json\", \"posterior/posteriors.json\"),   method_names = c(\"Prior\", \"BFRS\", \"NPE\"),   output_dir = \"plots\",   custom_colors = c(     \"Prior\" = \"#4a4a4a\",  # Dark gray     \"BFRS\" = \"#1f77b4\",   # Blue     \"NPE\" = \"#d00000\"     # Red   ) ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"Creates timeseries plots comparing model predictions observed data laser-cholera model run.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"","code":"plot_model_fit(   model,   output_dir,   verbose = TRUE,   precalculated_likelihood = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"model laser-cholera Model object (class 'laser_cholera.metapop.model.Model') output lc$run_model(paramfile = config). Must contain: results$expected_cases - predicted cases results$disease_deaths - predicted deaths params$reported_cases - observed cases params$reported_deaths - observed deaths params$location_name - location identifiers params$date_start params$date_stop - time range plot params$seed - seed used model run (optional, display) output_dir Character string specifying directory plot saved. Directory created exist. verbose Logical indicating whether print messages. Default TRUE. precalculated_likelihood Numeric value precalculated likelihood use plot titles instead recalculating. NULL, likelihood calculated using calc_model_likelihood. Default NULL.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"Invisibly returns list ggplot objects: individual: Named list plots location cases_faceted: Faceted plot cases location (n_locations > 1) deaths_faceted: Faceted plot deaths location (n_locations > 1)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"function creates three types publication-quality timeseries plots: Individual location plots: location, plot cases deaths rows Cases faceted plot: locations' cases one faceted plot (skipped 1 location) Deaths faceted plot: locations' deaths one faceted plot (skipped 1 location) plot shows: Observed data black points Predicted data colored lines (blue cases, dark red deaths) Automatic scaling layout based number locations Model performance statistics subtitle caption: Seed value (model$params$seed available) Log-likelihood (calculated using calc_model_likelihood) Total observed predicted counts Correlation observed predicted values","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Model Fit: Timeseries of Predicted vs Observed â€” plot_model_fit","text":"","code":"if (FALSE) { # \\dontrun{ # Run a model config <- sample_parameters(priors = priors, config = base_config, seed = 123) model <- lc$run_model(paramfile = config)  # Create timeseries plots plots <- plot_model_fit(     model = model,     output_dir = \"output/plots\" )  # Access individual plots plots$individual[[\"ETH\"]]  # Individual location plot for Ethiopia plots$cases_faceted         # Faceted cases plot (if n_locations > 1) plots$deaths_faceted        # Faceted deaths plot (if n_locations > 1) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"Runs multiple stochastic simulations model configuration creates timeseries plots showing mean predictions confidence envelopes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"","code":"plot_model_fit_stochastic(   config,   n_simulations = 100,   output_dir,   envelope_quantiles = c(0.1, 0.9),   save_predictions = FALSE,   parallel = FALSE,   n_cores = NULL,   root_dir = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"config configuration list/object produced sample_parameters(). Must contain necessary parameters running laser_cholera model including: reported_cases - observed cases data reported_deaths - observed deaths data location_name - location identifiers date_start date_stop - time range plot n_simulations Integer specifying number stochastic simulations run. Default 100. output_dir Character string specifying directory plots saved. Directory created exist. envelope_quantiles Numeric vector length 2 specifying quantiles confidence envelope. Default c(0.1, 0.9) 80% CI. save_predictions Logical indicating whether save prediction data CSV files. Default FALSE. TRUE, saves predictions_stochastic_location.csv location. parallel Logical indicating whether use parallel computation. Default FALSE. TRUE, simulations run parallel across multiple cores. n_cores Integer specifying number cores use parallel computation. Default NULL (uses detectCores() - 1). used parallel = TRUE. root_dir Character string specifying root directory MOSAIC project. Required parallel = TRUE. Workers need initialize PATHS correctly. verbose Logical indicating whether print progress messages. Default TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"Invisibly returns list containing: individual: Named list plots location cases_faceted: Faceted plot cases location (n_locations > 1) deaths_faceted: Faceted plot deaths location (n_locations > 1) simulation_stats: Statistics simulations including successful run count aggregated predictions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"function performs multiple stochastic runs laser-cholera model identical configuration different random seeds. aggregates results show: Mean predictions across simulations Confidence envelopes based specified quantiles Observed data comparison Summary statistics (total counts, correlations) Unlike plot_model_fit(), function calculate display likelihood values, focusing instead prediction uncertainty stochastic simulation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes â€” plot_model_fit_stochastic","text":"","code":"if (FALSE) { # \\dontrun{ # Sample parameters for best model best_config <- sample_parameters(PATHS, priors = priors,                                  config = base_config, seed = 123)  # Create stochastic plots with 100 simulations plots <- plot_model_fit_stochastic(     config = best_config,     n_simulations = 100,     output_dir = \"output/plots\",     envelope_quantiles = c(0.1, 0.9),     save_predictions = TRUE  # Save predictions to CSV ) # Saves: predictions_stochastic_ETH.csv (or other location names)  # Access individual plots plots$individual[[\"ETH\"]]  # Individual location plot for Ethiopia } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"Runs multiple simulations parameter uncertainty (different parameter sets) stochastic uncertainty (different random seeds) create timeseries plots showing median predictions comprehensive uncertainty envelopes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"","code":"plot_model_fit_stochastic_param(   configs = NULL,   config = NULL,   parameter_seeds = NULL,   parameter_weights = NULL,   n_simulations_per_config = 30,   PATHS = NULL,   priors = NULL,   sampling_args = list(),   output_dir,   envelope_quantiles = c(0.025, 0.25, 0.75, 0.975),   save_predictions = FALSE,   parallel = FALSE,   n_cores = NULL,   root_dir = NULL,   verbose = TRUE,   plot_decomposed = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"configs List pre-sampled configuration objects. provided, configurations used directly. Must list valid config objects. config Base configuration object internal parameter sampling. Required configs NULL parameter_seeds provided. parameter_seeds Numeric vector seeds parameter sampling. seed generate different parameter set using sample_parameters(). Required configs NULL. parameter_weights Numeric vector weights parameter set, length configs parameter_seeds. Weights used calculating median quantiles across parameter sets. NULL, parameter sets weighted equally. Weights automatically normalized sum 1. n_simulations_per_config Integer specifying number stochastic simulations run parameter configuration. Default 30. PATHS List paths returned get_paths(). Required using parameter_seeds internal sampling. priors Priors object parameter sampling. Required using parameter_seeds internal sampling. sampling_args Named list additional arguments pass sample_parameters(). example: list(sample_tau_i = FALSE, sample_mobility_gamma = FALSE). Default empty list. output_dir Character string specifying directory plots saved. Directory created exist. envelope_quantiles Numeric vector specifying quantiles confidence intervals. Default c(0.025, 0.25, 0.75, 0.975) 50% 95% CIs. Must even number elements form pairs (lower, upper) bounds. save_predictions Logical indicating whether save prediction data CSV files. Default FALSE. TRUE, saves predictions_ensemble_location.csv location. parallel Logical indicating whether use parallel computation. Default FALSE. TRUE, simulations run parallel across multiple cores. n_cores Integer specifying number cores use parallel computation. Default NULL (uses detectCores() - 1). used parallel = TRUE. root_dir Character string specifying root directory MOSAIC project. Required parallel = TRUE. Workers need initialize PATHS correctly. verbose Logical indicating whether print progress messages. Default TRUE. plot_decomposed Logical indicating whether create additional plots showing decomposed uncertainty. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"Invisibly returns list containing: individual: Named list plots location cases_faceted: Faceted plot cases location (n_locations > 1) deaths_faceted: Faceted plot deaths location (n_locations > 1) simulation_stats: Detailed statistics simulations param_configs: List parameter configurations used","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"function handles two types uncertainty: Parameter uncertainty: Different parameter sets calibration Stochastic uncertainty: Random variation within parameter set function can operate two modes: Direct mode: Provide pre-sampled configs via configs parameter Sampling mode: Provide config + parameter_seeds internal sampling total number simulations = length(configs) Ã— n_simulations_per_config","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_fit_stochastic_param.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Stochastic Model Fit with Parameter and Stochastic Uncertainty â€” plot_model_fit_stochastic_param","text":"","code":"if (FALSE) { # \\dontrun{ # Mode 1: Using pre-sampled configurations configs <- list(config1, config2, config3) plots <- plot_model_fit_stochastic_param(     configs = configs,     n_simulations_per_config = 20,     output_dir = \"output/plots\",     save_predictions = TRUE )  # Mode 2: Using parameter seeds (typical calibration workflow) best_seeds <- c(123, 456, 789)  # Top seeds from calibration plots <- plot_model_fit_stochastic_param(     config = base_config,     parameter_seeds = best_seeds,     n_simulations_per_config = 20,     PATHS = PATHS,     priors = priors,     sampling_args = list(sample_tau_i = FALSE),     output_dir = \"output/plots\",     save_predictions = TRUE  # Save predictions to CSV ) # Saves: predictions_ensemble_ETH.csv (or other location names) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Model Likelihood Curve â€” plot_model_likelihood","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"Creates sorted likelihood curve plot showing performance calibration simulations. plot displays simulations sorted log-likelihood values, best simulation highlighted.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"","code":"plot_model_likelihood(results, output_dir, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"results data frame containing calibration results minimum 'likelihood' column, optionally 'sim' 'iter' columns identifying individual simulations. typically output model calibration run. output_dir Character string specifying directory plot saved. Directory created exist. verbose Logical indicating whether print messages. Default TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"Invisibly returns ggplot object likelihood curve.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"function creates publication-quality plot showing: simulations sorted log-likelihood (x-axis: simulation index, y-axis: log-likelihood) smooth line connecting points show curve Individual points simulation best simulation highlighted red point horizontal dotted line maximum likelihood value plot helps visualize: overall calibration performance distribution likelihood values many simulations achieved good fits Whether clear optimum multiple good solutions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_likelihood.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Model Likelihood Curve â€” plot_model_likelihood","text":"","code":"if (FALSE) { # \\dontrun{ # Run calibration and collect results results <- run_calibration()  # Create likelihood curve plot p_likelihood <- plot_model_likelihood(     results = results,     output_dir = \"calibration_output\" )  # The plot is automatically saved, but you can also access it print(p_likelihood) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"Creates faceted plots showing relationship model parameters likelihood values calibration results. Generates separate plots global location-specific parameters.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"","code":"plot_model_parameters(results, output_dir, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"results data frame containing calibration results columns parameters, likelihood values, simulation identifiers (sim, iter, seed). typically output model calibration run. function automatically infer number simulations iterations data. output_dir Character string specifying directory plots saved. Directory created exist. verbose Logical indicating whether print messages. Default TRUE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"Invisibly returns list containing plot objects: global: ggplot object global parameters location: Named list ggplot objects location","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"function creates publication-quality faceted plots showing parameter relates model likelihood. Points colored density, LOESS smooth curve showing trend. best parameter value (highest likelihood) highlighted red point. function automatically: Separates global location-specific parameters Categorizes parameters type (epidemiological, environmental, etc.) Creates separate plots location found data Saves plots PDF files specified output directory","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_parameters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Model Parameters vs Likelihood â€” plot_model_parameters","text":"","code":"if (FALSE) { # \\dontrun{ # Run calibration and collect results results <- run_calibration()  # Create plots (automatically infers n_sim and n_iter from results) plots <- plot_model_parameters(results, output_dir = \"calibration_output\")  # Access individual plots print(plots$global) print(plots$location[[\"ETH\"]]) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"Creates visualizations posterior parameter quantiles calibration NPE results. Generates global parameter plots location-specific parameter plots. Supports comparison multiple posterior sources.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"","code":"plot_model_posterior_quantiles(   csv_files,   output_dir = \"./figures\",   plot_types = \"both\",   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"csv_files Character vector paths posterior_quantiles.csv files calc_model_posterior_quantiles(), estimate_parameters_npe(), estimate_parameters_lampe() output_dir Directory save plots (default: \"./figures\") plot_types Character vector specifying plot types create (\"global\", \"location\", \"\"). Default: \"\" verbose Logical, whether print progress messages (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"List ggplot objects (invisibly)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"function creates: Caterpillar plots showing median credible intervals estimation type Separate plots global location-specific parameters Color-coded visualization estimation type (automatically detected): Prior samples (dark grey) Calibration posterior (blue) NPE estimates (red/orange) Lampe estimates (bright red) types (automatically assigned color palette) Supports comparison number estimation types Dynamically adapts whatever types present data Expects standardized CSV format consistent column names Saves plots PNG files output directory","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posterior_quantiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Model Posterior Quantiles â€” plot_model_posterior_quantiles","text":"","code":"if (FALSE) { # \\dontrun{ # Single posterior file plot_model_posterior_quantiles(\"posterior_quantiles.csv\")  # Compare multiple sources plot_model_posterior_quantiles(   csv_files = c(\"bfrs_quantiles.csv\", \"npe_quantiles.csv\"),   output_dir = \"./comparison_plots\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posteriors_detail.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","title":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","text":"Creates detailed multi-panel visualizations showing progression prior posterior distributions retained best subsets, ESS KL metrics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posteriors_detail.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","text":"","code":"plot_model_posteriors_detail(   quantiles_file,   results_file,   priors_file,   posteriors_file = NULL,   diagnostics_file = NULL,   output_dir = \"./results/plots\",   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posteriors_detail.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","text":"quantiles_file Path posterior_quantiles.csv file calc_model_posterior_quantiles results_file Path simulations.parquet file containing simulation results priors_file Path priors.json file posteriors_file Path posteriors.json file (optional, theoretical distributions) diagnostics_file Path convergence_diagnostics.json file (optional, ESS values) output_dir Directory save plots (default: \"./results/plots\") verbose Logical; print progress messages (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posteriors_detail.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","text":"List plot filenames created (invisible)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_posteriors_detail.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Detailed Prior to Posterior Distributions â€” plot_model_posteriors_detail","text":"","code":"if (FALSE) { # \\dontrun{ plot_model_posteriors(   quantiles_file = \"./results/posterior_quantiles.csv\",   results_file = \"./results/simulations.parquet\",   priors_file = \"./priors.json\",   posteriors_file = \"./results/posteriors.json\",   output_dir = \"./results/plots\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"Creates professional posterior predictive check (PPC) plots assess model fit using CSV files stochastic/ensemble predictions. Generates three types diagnostic plots: density overlays, Q-Q plots, residual analysis.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"","code":"plot_model_ppc(   predictions_dir = NULL,   predictions_files = NULL,   locations = NULL,   model = NULL,   output_dir,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"predictions_dir Character string specifying directory containing prediction CSV files. Function auto-discover predictions_ensemble_.csv predictions_stochastic_.csv files. predictions_files Character vector specific CSV file paths use. Overrides predictions_dir provided. locations Character vector specific locations plot. NULL (default) uses locations. model Legacy: laser-cholera Model object (backward compatibility). recommended - use CSV-based inputs instead. output_dir Directory PPC plots saved. Creates \"ppc\" subdirectory. verbose Logical indicating whether print progress messages (default: TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"NULL (invisibly). Creates PDF files side effects.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"Creates multi-page PDF PPC diagnostics: density overlays, calibration scatter plots, Q-Q plots, residuals vs observed, temporal patterns. Output files: ppc.pdf - Aggregate diagnostics (locations combined) ppc_ISO.pdf - Per-location diagnostics (e.g., ppc_ETH.pdf, ppc_KEN.pdf) function always creates aggregate per-location plots multiple locations present data. function uses ensemble predictions (median/mean) CSV files generated plot_model_fit_stochastic() plot_model_fit_stochastic_param(). provides better assessment single model realizations. Color palette (Scientific Blue-Red): Observed data: #2E86AB (Professional blue) Predicted data: #A23B72 (Professional purple-red) Reference lines: #F18F01 (Orange) Smoothing curves: #C73E1D (Red-orange) Outlier highlights: #DC3545 (Alert red) Grid: #F5F5F5 (Light gray)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_model_ppc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Posterior Predictive Checks from Ensemble Predictions â€” plot_model_ppc","text":"","code":"if (FALSE) { # \\dontrun{ # From predictions directory (auto-discovers CSV files) # Creates both aggregate and per-location plots plot_model_ppc(   predictions_dir = \"output/1_bfrs/plots/predictions\",   output_dir = \"output/1_bfrs/plots\" )  # Specific locations only plot_model_ppc(   predictions_dir = \"output/plots/predictions\",   output_dir = \"output/plots\",   locations = c(\"ETH\", \"KEN\") )  # Legacy mode (not recommended - aggregate only) plot_model_ppc(model = best_model, output_dir = \"output/plots\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mosaic_country_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","title":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","text":"function creates map Africa highlighting countries included MOSAIC framework. map saved PNG file directory specified PATHS$DOCS_FIGURES.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mosaic_country_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","text":"","code":"plot_mosaic_country_map(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mosaic_country_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","text":"PATHS named list containing file paths required output. must include: DOCS_FIGURES Path directory map image saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mosaic_country_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","text":"Message","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_mosaic_country_map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot MOSAIC Country Map â€” plot_mosaic_country_map","text":"","code":"if (FALSE) { # \\dontrun{    PATHS <- list(DOCS_FIGURES = \"path/to/figures\")   # Generate and save the MOSAIC country map   plot_mosaic_country_map(PATHS)  } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_convergence_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot NPE convergence status table â€” plot_npe_convergence_status","title":"Plot NPE convergence status table â€” plot_npe_convergence_status","text":"Creates comprehensive status table showing NPE model convergence, diagnostics, performance metrics calibration workflow outputs.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_convergence_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot NPE convergence status table â€” plot_npe_convergence_status","text":"","code":"plot_npe_convergence_status(   npe_dir = NULL,   output_dir = NULL,   coverage_targets = list(`50` = 0.5, `95` = 0.95),   ks_threshold = 0.05,   show_param_details = 15,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_convergence_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot NPE convergence status table â€” plot_npe_convergence_status","text":"npe_dir Path NPE directory containing model outputs (default: searches ) output_dir Path output directory PDF (default: npe_dir/plots) coverage_targets Named list coverage targets (default: list(\"50\" = 0.50, \"95\" = 0.95)) ks_threshold P-value threshold KS test (default: 0.05) show_param_details Maximum number parameters show detail (default: 15) verbose Logical indicating whether print messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_convergence_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot NPE convergence status table â€” plot_npe_convergence_status","text":"Invisible NULL. Creates PDF file NPE convergence status table.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_convergence_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot NPE convergence status table â€” plot_npe_convergence_status","text":"","code":"if (FALSE) { # \\dontrun{ # Create NPE convergence status table plot_npe_convergence_status(   npe_dir = \"./local/calibration/calibration_test_17/2_npe\" ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot NPE Coverage Diagnostics â€” plot_npe_diagnostics_coverage","title":"Plot NPE Coverage Diagnostics â€” plot_npe_diagnostics_coverage","text":"Creates coverage diagnostic plots NPE models","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot NPE Coverage Diagnostics â€” plot_npe_diagnostics_coverage","text":"","code":"plot_npe_diagnostics_coverage(   diagnostics,   plots_dir = NULL,   max_params_per_page = 40,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot NPE Coverage Diagnostics â€” plot_npe_diagnostics_coverage","text":"diagnostics Diagnostics object path diagnostics directory plots_dir Directory save plots (optional) max_params_per_page Maximum parameters per page (default 40) verbose Print progress messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_coverage_bars.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot NPE Coverage Diagnostic Bars â€” plot_npe_diagnostics_coverage_bars","title":"Plot NPE Coverage Diagnostic Bars â€” plot_npe_diagnostics_coverage_bars","text":"Plot NPE Coverage Diagnostic Bars","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_coverage_bars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot NPE Coverage Diagnostic Bars â€” plot_npe_diagnostics_coverage_bars","text":"","code":"plot_npe_diagnostics_coverage_bars(   diagnostics,   plots_dir = NULL,   max_params_per_page = 40,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_sbc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot NPE diagnostic status table â€” plot_npe_diagnostics_sbc","title":"Plot NPE diagnostic status table â€” plot_npe_diagnostics_sbc","text":"Plot NPE diagnostic status table","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_diagnostics_sbc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot NPE diagnostic status table â€” plot_npe_diagnostics_sbc","text":"","code":"plot_npe_diagnostics_sbc(   diagnostics,   plots_dir = NULL,   max_params_per_page = 40,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"Creates visualizations training validation loss epochs NPE models. function reads training history NPE model directory generates plots assess model convergence potential overfitting.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"","code":"plot_npe_training_loss(   npe_dirs,   output_file = NULL,   plot_width = 10,   plot_height = 8,   show_best_epoch = TRUE,   smooth_curves = FALSE,   log_scale = FALSE,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"npe_dirs List model component (containing training_history.rds) string path NPE directory output_file Optional path save plot. NULL, plot returned saved. plot_width Width saved plot inches (default 10) plot_height Height saved plot inches (default 6) show_best_epoch Whether highlight epoch best validation loss (default TRUE) smooth_curves Whether apply smoothing loss curves (default FALSE) log_scale Whether use log scale y-axis (default FALSE) verbose Whether print progress messages (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"ggplot2 object containing training loss visualization","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"function loads training history training_history.rds creates publication-quality plots showing: Training validation loss curves epochs Best validation loss point (show_best_epoch = TRUE) Convergence diagnostics potential overfitting indicators plot helps identify: Training convergence Overfitting (validation loss increasing training loss decreases) Optimal stopping points Learning rate effectiveness","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_npe_training_loss.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot NPE Training Loss Curves â€” plot_npe_training_loss","text":"","code":"if (FALSE) { # \\dontrun{ # Plot training curves for NPE model loss_plot <- plot_npe_training_loss(   npe_dirs = list(model = \"./results/npe/model\"),   output_file = \"./figures/npe_training_loss.png\" )  # Display the plot print(loss_plot) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"function visualizes assumed shedding durations corresponding recovery rates (1/duration) symptomatic asymptomatic cholera infections using transparent bars solid mean lines. Recovery duration shown x-axis.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"","code":"plot_recovery_duration(   PATHS = NULL,   symp_range = c(3, 7),   asymp_range = c(7, 14) )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"PATHS Optional list containing output paths. provided, must include DOCS_FIGURES plot saved. symp_range numeric vector length 2 indicating minimum maximum shedding duration (days) symptomatic infections. Default c(3, 7). asymp_range numeric vector length 2 indicating minimum maximum shedding duration (days) asymptomatic infections. Default c(7, 14).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"Invisibly returns ggplot object. PATHS supplied, also saves PNG.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"list PATHS provided valid DOCS_FIGURES element, plot also saved PNG directory \"recovery_rates.png\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_recovery_duration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot recovery durations and rates for symptomatic and asymptomatic infections â€” plot_recovery_duration","text":"","code":"plot_recovery_duration() #> Error in geom_rect(aes(xmin = min_days, xmax = max_days, ymin = ymin,     ymax = ymax, fill = type), alpha = 0.4, color = NA): could not find function \"geom_rect\" plot_recovery_duration(symp_range = c(4, 6), asymp_range = c(8, 12)) #> Error in geom_rect(aes(xmin = min_days, xmax = max_days, ymin = ymin,     ymax = ymax, fill = type), alpha = 0.4, color = NA): could not find function \"geom_rect\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasnoal_clustering.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasnoal_clustering","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasnoal_clustering","text":"function visualizes clustering countries based seasonal precipitation cholera cases. generates map showing clusters, multi-panel plot showing fitted Fourier series values cluster.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasnoal_clustering.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasnoal_clustering","text":"","code":"plot_seasnoal_clustering(   PATHS,   use_cases = FALSE,   set_inferred_to_na = TRUE,   clustering_method = \"hierarchical\",   k = 4 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasnoal_clustering.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasnoal_clustering","text":"PATHS list containing paths processed climate, cholera, fitted data stored. Typically generated get_paths() function include: DATA_SHAPEFILES: Path directory containing shapefiles African countries. DOCS_TABLES: Path load processed precipitation, fitted values, clustering results. DOCS_FIGURES: Path save output plot. use_cases logical value. TRUE, clustering based Fourier series fitted cholera cases. FALSE, clustering based precipitation. set_inferred_to_na logical value. TRUE, inferred countries set NA clustering. Default TRUE using precipitation, FALSE using cases. clustering_method character string specifying clustering method. Options \"kmeans\", \"hierarchical\", \"dbscan\", \"knn\". Default \"hierarchical\". k integer specifying number clusters k-means hierarchical clustering. Default 4.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasnoal_clustering.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasnoal_clustering","text":"function generates saves PNG file showing clustering countries based seasonal dynamics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_clustering.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasonal_clustering","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasonal_clustering","text":"function visualizes clustering countries based seasonal precipitation cholera cases. generates map showing clusters, multi-panel plot showing fitted Fourier series values cluster.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_clustering.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasonal_clustering","text":"","code":"plot_seasonal_clustering(   PATHS,   use_cases = FALSE,   set_inferred_to_na = TRUE,   clustering_method = \"hierarchical\",   k = 4 )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_clustering.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasonal_clustering","text":"PATHS list containing paths processed climate, cholera, fitted data stored. Typically generated get_paths() function include: DATA_SHAPEFILES: Path directory containing shapefiles African countries. DOCS_TABLES: Path load processed precipitation, fitted values, clustering results. DOCS_FIGURES: Path save output plot. use_cases logical value. TRUE, clustering based Fourier series fitted cholera cases. FALSE, clustering based precipitation. set_inferred_to_na logical value. TRUE, inferred countries set NA clustering. Default TRUE using precipitation, FALSE using cases. clustering_method character string specifying clustering method. Options \"kmeans\", \"ward.D2\", \"dbscan\", \"knn\". Default \"ward.D2\" hierarchical clustering. k integer specifying number clusters k-means hierarchical clustering. Default 4.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_clustering.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Clustering of Countries Based on Seasonal Dynamics â€” plot_seasonal_clustering","text":"function generates saves PNG file showing clustering countries based seasonal dynamics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Precipitation and Cholera Case Data with Fourier Series Fits â€” plot_seasonal_transmission","title":"Plot Precipitation and Cholera Case Data with Fourier Series Fits â€” plot_seasonal_transmission","text":"function visualizes seasonal precipitation cholera cases data, fitted double Fourier series model. generates plot Z-scored data country, indicating inferred countries cholera cases data imputed neighbors.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Precipitation and Cholera Case Data with Fourier Series Fits â€” plot_seasonal_transmission","text":"","code":"plot_seasonal_transmission(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Precipitation and Cholera Case Data with Fourier Series Fits â€” plot_seasonal_transmission","text":"PATHS list containing paths processed climate, cholera, fitted data stored. Typically generated get_paths() function include: DOCS_FIGURES: Path save output plot.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Precipitation and Cholera Case Data with Fourier Series Fits â€” plot_seasonal_transmission","text":"function generates saves PNG file showing seasonal dynamics precipitation cholera cases across multiple countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Seasonal Transmission Example with Grid Points â€” plot_seasonal_transmission_example","title":"Plot Seasonal Transmission Example with Grid Points â€” plot_seasonal_transmission_example","text":"function plots map selected country grid points used climate data sampling, visualizes seasonal transmission dynamics using Fourier series precipitation cholera cases.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Seasonal Transmission Example with Grid Points â€” plot_seasonal_transmission_example","text":"","code":"plot_seasonal_transmission_example(PATHS, country_iso_code, n_points = 30)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Seasonal Transmission Example with Grid Points â€” plot_seasonal_transmission_example","text":"PATHS list containing paths processed climate, cholera, fitted data stored. Typically generated get_paths() function include: DATA_SHAPEFILES: Path directory containing shapefiles African countries. DOCS_TABLES: Path load processed precipitation fitted values data. DOCS_FIGURES: Path save output plot. country_iso_code character string representing ISO3 code country plot. n_points integer specifying number grid points generate within country sampling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_seasonal_transmission_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Seasonal Transmission Example with Grid Points â€” plot_seasonal_transmission_example","text":"function generates saves PNG file showing grid points country map seasonal transmission dynamics.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_shedding_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Shedding Rate as a Function of Environmental Suitability â€” plot_shedding_rate","title":"Plot Shedding Rate as a Function of Environmental Suitability â€” plot_shedding_rate","text":"function generates plot visualizes suitability-dependent decay rate environmental shedding based climate-driven environmental suitability (\\(\\psi_{jt}\\)). function generates three models decay rate \\(\\delta_{jt}\\): \\(\\delta_{jt} = 1 - \\psi_{jt}\\): simple linear transformation \\(\\psi_{jt}\\). \\(\\delta_{jt} = 1 - \\frac{1}{1 + (1 - \\psi_{jt})}\\): nonlinear transformation \\(\\psi_{jt}\\). \\(\\delta_{jt} = \\delta_{\\min} + \\psi_{jt} \\cdot (\\delta_{\\max} - \\delta_{\\min})\\): linear transformation based minimum maximum decay rates. plot saved PNG file directory specified PATHS$DOCS_FIGURES.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_shedding_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Shedding Rate as a Function of Environmental Suitability â€” plot_shedding_rate","text":"","code":"plot_shedding_rate(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_shedding_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Shedding Rate as a Function of Environmental Suitability â€” plot_shedding_rate","text":"PATHS list containing paths plot saved. Typically generated get_paths() function include: DOCS_FIGURES: Path directory plot saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_shedding_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Shedding Rate as a Function of Environmental Suitability â€” plot_shedding_rate","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths() plot_shedding_rate(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_correlation_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Heat-map of a spatialâ€“correlation matrix (ggplot2) â€” plot_spatial_correlation_heatmap","title":"Heat-map of a spatialâ€“correlation matrix (ggplot2) â€” plot_spatial_correlation_heatmap","text":"Draws diverging-colour heat-map L Ã— L correlation matrix produced calc_spatial_correlation_matrix().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_correlation_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Heat-map of a spatialâ€“correlation matrix (ggplot2) â€” plot_spatial_correlation_heatmap","text":"","code":"plot_spatial_correlation_heatmap(C)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_correlation_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Heat-map of a spatialâ€“correlation matrix (ggplot2) â€” plot_spatial_correlation_heatmap","text":"C Numeric matrix correlations (values [-1, 1]).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_correlation_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Heat-map of a spatialâ€“correlation matrix (ggplot2) â€” plot_spatial_correlation_heatmap","text":"ggplot object (rendered automatically interactive sessions).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_hazard.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot spatial importation hazard â€” plot_spatial_hazard","title":"Plot spatial importation hazard â€” plot_spatial_hazard","text":"Generates heatmap spatial importation hazards time across locations using ggplot2. Generates heatmap spatial importation hazards time across locations using ggplot2.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_hazard.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot spatial importation hazard â€” plot_spatial_hazard","text":"","code":"plot_spatial_hazard(H)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_hazard.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot spatial importation hazard â€” plot_spatial_hazard","text":"H Numeric matrix spatial importation hazards (output calc_spatial_hazard), rows = locations columns = time steps.  Column names dates \"YYYY-MM-DD\" format proper date parsing; row names used location labels.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_spatial_hazard.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot spatial importation hazard â€” plot_spatial_hazard","text":"Invisibly returns ggplot object displaying heatmap. Invisibly returns ggplot object displaying heatmap.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_and_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","title":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","text":"function plots reported cholera cases predicted environmental suitability specific country time, shaded regions indicating cholera outbreaks. Requires est_suitability() run first generate prediction files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_and_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","text":"","code":"plot_suitability_and_cases(PATHS, plot_iso_code)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_and_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","text":"PATHS list paths directories data stored plots saved. Must include MODEL_INPUT (reading prediction files) DOCS_FIGURES (saving plots). plot_iso_code ISO code country plot (e.g., \"AGO\", \"CMR\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_and_cases.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","text":"combined plot showing cholera case bars smoothed suitability predictions specified country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_and_cases.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Predicted Suitability and Reported Cholera Cases for a Specific Country â€” plot_suitability_and_cases","text":"function reads pred_psi_suitability_day.csv created est_suitability(), contains: date, cases, pred, pred_smooth, iso_code columns.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_by_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","title":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","text":"function generates facet plot predicted environmental suitability countries time. Requires est_suitability() run first generate necessary prediction files.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_by_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","text":"","code":"plot_suitability_by_country(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_by_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","text":"PATHS list paths directories data stored plots saved. Must include MODEL_INPUT (reading prediction files) DOCS_FIGURES (saving plots).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_by_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","text":"facet plot predicted environmental suitability countries, filtered years >= 2021. plot includes suitability predictions separate colors historical (black) future (orange) predictions.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suitability_by_country.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Predicted Suitability for All Countries â€” plot_suitability_by_country","text":"function reads pred_psi_suitability_week.csv created est_suitability(), contains columns: iso_code, year, week, date, cases, cases_binary, pred.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suspected_cases.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Proportion of Suspected Cholera Cases â€” plot_suspected_cases","title":"Plot Proportion of Suspected Cholera Cases â€” plot_suspected_cases","text":"function loads parameter data frame proportion suspected cholera cases (rho) param_rho_suspected_cases.csv file generates plot showing probability distributions low high estimates, custom annotations formatting.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suspected_cases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Proportion of Suspected Cholera Cases â€” plot_suspected_cases","text":"","code":"plot_suspected_cases(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_suspected_cases.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Proportion of Suspected Cholera Cases â€” plot_suspected_cases","text":"PATHS list containing paths parameter data figures saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory parameter data frame stored. DOCS_FIGURES: Path directory plot saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Vaccination Data â€” plot_vaccination_data","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"function creates plots based vaccination request data , GTFCC, combined sources, displaying raw redistributed doses, highlighting proportion population vaccinated country. produces two types plots: (1) faceted plot showing cumulative vaccination data countries, (2) detailed plot zooming specific country selected date range.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"","code":"plot_vaccination_data(PATHS, data_source = \"WHO\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"PATHS list file paths, include following elements: MODEL_INPUT path folder containing processed vaccination data. DOCS_FIGURES path folder plot images saved. data_source source vaccination data. Must one \"\", \"GTFCC\", \"\". Default \"\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"function returns R object saves two PNG files: faceted plot vaccination data across countries saved \"vaccination_by_country.png\". zoomed-plot selected country saved \"vaccination_example_<iso_code>.png\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"function performs following steps: Loads processed vaccination data CSV file. Extracts last cumulative value country, displaying maximum proportion population vaccinated. Creates faceted plot showing raw doses shipped redistributed doses time, country, independent y-axes. Saves faceted plot PNG file specified folder. Creates zoomed-plot specific country date range, adding text labels highlight important milestones. Saves zoomed-plot PNG file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Vaccination Data â€” plot_vaccination_data","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(   MODEL_INPUT = \"path/to/input/data\",   DOCS_FIGURES = \"path/to/save/figures\" ) plot_vaccination_data(PATHS) plot_vaccination_data(PATHS, data_source = \"GTFCC\") plot_vaccination_data(PATHS, data_source = \"BOTH\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Vaccination Maps â€” plot_vaccination_maps","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"Generates choropleth maps corresponding bar plots visualize OCV vaccination data , GTFCC, combined sources across African countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"","code":"plot_vaccination_maps(PATHS, data_source = \"WHO\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"PATHS named list containing file paths required input output operations. include: MODEL_INPUT Directory path processed vaccination data files located. DOCS_FIGURES Directory path generated plots saved. data_source source vaccination data. Must one \"\", \"GTFCC\", \"\". Default \"\".","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"function return value. generates saves PNG file containing vaccination maps barplots annotations.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"function performs following steps: Data Loading Processing: Reads vaccination data CSV file, converts date column Date objects, extracts latest cumulative doses distributed corresponding vaccination proportions country. Map Data Retrieval: Obtains map data African countries using rnaturalearth package. Data Merging: Merges vaccination data map data, identifying Sub-Saharan African countries based ISO codes provided MOSAIC::iso_codes_ssa dataset. Color Scale Definition: Defines distinct color scales cumulative doses distributed (green gradient) proportion vaccinated (purple gradient), including appropriate breaks labels. Choropleth Map Creation: Creates two choropleth mapsâ€”one cumulative doses distributed another proportion vaccinatedâ€”using ggplot2 layering map data accordingly. Barplot Generation: Constructs barplots metric, ordering countries descending values applying corresponding color scales. Plot Arrangement: Utilizes patchwork cowplot packages arrange maps barplots structured grid panel labels \"\" \"B\" adds footnote. Saving Plot: Saves final combined plot PNG file specified DOCS_FIGURES directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccination_maps.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Vaccination Maps â€” plot_vaccination_maps","text":"","code":"if (FALSE) { # \\dontrun{ # Define the PATHS list with appropriate directories PATHS <- list(   MODEL_INPUT = \"path/to/model/input\",   DOCS_FIGURES = \"path/to/docs/figures\" )  # Call the function to generate and save the vaccination maps plot_vaccination_maps(PATHS) plot_vaccination_maps(PATHS, data_source = \"GTFCC\") plot_vaccination_maps(PATHS, data_source = \"BOTH\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccine_effectiveness.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Vaccine Effectiveness Decay and Prior Distributions â€” plot_vaccine_effectiveness","title":"Plot Vaccine Effectiveness Decay and Prior Distributions â€” plot_vaccine_effectiveness","text":"function generates comprehensive plots showing vaccine effectiveness decay time prior distributions one-dose two-dose OCV regimens. creates three sets figures: one one-dose OCV, one two-dose OCV, combined figure showing regimens.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccine_effectiveness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Vaccine Effectiveness Decay and Prior Distributions â€” plot_vaccine_effectiveness","text":"","code":"plot_vaccine_effectiveness(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccine_effectiveness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Vaccine Effectiveness Decay and Prior Distributions â€” plot_vaccine_effectiveness","text":"PATHS list containing paths figures saved. Typically generated get_paths() function include: MODEL_INPUT: Path directory containing vaccine effectiveness data parameters DOCS_FIGURES: Path directory figures saved","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vaccine_effectiveness.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Vaccine Effectiveness Decay and Prior Distributions â€” plot_vaccine_effectiveness","text":"function creates following plots: One-dose OCV (-C): Decay curve, phi_1 prior distribution, omega_1 prior distribution (blue theme) Two-dose OCV (D-F): Decay curve, phi_2 prior distribution, omega_2 prior distribution (green theme) Three PDF files saved: vaccine_one_dose_combined.pdf: One-dose vaccine effectiveness plots vaccine_two_dose_combined.pdf: Two-dose vaccine effectiveness plots vaccine_all_combined.pdf: regimens combined single figure","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"function generates plot visualizes suitability-dependent decay rate V. cholerae survival based climate-driven environmental suitability (\\(\\psi_{jt}\\)). figure compares five transformation types survival time using cumulative Beta distribution: Linear: \\(f(\\psi_{jt}) = \\text{pbeta}(\\psi_{jt} \\mid s_1 = 1, s_2 = 1)\\) Concave: \\(f(\\psi_{jt}) = \\text{pbeta}(\\psi_{jt} \\mid s_1 = 1, s_2 = 5)\\) Convex: \\(f(\\psi_{jt}) = \\text{pbeta}(\\psi_{jt} \\mid s_1 = 5, s_2 = 1)\\) Sigmoidal: \\(f(\\psi_{jt}) = \\text{pbeta}(\\psi_{jt} \\mid s_1 = 5, s_2 = 5)\\) Arcsine: \\(f(\\psi_{jt}) = \\text{pbeta}(\\psi_{jt} \\mid s_1 = 0.5, s_2 = 0.5)\\)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"","code":"plot_vibrio_decay_rate(PATHS, decay_days_short = 3, decay_days_long = 90)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"PATHS list containing path locations saving output. Must include: DOCS_FIGURES: File path directory saving plot decay_days_short Numeric. Minimum survival time (days). Default 3. decay_days_long Numeric. Maximum survival time (days). Default 90.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"Saves PNG file PATHS$DOCS_FIGURES. Invisibly returns ggplot object.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"primary y-axis shows survival time days. secondary y-axis shows decay rate \\(\\delta_{jt} = 1 / \\text{days}(\\psi_{jt})\\). Horizontal dashed lines indicate minimum maximum bounds survival time. output plot saved PNG file directory specified PATHS$DOCS_FIGURES.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/plot_vibrio_decay_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Vibrio Decay Rate as a Function of Environmental Suitability â€” plot_vibrio_decay_rate","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() plot_vibrio_decay_rate(PATHS) plot_vibrio_decay_rate(PATHS, decay_days_short = 2, decay_days_long = 100) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"Loads simulation outputs parameters BFRS results directory prepares Neural Posterior Estimation (NPE) training. Optimized load individual output files weighted simulations, avoiding need read filter large combined outputs file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"","code":"prepare_npe_data(   bfrs_dir,   results = NULL,   param_names = NULL,   weights = NULL,   verbose = TRUE,   chunk_size = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"bfrs_dir Directory containing BFRS results : simulations.parquet: Parameter values weights outputs/timeseries/timeseries_NNNNNNN.parquet: Individual timeseries files priors.json: Parameter prior distributions results Optional data frame BFRS results already loaded memory (NULL = load file). Preferred results already available avoid redundant file /O. Must contain columns: sim, likelihood, parameter columns. param_names Character vector parameter names extract (NULL = auto-detect) weights Optional numeric vector NPE weights simulation (NULL = extract results$weight_npe, results$weight_best, uniform). Passing weights explicitly avoids needing add weight_npe column results. verbose Logical, print progress messages (default: TRUE) chunk_size Integer, chunk size processing large datasets (NULL = auto)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"List containing: parameters Matrix parameter values (n_sims Ã— n_params) observations Matrix flattened time series (n_sims Ã— n_features) weights Vector simulation weights bounds Matrix parameter bounds (n_params Ã— 2) param_names Character vector parameter names n_samples, n_params, n_timesteps, n_locations Integer dimensions observed_data Optional data frame observed data (available)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"function implements high-performance loading strategy: Loads simulations.parquet identify weighted simulations Loads individual timeseries files weighted simulations Combines loaded files using data.table::rbindlist() efficiency Reshapes data long wide format NPE training Performance: typical BFRS results 1\\ Old approach (combined file): 30-120 seconds load filter 45M rows New approach (individual files): 0.1-0.5 seconds load 450K rows directly Speedup: 100-1200Ã— faster function expects individual output files outputs/timeseries/ subdirectory. files created simulation. entire outputs/ directory can removed NPE training completes free disk space.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/prepare_npe_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare NPE Training Data from BFRS Results â€” prepare_npe_data","text":"","code":"if (FALSE) { # \\dontrun{ # Basic usage (loads from file) npe_data <- prepare_npe_data(     bfrs_dir = \"path/to/1_bfrs\",     param_names = c(\"beta_env\", \"beta_hum\", \"tau_i\") )  # Optimized usage (pass pre-loaded results and weights) results <- arrow::read_parquet(\"path/to/1_bfrs/outputs/simulations.parquet\") npe_weights <- get_npe_weights(results, strategy = \"continuous_best\") npe_data <- prepare_npe_data(     bfrs_dir = \"path/to/1_bfrs\",     results = results,     param_names = c(\"beta_env\", \"beta_hum\", \"tau_i\"),     weights = npe_weights ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.calibration_results_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for Results Schema â€” print.calibration_results_schema","title":"Print Method for Results Schema â€” print.calibration_results_schema","text":"Print Method Results Schema","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.calibration_results_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for Results Schema â€” print.calibration_results_schema","text":"","code":"# S3 method for class 'calibration_results_schema' print(x, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.calibration_results_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for Results Schema â€” print.calibration_results_schema","text":"x calibration_results_schema object ... Additional arguments (unused)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_initial_conditions.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for mosaic_initial_conditions â€” print.mosaic_initial_conditions","title":"Print method for mosaic_initial_conditions â€” print.mosaic_initial_conditions","text":"Print method mosaic_initial_conditions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_initial_conditions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for mosaic_initial_conditions â€” print.mosaic_initial_conditions","text":"","code":"# S3 method for class 'mosaic_initial_conditions' print(x, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_initial_conditions_S.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for S compartment initial conditions â€” print.mosaic_initial_conditions_S","title":"Print method for S compartment initial conditions â€” print.mosaic_initial_conditions_S","text":"Print method S compartment initial conditions","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_initial_conditions_S.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for S compartment initial conditions â€” print.mosaic_initial_conditions_S","text":"","code":"# S3 method for class 'mosaic_initial_conditions_S' print(x, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_priors.html","id":null,"dir":"Reference","previous_headings":"","what":"Print summary of location priors â€” print.mosaic_priors","title":"Print summary of location priors â€” print.mosaic_priors","text":"Print summary location priors","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_priors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print summary of location priors â€” print.mosaic_priors","text":"","code":"# S3 method for class 'mosaic_priors' print(x, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/print.mosaic_priors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print summary of location priors â€” print.mosaic_priors","text":"x priors object returned get_location_priors ... Additional arguments (ignored)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/priors_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Default prior distributions for MOSAIC model parameters â€” priors_default","title":"Default prior distributions for MOSAIC model parameters â€” priors_default","text":"comprehensive list containing default informative prior distributions MOSAIC model parameters, organized global parameters location-specific parameters 40 African countries (301 parameters total).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/priors_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default prior distributions for MOSAIC model parameters â€” priors_default","text":"","code":"priors_default"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/priors_default.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default prior distributions for MOSAIC model parameters â€” priors_default","text":"list 3 main components: metadata List containing version, date, description priors parameters_global List 21 global model parameters prior distributions: alpha_1: Transmission parameter mixing (beta distribution, range 0-1) alpha_2: Transmission parameter density dependence (beta distribution, range 0-1) decay_days_long, decay_days_short: Natural immunity decay duration parameters (uniform distribution) decay_shape_1, decay_shape_2: Natural immunity decay shape parameters (uniform distribution) epsilon: Importation rate infected individuals (lognormal distribution) gamma_1: Recovery rate symptomatic infections (uniform distribution, 1/7 1/3 dayâ»Â¹) gamma_2: Recovery rate asymptomatic infections (uniform distribution, 1/14 1/7 dayâ»Â¹) iota: Incubation rate (lognormal distribution) kappa: Environmental carrying capacity V. cholerae (uniform distribution) mobility_gamma, mobility_omega: Human mobility model parameters (gamma distribution) omega_1: Vaccine-derived immunity waning rate one dose OCV (gamma distribution) omega_2: Vaccine-derived immunity waning rate two doses OCV (gamma distribution) phi_1: Vaccine effectiveness one dose OCV (beta distribution) phi_2: Vaccine effectiveness two doses OCV (beta distribution) rho: Reporting fraction/detection rate symptomatic cases (beta distribution) sigma: Proportion infections symptomatic (beta distribution) zeta_1: Bacterial shedding rate symptomatic individuals (uniform distribution) zeta_2: Bacterial shedding rate asymptomatic individuals (uniform distribution) parameters_location List 7 location-specific parameter types 40 African countries (ISO3 codes): beta_j0_env: Environmental base transmission rate (gamma distribution country) beta_j0_hum: Human--human base transmission rate (gamma distribution country) tau_i: Country-level travel probabilities (beta distribution uncertainty adjustment) a1, a2: Seasonality Fourier coefficients cases (normal distribution) b1, b2: Seasonality Fourier coefficients deaths (normal distribution)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/priors_default.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default prior distributions for MOSAIC model parameters â€” priors_default","text":"parameter entry contains: parameter_name: Name parameter distribution: Type prior distribution (beta, gamma, normal, uniform, lognormal) parameters: Distribution-specific parameters (e.g., shape1/shape2 beta, mean/sd normal) Location-specific parameters include data following 40 African countries: AGO, BDI, BEN, BFA, BWA, CAF, CIV, CMR, COD, COG, ERI, ETH, GAB, GHA, GIN, GMB, GNB, GNQ, KEN, LBR, MLI, MOZ, MRT, MWI, NAM, NER, NGA, RWA, SEN, SLE, SOM, SSD, SWZ, TCD, TGO, TZA, UGA, ZAF, ZMB, ZWE","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_CFR_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","title":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","text":"function processes cholera data, aggregates cases deaths country period 2014-2024, calculates aggregated Case Fatality Ratio (CFR), fits Beta distributions country. Countries fewer cases min_obs CFR set value AFRO Region.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_CFR_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","text":"","code":"process_CFR_data(PATHS, min_obs)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_CFR_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","text":"PATHS list containing paths cholera data located. Typically generated get_paths() function include: DATA_WHO_ANNUAL: Path directory containing processed annual cholera data. DOCS_TABLES: Path directory processed CFR data saved. min_obs integer specifying minimum number cases required country CFR. Countries fewer cases threshold CFR set value AFRO Region.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_CFR_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","text":"data frame aggregated CFR, confidence intervals, Beta distribution parameters country.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_CFR_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Cholera Data to Calculate Aggregated Case Fatality Ratios and Fit Beta Distributions (2014-2024) â€” process_CFR_data","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() cholera_data <- process_CFR_data(PATHS, min_obs = 100) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"function compiles historical forecast data DMI ENSO (NiÃ±o3, NiÃ±o3.4, NiÃ±o4) single data frame. data filtered include years specified year_start onwards. function also allows disaggregation monthly data daily weekly values using either linear interpolation spline interpolation. historical forecast data overlap dates, historical data takes precedence.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"","code":"process_ENSO_data(year_start = NULL, frequency = \"monthly\", method = \"linear\")"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"year_start integer representing start year filtering data. data year onward included compiled data. value must greater equal 1870. frequency character string specifying time resolution output data. Valid options \"daily\", \"weekly\", \"monthly\". method character string specifying interpolation method use. Valid options \"linear\" (linear interpolation using zoo::na.approx()) \"spline\" (spline interpolation using zoo::na.spline()).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"data frame combined historical forecast data DMI, ENSO3, ENSO34, ENSO4. data frame includes following columns: date: date data (daily, weekly, monthly) YYYY-MM-DD format. variable: variable name, can \"DMI\", \"ENSO3\", \"ENSO34\", \"ENSO4\". value: value variable (sea surface temperature anomaly). year: year corresponding date. month: month corresponding date. month_name: name month (e.g., \"Jan\"). week: week year (\"weekly\" \"daily\" frequency). doy: day year (\"daily\" frequency). date_start: Start date week month. date_stop: End date week month.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"function automatically handles overlapping data historical forecast sources: date exists historical forecast data, historical data preferred function reports overlaps found, including date range number overlapping months Data source tracking added internally included final output","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_ENSO_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compile ENSO and DMI Data (Historical and Forecast) â€” process_ENSO_data","text":"","code":"if (FALSE) { # \\dontrun{ # Compile the ENSO and DMI data from the year 2000 onwards compiled_enso_data <- process_ENSO_data(2010, \"monthly\")  # Display the compiled data head(compiled_enso_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"function processes raw GTFCC vaccination data scraped GTFCC OCV dashboard ees-cholera-mapping repository. transforms event-based data structure clean, structured dataset matching vaccination data format use MOSAIC model.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"","code":"process_GTFCC_vaccination_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"PATHS list containing file paths input output data. list include: DATA_DEMOGRAPHICS: Path directory demographic data stored. MODEL_INPUT: Path directory processed vaccination data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"function saves processed vaccination data CSV file directory specified PATHS$MODEL_INPUT. also returns processed data data frame use R.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"function performs following steps: Load Transform GTFCC Data: - Reads scraped GTFCC data ees-cholera-mapping repository. - Transforms event-based structure (Request, Decision, Delivery, Round events) request-based structure. Map Format: - Aggregates events request ID extract doses requested, approved, shipped. - Uses Delivery event dates campaign dates. - Converts country names ISO codes consistency. Load Merge Demographic Data: - Reads demographic data African countries CSV file. - Filters data year 2023 retains population sizes. Infer Missing Campaign Dates: - Computes delay decision campaign dates. - Infers missing campaign dates based mean delay possible. - Fixes missing decision dates grouped request numbers. Validate Filter Data: - Ensures rows valid campaign dates. - Removes rows doses_shipped zero missing. - Filters MOSAIC countries . Save Processed Data: - Writes cleaned processed dataset CSV file modeling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_GTFCC_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process GTFCC Vaccination Data for MOSAIC Model â€” process_GTFCC_vaccination_data","text":"","code":"# Example usage PATHS <- list(   DATA_DEMOGRAPHICS = \"path/to/demographics\",   MODEL_INPUT = \"path/to/model/input\" )  processed_data <- process_GTFCC_vaccination_data(PATHS) #> Loading GTFCC vaccination and population data #> Warning: cannot open file 'path/to/demographics/demographics_africa_2000_2023.csv': No such file or directory #> Error in file(file, \"rt\"): cannot open the connection"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"function processes raw weekly cholera surveillance data JHU Public Surveillance Dataset, aggregates country level, parses ISO-weeks, computes week start/end dates, prepares data MOSAIC framework.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"","code":"process_JHU_weekly_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"PATHS list containing paths raw processed data directories. include: DATA_RAW: Path directory containing Public_surveillance_dataset.rds. DATA_JHU_WEEKLY: Path save processed cholera data (e.g., cholera_country_weekly_processed.csv).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"Invisibly returns NULL. Side effects: Reads raw data readRDS(). Writes processed data PATHS$DATA_JHU_WEEKLY/cholera_country_weekly_processed.csv via write.csv().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"Steps performed: Load Public_surveillance_dataset.rds keep spatial_scale == \"country\". Extract iso_code location_name (suffix â€œ::â€) convert full country name. Split epiweek (e.g. \"2017-15\") year week. Create date_start (Monday) date_stop (Sunday) ISO week via ISOweek::ISOweek2date(). Compute month date_start using lubridate::month(). Define cases using suspected (sCh) present, else confirmed (cCh), defaulting 0. Define deaths (zero NA). Save data.frame columns: country, iso_code, year, month, week, date_start, date_stop, cases, deaths.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_JHU_weekly_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Weekly Cholera Data from JHU: Convert to MOSAIC Format â€” process_JHU_weekly_data","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- list(   DATA_RAW        = \"data/raw\",   DATA_JHU_WEEKLY = \"data/processed/jhu_weekly\" ) process_JHU_weekly_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_OAG_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","title":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","text":"function processes raw OAG flight data African countries, including data cleaning, location date conversion, aggregation. processed data saved CSV files African countries subset countries used MOSAIC modeling framework.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_OAG_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","text":"","code":"process_OAG_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_OAG_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","text":"PATHS list containing paths raw processed data stored. PATHS typically output get_paths() function include following components: DATA_RAW: Path directory containing raw data files. DATA_PROCESSED: Path directory processed data saved. DATA_SHAPEFILES: Path directory containing shapefiles African countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_OAG_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","text":"function processes OAG flight data saves aggregated results specified processed data paths.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_OAG_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process and Save OAG Flight Data for Africa â€” process_OAG_data","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for raw and processed data using get_paths() PATHS <- get_paths()  # Process the OAG data and save the results process_OAG_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_SUPP_weekly_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process supplementary cholera outbreak data from raw SUPP directory â€” process_SUPP_weekly_data","title":"Process supplementary cholera outbreak data from raw SUPP directory â€” process_SUPP_weekly_data","text":"function reads first CSV line-list file raw SUPP directory (e.g., Aceng et al. 2025 S1 Data), cleans standardizes data, returns data.frame weekly counts standard MOSAIC surveillance format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_SUPP_weekly_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process supplementary cholera outbreak data from raw SUPP directory â€” process_SUPP_weekly_data","text":"","code":"process_SUPP_weekly_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_SUPP_weekly_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process supplementary cholera outbreak data from raw SUPP directory â€” process_SUPP_weekly_data","text":"PATHS list file paths used MOSAIC pipeline. Must include: DATA_RAW Root data directory (e.g., root/MOSAIC-data/raw).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_SUPP_weekly_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process supplementary cholera outbreak data from raw SUPP directory â€” process_SUPP_weekly_data","text":"data.frame columns: country Country name (fixed \"Uganda\"). iso_code ISO3 country code (fixed \"UGA\"). year Calendar year week. month Calendar month (1â€“12) week start. week Epidemiological week number (1â€“52). date_start Start date week (Monday). date_stop End date week (Sunday). cases Number onset dates week. deaths Number outcomes coded death week. cases_binary Indicator (0/1) cases >0.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UNICEF_malnutrition_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process UNICEF Child Malnutrition Data â€” process_UNICEF_malnutrition_data","title":"Process UNICEF Child Malnutrition Data â€” process_UNICEF_malnutrition_data","text":"Reads \"Survey Estimates\" sheet raw UNICEF malnutrition Excel file, drops footnote columns, reshapes key indicators long format, writes CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UNICEF_malnutrition_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process UNICEF Child Malnutrition Data â€” process_UNICEF_malnutrition_data","text":"","code":"process_UNICEF_malnutrition_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UNICEF_malnutrition_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process UNICEF Child Malnutrition Data â€” process_UNICEF_malnutrition_data","text":"paths named list file paths components: raw$malnutrition_data: path raw Excel file processed$malnutrition_data: path write processed CSV","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UNICEF_malnutrition_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process UNICEF Child Malnutrition Data â€” process_UNICEF_malnutrition_data","text":"Invisibly returns processed data frame (long format).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"function processes demographic data UN World Population Prospects African countries. loads available data, gets total population, birth rates, death rates, saves processed data annual daily CSV files. daily data created linear interpolation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"","code":"process_UN_demographics_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"PATHS list containing paths raw processed data stored. PATHS typically output get_paths() function include following components: DATA_RAW: Path directory containing raw UN World Population Prospects data. DATA_PROCESSED: Path directory processed demographic data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"function return value. processes UN demographic data saves annual daily interpolated results CSV files specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"function performs following steps: Loads raw demographic data CSV files. Merges population, birth rate, death rate data. Saves annual data UN_world_population_prospects_annual.csv. Creates daily interpolated data using linear interpolation annual values. Saves daily data UN_world_population_prospects_daily.csv. processed data files saved PATHS$DATA_PROCESSED/demographics/ directory. Data Source: United Nations World Population Prospects","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_UN_demographics_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process UN World Prospects Data for African Countries â€” process_UN_demographics_data","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for raw and processed data using get_paths() PATHS <- get_paths()  # Process the UN World Prospects data for all available years and save the results process_demographics_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_GDP_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process World Bank GDP data â€” process_WB_GDP_data","title":"Process World Bank GDP data â€” process_WB_GDP_data","text":"Reads raw World Bank GDP CSV, reshapes long format via loop, writes processed data CSV disk, saves processed data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_GDP_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process World Bank GDP data â€” process_WB_GDP_data","text":"","code":"process_WB_GDP_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_GDP_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process World Bank GDP data â€” process_WB_GDP_data","text":"PATHS List. Project paths object components DATA_RAW DATA_PROCESSED. Expects raw file : file.path(PATHS$DATA_RAW, 'world_bank', 'API_NY.GDP.MKTP.CD_DS2_en_csv_v2_132025.csv') write output : file.path(PATHS$DATA_PROCESSED, 'world_bank', 'GDP_data_world_bank.csv')","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_GDP_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process World Bank GDP data â€” process_WB_GDP_data","text":"data.frame columns: iso_code ISO country code (character) year Year (integer) GDP Gross Domestic Product (numeric) Invisibly returns data.frame writing CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_population_density_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process World Bank Population Density Data â€” process_WB_population_density_data","title":"Process World Bank Population Density Data â€” process_WB_population_density_data","text":"Reads raw World Bank population density CSV (skipping first 4 metadata rows), reshapes long format via loop, writes processed data CSV disk, returns . Uses base R functions .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_population_density_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process World Bank Population Density Data â€” process_WB_population_density_data","text":"","code":"process_WB_population_density_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_population_density_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process World Bank Population Density Data â€” process_WB_population_density_data","text":"PATHS List. Project paths object components DATA_RAW DATA_PROCESSED. Expects raw file : file.path(PATHS$DATA_RAW, 'world_bank', 'API_EN.POP.DNST_DS2_en_csv_v2_85433.csv') write output : file.path(PATHS$DATA_PROCESSED, 'world_bank', 'pop_density_data_world_bank.csv')","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_population_density_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process World Bank Population Density Data â€” process_WB_population_density_data","text":"data.frame columns: iso_code ISO country code (character) year Year (integer) pop_density Population density (numeric, people per sq. km) Invisibly returns data.frame writing CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_poverty_ratio_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process World Bank Poverty Ratio Data â€” process_WB_poverty_ratio_data","title":"Process World Bank Poverty Ratio Data â€” process_WB_poverty_ratio_data","text":"Reads raw World Bank poverty ratio CSV (skipping first 4 metadata rows), reshapes long format via loop, writes processed data CSV disk, returns . Uses base R functions .","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_poverty_ratio_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process World Bank Poverty Ratio Data â€” process_WB_poverty_ratio_data","text":"","code":"process_WB_poverty_ratio_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_poverty_ratio_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process World Bank Poverty Ratio Data â€” process_WB_poverty_ratio_data","text":"PATHS List. Project paths object components DATA_RAW DATA_PROCESSED. Expects raw file located : file.path(PATHS$DATA_RAW, 'world_bank', '<poverty_ratio_filename>.csv') write output : file.path(PATHS$DATA_PROCESSED, 'world_bank', 'poverty_ratio_data_world_bank.csv')","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_poverty_ratio_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process World Bank Poverty Ratio Data â€” process_WB_poverty_ratio_data","text":"data.frame columns: iso_code ISO country code (character) year Year (integer) poverty_ratio Poverty ratio (numeric, percent population poverty line) Invisibly returns data.frame writing CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_urban_population_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process World Bank Urban Population Proportion Data â€” process_WB_urban_population_data","title":"Process World Bank Urban Population Proportion Data â€” process_WB_urban_population_data","text":"Reads raw World Bank urban population proportion CSV, reshapes long format via loop, writes processed data CSV disk, saves processed data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_urban_population_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process World Bank Urban Population Proportion Data â€” process_WB_urban_population_data","text":"","code":"process_WB_urban_population_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_urban_population_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process World Bank Urban Population Proportion Data â€” process_WB_urban_population_data","text":"PATHS List. Project paths object components DATA_RAW DATA_PROCESSED. Expects raw file : file.path(PATHS$DATA_RAW, 'world_bank', 'API_SP.URB.TOTL..ZS_DS2_en_csv_v2_86733.csv') write output : file.path(PATHS$DATA_PROCESSED, 'world_bank', 'urban_population_data_world_bank.csv')","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WB_urban_population_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process World Bank Urban Population Proportion Data â€” process_WB_urban_population_data","text":"data.frame columns: iso_code ISO country code (character) year Year (integer) urban_pop_prop Urban population proportion (numeric, percent total population) Invisibly returns data.frame writing CSV.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"function compiles historical cholera data African countries (AFRO region) years 1949 2024. data processed saved MOSAIC directory structure. includes reported cholera cases, deaths, case fatality ratios (CFR).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"","code":"process_WHO_annual_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"PATHS list containing paths raw processed data directories. Typically generated get_paths() include: DATA_RAW: Path directory containing raw cholera data. DATA_WHO_ANNUAL: Path directory processed cholera data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"function return value processes saves historical cholera data CSV files processed data directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"function compiles cholera data African countries (AFRO region) processing historical data 1949-2024. data sources follows: 1949-2021: Data compiled annual reports World Data. See https://ourworldindata.org. 2022: Data manually extracted annual report. 2023-2024: Data downloaded directly AWD GIS dashboard. Additionally, function calculates 95% binomial confidence intervals CFR applicable, data saved CSV files processed data directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_annual_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download, Process, and Save Historical Annual WHO Cholera Data for Africa â€” process_WHO_annual_data","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming PATHS is generated from get_paths() PATHS <- get_paths()  # Download and process WHO annual cholera data process_WHO_annual_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"function processes raw vaccination data associated population data create clean, structured dataset MOSAIC model. handles data cleaning, infers missing campaign dates, validates dataset, saves output use modeling cholera vaccination efforts.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"","code":"process_WHO_vaccination_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"PATHS list containing file paths input output data. list include: DATA_DEMOGRAPHICS: Path directory demographic data stored. DATA_SCRAPE_WHO_VACCINATION: Path directory containing raw vaccination data. MODEL_INPUT: Path directory processed vaccination data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"function saves processed vaccination data CSV file directory specified PATHS$MODEL_INPUT. also returns processed data data frame use R.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"function performs following steps: Load Filter Demographic Data: - Reads demographic data African countries CSV file. - Filters data year 2023 retains population sizes. Load Clean Vaccination Data: - Reads raw vaccination data. - Converts country names ISO codes consistency. - Filters data include countries MOSAIC database. Infer Missing Campaign Dates: - Computes delay decision campaign dates. - Infers missing campaign dates based mean delay possible. - Fixes missing decision dates grouped request numbers. Validate Filter Data: - Ensures rows valid campaign dates. - Removes rows doses_shipped zero missing. Save Processed Data: - Writes cleaned processed dataset CSV file modeling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Vaccination Data for MOSAIC Model â€” process_WHO_vaccination_data","text":"","code":"# Example usage PATHS <- list(   DATA_DEMOGRAPHICS = \"path/to/demographics\",   DATA_SCRAPE_WHO_VACCINATION = \"path/to/who/vaccination\",   MODEL_INPUT = \"path/to/model/input\" )  processed_data <- process_WHO_vaccination_data(PATHS) #> Loading vaccination and population data #> Warning: cannot open file 'path/to/demographics/demographics_africa_2000_2023.csv': No such file or directory #> Error in file(file, \"rt\"): cannot open the connection"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"function processes weekly cholera data converting country names ISO3 codes, filtering data countries AFRO region, organizing data year week. also generates start stop dates ISO week.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"","code":"process_WHO_weekly_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"PATHS list containing paths raw processed data directories. Typically generated get_paths() function include: DATA_SCRAPE_WHO_WEEKLY: Path raw cholera data file (e.g., cholera_country_weekly.csv). DATA_WHO_WEEKLY: Path save processed cholera data (e.g., cholera_country_weekly_processed.csv).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"Invisibly returns NULL. Side effects: Reads raw data read.csv(). Writes processed data PATHS$DATA_WHO_WEEKLY/cholera_country_weekly_processed.csv via write.csv().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"function performs following tasks: Reads raw cholera data CSV file. Converts country names ISO3 codes using MOSAIC::convert_country_to_iso MOSAIC::convert_iso_to_country functions. Filters dataset include countries AFRO region (based MOSAIC::iso_codes_who_afro). Orders data year, week, country. Renames columns consistency: cases_by_week cases deaths_by_week deaths. Adds date_start date_stop columns based ISO week, using ISOweek::ISOweek2date function. Computes month date_start. Filters countries fewer ten observations. Checks ISO week index 53 remains.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_WHO_weekly_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region â€” process_WHO_weekly_data","text":"","code":"if (FALSE) { # \\dontrun{ PATHS <- get_paths() process_WHO_weekly_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_cholera_surveillance_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure â€” process_cholera_surveillance_data","title":"Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure â€” process_cholera_surveillance_data","text":"function reads processed weekly cholera data , JHU, supplemental (SUPP) sources, labels record source, combines (removing duplicate countryâ€“week entries according specified source preference), creates truly square data structure country-week combinations min max date across entire dataset, downscales combined weekly totals daily time series using MOSAIC::downscale_weekly_values integer allocation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_cholera_surveillance_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure â€” process_cholera_surveillance_data","text":"","code":"process_cholera_surveillance_data(PATHS, keep_source = c(\"WHO\", \"JHU\", \"SUPP\"))"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_cholera_surveillance_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure â€” process_cholera_surveillance_data","text":"PATHS list file paths. Must include: DATA_WHO_WEEKLY: Directory containing cholera_country_weekly_processed.csv . DATA_JHU_WEEKLY: Directory containing cholera_country_weekly_processed.csv JHU. DATA_SUPP_WEEKLY: Directory containing cholera_country_weekly_processed.csv supplemental source (may include extra columns). DATA_CHOLERA_WEEKLY: Directory combined weekly output saved. DATA_CHOLERA_DAILY: Directory combined daily output saved. keep_source Character; one \"\", \"JHU\", \"SUPP\". duplicate countryâ€“week entries occur across sources, entry keep_source used preferentially.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_cholera_surveillance_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure â€” process_cholera_surveillance_data","text":"Invisibly returns NULL. Side effects: Reads weekly CSVs three sources adds source column. Cleans rows missing key grouping fields (iso_code, year, week). Harmonizes columns keeping present three dataframes. Deduplicates iso_code, year, week, choosing rows keep_source. Creates truly square data structure country-week combinations min max date (missing data = NA). Saves combined weekly data PATHS$DATA_CHOLERA_WEEKLY/cholera_surveillance_weekly_combined.csv. Downscales weekly cases deaths daily counts, preserving square structure (keeping days NA), carries source. Saves combined daily data PATHS$DATA_CHOLERA_DAILY/cholera_surveillance_daily_combined.csv.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_climate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process and Aggregate Climate Data for Each Country â€” process_climate_data","title":"Process and Aggregate Climate Data for Each Country â€” process_climate_data","text":"function processes climate data downloaded using download_climate_data function. creates three aggregated datasets: daily, weekly, monthly, country saves Parquet files country ISO code included file name.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_climate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process and Aggregate Climate Data for Each Country â€” process_climate_data","text":"","code":"process_climate_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_climate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process and Aggregate Climate Data for Each Country â€” process_climate_data","text":"PATHS list containing paths climate data stored processed. Typically generated get_paths() function include: DATA_RAW: Path directory raw climate data stored. DATA_CLIMATE: Path directory processed climate data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_climate_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process and Aggregate Climate Data for Each Country â€” process_climate_data","text":"function return value. processes climate data saves daily, weekly, monthly aggregated datasets country Parquet format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"function processes global country similarity distance matrix extracts subset African countries, normalizes country names, matches ISO3 codes. resulting matrix African countries saved CSV file. Country similarity data comes Objective Lists Country Similarity Index.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"","code":"process_country_similarity_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"PATHS list containing paths raw processed data stored. Typically generated get_paths() function, include: DATA_RAW: Path directory containing raw similarity matrix data. DATA_SIMILARITY_MATRIX: Path directory processed African similarity matrix saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"function saves processed similarity matrix African countries specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"function performs following steps: Loads global similarity distance matrix CSV file. Normalizes country names title case replaces non-standard names like \"Ivory Coast\" \"CÃ´te d'Ivoire\" match ISO3 country standards. Subsets matrix include African countries, based ISO3 codes provided MOSAIC::iso_codes_africa. Outputs CSV file containing similarity matrix African countries, row column names ISO3 format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_country_similarity_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Country Similarity Data for African Countries â€” process_country_similarity_data","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage to process the country similarity matrix for African countries PATHS <- get_paths() process_country_similarity_data(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process UN World Prospects Data for African Countries â€” process_demographics_data","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"function processes demographic data UN World Population Prospects African countries. filters data specified years, calculates population, birth rates, death rates per day, saves processed data CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"","code":"process_demographics_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"PATHS list containing paths raw processed data stored. PATHS typically output get_paths() function include following components: DATA_RAW: Path directory containing raw UN World Population Prospects data. DATA_PROCESSED: Path directory processed demographic data saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"function return value. processes UN demographic data saves aggregated results CSV file specified directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"function performs following steps: Loads raw demographic data CSV file. Filters data specified years African countries. Calculates population, birth rate, death rate per day country. Saves processed data CSV file processed data directory. processed data file saved PATHS$DATA_PROCESSED/demographics/ directory, filename includes year range data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_demographics_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process UN World Prospects Data for African Countries â€” process_demographics_data","text":"","code":"if (FALSE) { # Define paths for raw and processed data using get_paths() PATHS <- get_paths()  # Process the UN World Prospects data and save the results process_demographics_data(PATHS) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_suitability_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","title":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","text":"function loads climate data, ENSO data, weekly cholera cases data, processes , merges dataset estimate environmental suitability cholera transmission based various environmental factors. also creates binary environmental suitability indicator based case patterns.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_suitability_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","text":"","code":"process_suitability_data(   PATHS,   cutoff,   use_epidemic_peaks = FALSE,   date_start = NULL,   date_stop = NULL,   forecast_mode = TRUE,   forecast_horizon = 3,   include_lags = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_suitability_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","text":"PATHS list containing paths data stored. Typically generated get_paths() function include: DATA_CLIMATE: Path directory processed climate data stored. DATA_ENSO: Path directory ENSO data stored. DATA_CHOLERA_WEEKLY: Path directory containing processed combined weekly cholera cases data (+JHU+SUPP sources). cutoff Numeric threshold case counts. Used use_epidemic_peaks = FALSE. Weeks cases >= cutoff considered outbreak periods environmental suitability calculation. Default behavior uses value create binary indicator. use_epidemic_peaks Logical. TRUE, uses epidemic peak periods est_epidemic_peaks() define environmental suitability using exact peak_start peak_stop dates. Provides deterministic outbreak detection without modifications lead-periods. Default FALSE backwards compatibility. date_start Optional start year data filtering. NULL, automatically determined case data (one year prior earliest case observation). date_stop Optional end year data filtering. NULL, automatically determined latest ENSO data availability. forecast_mode Logical. TRUE, includes variables can support forecasting specified horizon. Excludes case-dependent epidemic memory spatial import pressure variables. Default TRUE. forecast_horizon Numeric. Forecasting horizon months. Variables dependent surveillance data beyond horizon excluded forecast mode. Default 3 months. include_lags Logical. TRUE, includes time-lagged climate variables epidemiologically-informed lag periods specific variable. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_suitability_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","text":"function processes data merges climate, ENSO, cholera cases data single dataset. creates cases_binary column indicating environmental suitability based case patterns using sophisticated temporal logic. processed dataset saved CSV file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_suitability_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Environmental Suitability Data for Cholera Transmission â€” process_suitability_data","text":"function performs following key steps: Loads merges climate data (temperature, precipitation, etc.) multiple countries Loads ENSO DMI climate index data Loads combined weekly cholera case surveillance data , JHU, supplemental sources Merges datasets country, year, week Creates environmental suitability indicator (cases_binary) using either epidemic peak-based threshold-based methods Saves complete merged dataset use environmental suitability modeling Environmental Suitability Methods: Epidemic Peak-based (use_epidemic_peaks = TRUE): Uses deterministic outbreak detection est_epidemic_peaks() using exact peak_start peak_stop dates without modifications Threshold-based (use_epidemic_peaks = FALSE): Uses simple case count cutoffs temporal lead-logic epidemic peak-based method provides deterministic, epidemiologically meaningful outbreak periods recommended consistent environmental suitability modeling.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"function processes cholera vaccination request data, converting information format suitable use cholera model. filters data, converts country names ISO codes, extracts relevant time variables year, month, week. resulting data written CSV file containing vaccination rate parameters modeling.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"","code":"process_vaccination_data(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"PATHS list file paths, include following elements: DATA_SCRAPE_GTFCC Path folder containing scraped GTFCC data. MODEL_INPUT Path folder processed vaccination parameter file saved.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"Saves CSV file containing processed vaccination data parameter values modeling. function return R object.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"function performs following steps: Reads vaccination request data CSV file. Converts country names ISO codes using MOSAIC::convert_country_to_iso function. Filters data include events labeled \"Round\" ensures data contains valid ISO country codes MOSAIC::iso_codes_mosaic list. Extracts relevant time variables year, month, ISO week vaccination event dates. Prepares parameter data frame using MOSAIC::make_param_df function, representing vaccination rate (parameter \"nu\") time, doses vaccines administered. Writes resulting parameter data frame CSV file use cholera modeling.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/process_vaccination_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process Vaccination Data for Cholera Model â€” process_vaccination_data","text":"","code":"if (FALSE) { PATHS <- list(   DATA_SCRAPE_GTFCC = \"path/to/scraped/data\",   MODEL_INPUT = \"path/to/model/input\" ) process_vaccination_data(PATHS) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/qgompertz.html","id":null,"dir":"Reference","previous_headings":"","what":"Gompertz Distribution Quantile Function â€” qgompertz","title":"Gompertz Distribution Quantile Function â€” qgompertz","text":"Compute quantile function (inverse CDF) Gompertz distribution.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/qgompertz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gompertz Distribution Quantile Function â€” qgompertz","text":"","code":"qgompertz(p, b, eta, lower.tail = TRUE, log.p = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/qgompertz.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gompertz Distribution Quantile Function â€” qgompertz","text":"p Numeric vector. Probabilities [0,1]. b Numeric. Shape parameter (b > 0). eta Numeric. Rate parameter (eta > 0). lower.tail Logical. TRUE, probabilities P(X <= x). log.p Logical. TRUE, probabilities given log(p).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/qgompertz.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gompertz Distribution Quantile Function â€” qgompertz","text":"Numeric vector quantiles.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_hdf5_to_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Read an HDF5 File into an R List â€” read_hdf5_to_list","title":"Read an HDF5 File into an R List â€” read_hdf5_to_list","text":"Reads HDF5 file (supports .h5 .h5.gz formats) named R list.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_hdf5_to_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read an HDF5 File into an R List â€” read_hdf5_to_list","text":"","code":"read_hdf5_to_list(file_path)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_hdf5_to_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read an HDF5 File into an R List â€” read_hdf5_to_list","text":"file_path Path .h5 .h5.gz file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_hdf5_to_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read an HDF5 File into an R List â€” read_hdf5_to_list","text":"named R list representing hierarchical structure HDF5 file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a JSON File into an R List â€” read_json_to_list","title":"Read a JSON File into an R List â€” read_json_to_list","text":"Reads JSON file (optionally compressed gzip) converts named R list.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a JSON File into an R List â€” read_json_to_list","text":"","code":"read_json_to_list(file_path)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a JSON File into an R List â€” read_json_to_list","text":"file_path character string specifying full file path input JSON file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a JSON File into an R List â€” read_json_to_list","text":"named R list containing data JSON file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read a JSON File into an R List â€” read_json_to_list","text":"function first verifies specified file exists. file name ends \".gz\" (ignoring case), assumed gzipped read using gzfile connection. Otherwise, file read directly. JSON text parsed jsonlite::fromJSON() R list.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_json_to_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a JSON File into an R List â€” read_json_to_list","text":"","code":"if (FALSE) { # \\dontrun{   # Read from a plain JSON file.   data_list <- read_json_to_list(\"output.json\")   print(data_list)    # Read from a gzipped JSON file.   data_list_gz <- read_json_to_list(\"output.json.gz\")   print(data_list_gz) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_model_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","title":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","text":"function provides standardized reading JSON files, options simplification.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_model_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","text":"","code":"read_model_json(path, simplify = FALSE, validate = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_model_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","text":"path Input file path simplify Whether simplify vectors (default FALSE consistency) validate Logical; whether validate structure reading (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_model_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","text":"List object containing parsed JSON","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_model_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read priors or posteriors from JSON with consistent parsing â€” read_model_json","text":"","code":"if (FALSE) { # \\dontrun{ # Read priors priors <- read_model_json(\"priors.json\")  # Read with simplification (not recommended for priors/posteriors) data <- read_model_json(\"data.json\", simplify = TRUE) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"Reads Python-compatible .obj .obj.gz file converts back R list.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"","code":"read_obj_to_list(file_path)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"file_path character string specifying full file path .obj .obj.gz file load.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"named R list containing data .obj file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"function uses sciris.sc.load() Python read .obj file, converted back R list using reticulate::py_to_r(). file compressed (.obj.gz), automatically decompressed. function assumes virtual Python environment already activated via .onAttach().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_obj_to_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a Python-Compatible Object File into an R List â€” read_obj_to_list","text":"","code":"if (FALSE) {   # Load an uncompressed .obj file   params <- read_obj_to_list(\"config.obj\")    # Load a compressed .obj.gz file   params_gz <- read_obj_to_list(\"config.obj.gz\")    # Inspect contents   str(params) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a YAML File into an R List â€” read_yaml_to_list","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"Reads YAML file converts contents named R list.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"","code":"read_yaml_to_list(file_path)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"file_path character string specifying full file path input YAML file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"named R list containing data read YAML file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"function reads YAML file disk. file gzipped (.e., name ends .gz), file decompressed fly using connection opened gzfile(). YAML content parsed using yaml::read_yaml() yaml::yaml.load().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/read_yaml_to_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a YAML File into an R List â€” read_yaml_to_list","text":"","code":"if (FALSE) { # \\dontrun{   # Read from a plain YAML file.   input_file <- \"output.yaml\"   data_list <- read_yaml_to_list(file_path = input_file)   print(data_list)    # Read from a gzipped YAML file.   input_file_gz <- \"output.yaml.gz\"   data_list_gz <- read_yaml_to_list(file_path = input_file_gz)   print(data_list_gz) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_MOSAIC_python_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove the MOSAIC Python Environment â€” remove_MOSAIC_python_env","title":"Remove the MOSAIC Python Environment â€” remove_MOSAIC_python_env","text":"function checks whether MOSAIC Python conda environment exists \"~/.MOSAIC_conda_env\". exists, unlinks reticulate, removes directory, resets RETICULATE_PYTHON global variable.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_MOSAIC_python_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove the MOSAIC Python Environment â€” remove_MOSAIC_python_env","text":"","code":"remove_MOSAIC_python_env(force = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_MOSAIC_python_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove the MOSAIC Python Environment â€” remove_MOSAIC_python_env","text":"force Logical. TRUE, removes environment without prompting confirmation. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_MOSAIC_python_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove the MOSAIC Python Environment â€” remove_MOSAIC_python_env","text":"return value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_python_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove the MOSAIC Python Environment â€” remove_python_env","title":"Remove the MOSAIC Python Environment â€” remove_python_env","text":"function checks whether MOSAIC Python conda environment exists \"~/.MOSAIC_conda_env\". exists, unlinks reticulate, removes directory, resets RETICULATE_PYTHON global variable.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_python_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove the MOSAIC Python Environment â€” remove_python_env","text":"","code":"remove_python_env(force = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_python_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove the MOSAIC Python Environment â€” remove_python_env","text":"force Logical. TRUE, removes environment without prompting confirmation. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/remove_python_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove the MOSAIC Python Environment â€” remove_python_env","text":"return value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/rgompertz.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Random Gompertz Variates â€” rgompertz","title":"Generate Random Gompertz Variates â€” rgompertz","text":"Generate random variates Gompertz distribution parameters b eta. Uses inverse CDF method: Q(p) = (1/b) * log(1 + (-log(1-p))/eta)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/rgompertz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Random Gompertz Variates â€” rgompertz","text":"","code":"rgompertz(n, b, eta)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/rgompertz.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Random Gompertz Variates â€” rgompertz","text":"n Integer. Number random variates generate. b Numeric. Shape parameter (b > 0). eta Numeric. Rate parameter (eta > 0).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/rgompertz.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Random Gompertz Variates â€” rgompertz","text":"Numeric vector length n containing random Gompertz variates.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_LASER_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Run LASER Model Simulation â€” run_LASER_model","title":"Run LASER Model Simulation â€” run_LASER_model","text":"wrapper function execute LASER model simulation via Python interface (reticulate). Automatically suppresses NumPy divide--zero warnings can occur vaccination calculations susceptible exposed compartments zero.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_LASER_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run LASER Model Simulation â€” run_LASER_model","text":"","code":"run_LASER_model(   paramfile,   seed = 123L,   visualize = FALSE,   pdf = FALSE,   outdir = tempdir(),   py_module = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_LASER_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run LASER Model Simulation â€” run_LASER_model","text":"paramfile Character. Path LASER parameter file (e.g., YAML JSON) used configure simulation. seed Integer. Random seed reproducibility. Defaults 123L. visualize Logical. TRUE, generate display visualizations run. Defaults FALSE. pdf Logical. TRUE, save visualizations PDF files. Defaults FALSE. outdir Character. Directory LASER outputs (e.g., logs, results) written. Defaults temporary directory. py_module Python module. optional pre-loaded reticulate LASER module. NULL, module imported via reticulate::import(\"laser\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_LASER_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run LASER Model Simulation â€” run_LASER_model","text":"Python object (reticulate) representing LASER model simulation results.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_LASER_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run LASER Model Simulation â€” run_LASER_model","text":"","code":"if (FALSE) { # \\dontrun{ # Run with default settings: result <- run_LASER_model(   paramfile = \"path/to/laser_params.yml\",   seed      = 20250418L,   visualize = FALSE,   pdf       = FALSE,   outdir    = \"./laser_output\" )  # Inspect results: print(result) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"function launches Shiny app visualizes cholera cases, deaths, case fatality rate (CFR) countries AFRO region 1970 2024. Users can select metric (cases, deaths, CFR) filter specific countries.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"","code":"run_WHO_annual_data_app(PATHS)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"PATHS list containing paths processed cholera data file. Typically generated get_paths() function include: DATA_WHO_ANNUAL: Path directory containing processed cholera data file (e.g., who_afro_annual_1949_2024.csv).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"function creates Shiny app allows users explore cholera incidence data across AFRO countries 1970 2024. Users can choose viewing cases, deaths, CFR can select specific countries visualization. app generates bar plots cases deaths, point plots error bars CFR.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"function requires optional shiny package. Install : install.packages(\"shiny\")","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_WHO_annual_data_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run Shiny Application for Visualizing WHO Annual Cholera Data in AFRO Countries â€” run_WHO_annual_data_app","text":"","code":"if (FALSE) { # \\dontrun{ # Define paths for processed data PATHS <- get_paths()  # Run the cholera Shiny app run_WHO_annual_data_app(PATHS) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_npe_diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"Run NPE Diagnostics â€” run_npe_diagnostics","title":"Run NPE Diagnostics â€” run_npe_diagnostics","text":"Performs comprehensive diagnostics trained NPE model including coverage tests simulation-based calibration (SBC).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_npe_diagnostics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run NPE Diagnostics â€” run_npe_diagnostics","text":"","code":"run_npe_diagnostics(   model,   test_data = NULL,   n_test_samples = 200,   diagnostics = c(\"coverage\", \"sbc\"),   output_dir = NULL,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_npe_diagnostics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run NPE Diagnostics â€” run_npe_diagnostics","text":"model Trained NPE model object test_data Test data (NULL, uses subset training data) n_test_samples Number test samples diagnostics diagnostics diagnostics run output_dir Directory save diagnostic results verbose Print progress messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_npe_diagnostics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run NPE Diagnostics â€” run_npe_diagnostics","text":"List containing: coverage_50 - Coverage 50% credible interval coverage_80 - Coverage 80% credible interval sbc_pass_rate - Proportion parameters passing SBC needs_retraining - Whether model retrained detailed_results - Detailed diagnostic metrics","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"Display Shiny dashboard lets explore global human--human transmission coefficient (\\(\\beta_{\\text{hum}}\\)) together location-specific modifiers, incidence, population size WASH covariates. app intended quick visual sanity-check output produced est_transmission_spatial_structure() meant automated pipelines.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"","code":"run_spatial_transmission_shiny_app(mod)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"mod list produced est_transmission_spatial_structure(), containing least relative_multiplier, data, columns iso_code, incidence_total, population_size, WASH inside mod$data.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"(Invisibly) shiny.appobj returned [shinyApp]â€”function called side effect launching Shiny app default browser RStudio viewer.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"slider Global Beta sets baseline value \\(\\beta_{\\text{hum}}^{\\ast}\\), slider Variance Expansion Factor applies exponent \\(\\kappa\\) relative multiplier \\(m_j\\), producing site-specific coefficient $$\\beta_{\\text{hum},j} = \\beta_{\\text{hum}}^{\\ast} \\, m_j^{\\kappa}.$$ main panel organised 4 Ã— 2 layout created patchwork: Top row histogram current \\(\\beta_{\\text{hum},j}\\) values; dashed red line marks \\(\\beta_{\\text{hum}}^{\\ast}\\). Bottom row Four aligned strip plots, ordered \\(\\beta_{\\text{hum},j}\\): Relative multipliers \\(m_j\\); Site-specific \\(\\beta_{\\text{hum},j}\\); Incidence per population (\\(I_j / N_j\\)); WASH covariate value.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"side-effects","dir":"Reference","previous_headings":"","what":"Side Effects","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"Opens Shiny window blocks R session app running.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/run_spatial_transmission_shiny_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch an interactive viewer for site-specific \\(\\beta_{\\text{hum}}\\) â€” run_spatial_transmission_shiny_app","text":"","code":"if (FALSE) { # \\dontrun{   paths  <- list(MODEL_INPUT = tempdir())   config <- MOSAIC::config_default[1:3]          # toy example   fit    <- est_transmission_spatial_structure(paths, config)    ## Launch the interactive viewer (stop the app to regain the prompt):   run_spatial_transmission_shiny_app(fit) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"simplified unified function sample values prior distributions. Expects priors consistent structure $distribution $parameters slots.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"","code":"sample_from_prior(n = 1, prior, verbose = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"n Integer. Number samples draw (default: 1). prior List. Prior object containing 'distribution' 'parameters' slots. verbose Logical. TRUE, print warnings NULL invalid priors (default: FALSE).","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"Numeric vector length n containing samples prior distribution. Returns NA values prior NULL/invalid.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"simplified version expects every prior consistent structure: $distribution: Character string naming distribution type $parameters: List containing distribution parameters Supported distributions: beta: parameters$shape1, parameters$shape2 gamma: parameters$shape, parameters$rate lognormal: parameters$meanlog, parameters$sdlog parameters$mean, parameters$sd normal: parameters$mean, parameters$sd truncnorm: parameters$mean, parameters$sd, parameters$(lower bound), parameters$b (upper bound) uniform: parameters$min, parameters$max discrete_uniform: parameters$min, parameters$max (returns integers) gompertz: parameters$b, parameters$eta","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_from_prior.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample from Prior Distribution (Simplified) â€” sample_from_prior","text":"","code":"# Sample from a beta distribution prior_beta <- list(   distribution = \"beta\",   parameters = list(shape1 = 2, shape2 = 5) ) sample_from_prior(n = 10, prior = prior_beta) #>  [1] 0.10940744 0.32936690 0.07684005 0.21119152 0.32513663 0.44467714 #>  [7] 0.48580487 0.37734983 0.09207730 0.48267403  # Sample from a truncated normal distribution prior_truncnorm <- list(   distribution = \"truncnorm\",   parameters = list(mean = 0, sd = 1, a = -2, b = 2) ) sample_from_prior(n = 10, prior = prior_truncnorm) #>  [1] -0.3973745  0.3027850 -0.7890177  0.6191767  0.2162437  1.2112046 #>  [7]  0.4851827 -1.9091562 -0.2572875  0.3511449"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample Parameters from Prior Distributions â€” sample_parameters","title":"Sample Parameters from Prior Distributions â€” sample_parameters","text":"function samples parameter values prior distributions creates MOSAIC config file sampled values. supports distribution types used MOSAIC priors provides explicit control parameters sample.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample Parameters from Prior Distributions â€” sample_parameters","text":"","code":"sample_parameters(   PATHS = NULL,   priors = NULL,   config = NULL,   seed,   sample_args = NULL,   verbose = TRUE,   ... )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample Parameters from Prior Distributions â€” sample_parameters","text":"PATHS list containing paths various directories. NULL, use get_paths(). priors priors list object. NULL, use MOSAIC::priors_default. config config template list. NULL, use MOSAIC::config_default. seed Random seed reproducible sampling (required). sample_args Named list logical values controlling parameters sample. element named sample_[parameter] logical value. Available options include: sample_alpha_1: Population mixing within metapops (default TRUE) sample_alpha_2: Degree frequency driven transmission (default TRUE) sample_decay_days_long: Maximum V. cholerae survival (default TRUE) sample_decay_days_short: Minimum V. cholerae survival (default TRUE) sample_decay_shape_1: First Beta shape decay (default TRUE) sample_decay_shape_2: Second Beta shape decay (default TRUE) sample_epsilon: Immunity (default TRUE) sample_gamma_1: Recovery rate (default TRUE) sample_gamma_2: Recovery rate (default TRUE) sample_iota: Importation rate (default TRUE) sample_kappa: Spatial correlation (default TRUE) sample_mobility_gamma: Mobility parameter (default TRUE) sample_mobility_omega: Mobility parameter (default TRUE) sample_omega_1: Infection (default TRUE) sample_omega_2: Infection (default TRUE) sample_phi_1: Incubation (default TRUE) sample_phi_2: Incubation (default TRUE) sample_rho: Immunity waning (default TRUE) sample_sigma: Immunity (default TRUE) sample_zeta_1: Spatial (default TRUE) sample_zeta_2: Spatial (default TRUE) sample_beta_j0_tot: Total transmission rate (default TRUE) sample_p_beta: Proportion human--human transmission (default TRUE) sample_tau_i: Diffusion (default TRUE) sample_theta_j: WASH coverage (default TRUE) sample_a1: Seasonality (default TRUE) sample_a2: Seasonality (default TRUE) sample_b1: Seasonality (default TRUE) sample_b2: Seasonality (default TRUE) sample_mu_j: Location-specific case fatality ratio (default TRUE) sample_psi_star_a: Suitability calibration shape/gain (default TRUE) sample_psi_star_b: Suitability calibration scale/offset (default TRUE) sample_psi_star_z: Suitability calibration smoothing (default TRUE) sample_psi_star_k: Suitability calibration time offset (default TRUE) sample_initial_conditions: Initial condition proportions (default TRUE) NULL, parameters sampled (default behavior). verbose Logical indicating whether print progress messages. Default TRUE. ... Additional individual sample_* arguments backward compatibility. override values sample_args provided.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample Parameters from Prior Distributions â€” sample_parameters","text":"MOSAIC config list sampled parameter values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/sample_parameters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample Parameters from Prior Distributions â€” sample_parameters","text":"","code":"if (FALSE) { # \\dontrun{ # Sample all parameters (default) config_sampled <- sample_parameters(seed = 123)  # Sample only disease progression parameters using sample_args config_sampled <- sample_parameters(   seed = 123,   sample_args = list(     sample_mobility_omega = FALSE,     sample_mobility_gamma = FALSE,     sample_kappa = FALSE   ) )  # Backward compatibility: still works with individual arguments config_sampled <- sample_parameters(   seed = 123,   sample_mobility_omega = FALSE,   sample_mobility_gamma = FALSE,   sample_kappa = FALSE ) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Set OpenMeteo API Key â€” set_openmeteo_api_key","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"function sets OpenMeteo API key stores global option called openmeteo_api_key. API key provided argument, used. , function prompt key interactively.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"","code":"set_openmeteo_api_key(api_key = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"api_key character string representing OpenMeteo API key. NULL, function prompt key interactively.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"message confirming API key set, instructions retrieving key.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"API key stored global option called openmeteo_api_key using options(). key can retrieved time using getOption(\"openmeteo_api_key\").","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_openmeteo_api_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set OpenMeteo API Key â€” set_openmeteo_api_key","text":"","code":"# Set the OpenMeteo API key interactively set_openmeteo_api_key() #> Please enter your OpenMeteo API key:  #> Error in set_openmeteo_api_key(): API key cannot be empty. Please provide a valid API key.  # Set the OpenMeteo API key programmatically set_openmeteo_api_key(\"your-api-key-here\") #> OpenMeteo API key set successfully. #> Retrieve with getOption('openmeteo_api_key')  # Access the API key getOption(\"openmeteo_api_key\") #> [1] \"your-api-key-here\""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Root Directory â€” set_root_directory","title":"Set Root Directory â€” set_root_directory","text":"function sets root directory user-specified path , provided, prompts user enter root directory interactively. directory path stored global option called root_directory also returned.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Root Directory â€” set_root_directory","text":"","code":"set_root_directory(root = NULL)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Root Directory â€” set_root_directory","text":"root character string representing path root directory. NULL, function prompt user enter root directory interactively.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Root Directory â€” set_root_directory","text":"character string representing root directory. root directory also stored globally option root_directory.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set Root Directory â€” set_root_directory","text":"function uses either user-specified path path provided interactively set root directory. path validated ensure exists. validated, path stored global option root_directory, can accessed using getOption(\"root_directory\"). path invalid (.e., exist), function throws error.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/set_root_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Root Directory â€” set_root_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Set and display the root directory interactively root_dir <- set_root_directory() cat(\"Root directory:\", root_dir, \"\\n\")  # Set the root directory programmatically root_dir <- set_root_directory(\"/path/to/root\") cat(\"Root directory:\", root_dir, \"\\n\")  # Access the root directory from the global options getOption(\"root_directory\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Store Sampling Metadata in Config â€” store_sampling_metadata","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"Adds sampling flag metadata config object later retrieval matrix reconstruction. enables preservation sampling intent throughout parameter handling pipeline.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"","code":"store_sampling_metadata(config, ...)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"config Config object annotate ... Sampling flag arguments (e.g., sample_alpha_1 = FALSE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"Config object sampling metadata stored \\$sampling_metadata","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"function stores sampling flags used parameter generation can retrieved later reconstructing configs parameter matrices. metadata stored special field avoid conflicts model parameters.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/store_sampling_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Store Sampling Metadata in Config â€” store_sampling_metadata","text":"","code":"if (FALSE) { # \\dontrun{ config <- sample_parameters(PATHS, seed = 123, sample_alpha_1 = FALSE) config <- store_sampling_metadata(config, sample_alpha_1 = FALSE, sample_phi_1 = TRUE)  # Later retrieve the metadata sampling_flags <- extract_sampling_metadata(config) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_beta_fitting.html","id":null,"dir":"Reference","previous_headings":"","what":"Test the beta fitting function with vaccine effectiveness parameters â€” test_beta_fitting","title":"Test the beta fitting function with vaccine effectiveness parameters â€” test_beta_fitting","text":"Test beta fitting function vaccine effectiveness parameters","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_beta_fitting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test the beta fitting function with vaccine effectiveness parameters â€” test_beta_fitting","text":"","code":"test_beta_fitting()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_beta_fitting.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test the beta fitting function with vaccine effectiveness parameters â€” test_beta_fitting","text":"","code":"if (FALSE) { # \\dontrun{ # Test with phi_1 values from the vaccine effectiveness analysis phi_1_fit <- fit_beta_from_ci(   mode_val = 0.788,   ci_lower = 0.753,    ci_upper = 0.822,   method = \"optimization\",   verbose = TRUE )  # Test with phi_2 values phi_2_fit <- fit_beta_from_ci(   mode_val = 0.769,   ci_lower = 0.739,   ci_upper = 0.798,   method = \"optimization\",   verbose = TRUE )  # Plot the fitted distributions library(ggplot2)  x_vals <- seq(0, 1, length.out = 1000) df <- data.frame(   x = rep(x_vals, 2),   density = c(     dbeta(x_vals, shape1 = phi_1_fit$shape1, shape2 = phi_1_fit$shape2),     dbeta(x_vals, shape1 = phi_2_fit$shape1, shape2 = phi_2_fit$shape2)   ),   parameter = rep(c(\"phi_1\", \"phi_2\"), each = length(x_vals)) )  ggplot(df, aes(x = x, y = density, color = parameter)) +   geom_line(size = 1.5) +   theme_minimal() +   labs(title = \"Fitted Beta Distributions for Initial Vaccine Effectiveness\",        x = \"Initial effectiveness (phi)\",        y = \"Probability density\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_gamma_fitting.html","id":null,"dir":"Reference","previous_headings":"","what":"Test the gamma fitting function with vaccine effectiveness parameters â€” test_gamma_fitting","title":"Test the gamma fitting function with vaccine effectiveness parameters â€” test_gamma_fitting","text":"Test gamma fitting function vaccine effectiveness parameters","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_gamma_fitting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test the gamma fitting function with vaccine effectiveness parameters â€” test_gamma_fitting","text":"","code":"test_gamma_fitting()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/test_gamma_fitting.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test the gamma fitting function with vaccine effectiveness parameters â€” test_gamma_fitting","text":"","code":"if (FALSE) { # \\dontrun{ # Test with omega_1 values from the vaccine effectiveness analysis omega_1_fit <- fit_gamma_from_ci(   mode_val = 0.000705,   ci_lower = 0.000471,    ci_upper = 0.001107,   method = \"optimization\",   verbose = TRUE )  # Test with omega_2 values omega_2_fit <- fit_gamma_from_ci(   mode_val = 0.000337,   ci_lower = 0.0000984,   ci_upper = 0.000992,   method = \"optimization\",   verbose = TRUE )  # Plot the fitted distributions library(ggplot2)  x_vals <- seq(0, 0.002, length.out = 1000) df <- data.frame(   x = rep(x_vals, 2),   density = c(     dgamma(x_vals, shape = omega_1_fit$shape, rate = omega_1_fit$rate),     dgamma(x_vals, shape = omega_2_fit$shape, rate = omega_2_fit$rate)   ),   parameter = rep(c(\"omega_1\", \"omega_2\"), each = length(x_vals)) )  ggplot(df, aes(x = x, y = density, color = parameter)) +   geom_line(size = 1.5) +   theme_minimal() +   labs(title = \"Fitted Gamma Distributions for Vaccine Waning Rates\",        x = \"Waning rate (per day)\",        y = \"Probability density\") } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/train_npe.html","id":null,"dir":"Reference","previous_headings":"","what":"Train NPE Model â€” train_npe","title":"Train NPE Model â€” train_npe","text":"Trains normalizing flow model neural posterior estimation using v5.2 advanced features including transform ramping, guards, auto-tune.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/train_npe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Train NPE Model â€” train_npe","text":"","code":"train_npe(   X,   y,   weights = NULL,   bounds,   architecture,   output_dir,   n_epochs = 1000,   batch_size = 512,   learning_rate = 0.001,   validation_split = 0.15,   early_stopping = TRUE,   patience = 20,   use_gpu = FALSE,   seed = 42,   verbose = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/train_npe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Train NPE Model â€” train_npe","text":"X Matrix parameters (n_samples x n_params) y Matrix observations (n_samples x n_obs) weights Vector importance weights (NULL uniform) bounds Matrix parameter bounds (n_params x 2) architecture List architecture specification output_dir Directory save trained model n_epochs Maximum training epochs (default 1000) batch_size Batch size training (default 256) learning_rate Initial learning rate (default 1e-3) validation_split Proportion validation (default 0.2) early_stopping Use early stopping (default TRUE) patience Early stopping patience (default 10, reduced prevent overfitting) use_gpu Use GPU available (default FALSE stability) seed Random seed verbose Print progress","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/train_npe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Train NPE Model â€” train_npe","text":"Trained NPE model object","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/update_forecast_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Forecast JSON Files â€” update_forecast_json","title":"Update Forecast JSON Files â€” update_forecast_json","text":"Helper function programmatically update forecast JSON files. useful batch updates automated processes.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/update_forecast_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Forecast JSON Files â€” update_forecast_json","text":"","code":"update_forecast_json(   enso_forecasts = NULL,   dmi_forecasts = NULL,   last_updated = NULL,   expires_after = NULL )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/update_forecast_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Forecast JSON Files â€” update_forecast_json","text":"enso_forecasts Named list ENSO forecasts names ENSO34/ENSO3/ENSO4 values named vectors date keys (YYYY-MM) numeric values dmi_forecasts Named vector DMI forecasts date keys (YYYY-MM) numeric values last_updated Date string YYYY-MM-DD format (default: current date) expires_after Date string YYYY-MM-DD format (default: auto-calculated)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/update_forecast_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update Forecast JSON Files â€” update_forecast_json","text":"","code":"if (FALSE) { # \\dontrun{ # Update with new forecast data enso_data <- list(   ENSO34 = c(\"2025-03\" = -0.2, \"2025-04\" = -0.1),   ENSO3 = c(\"2025-03\" = -0.1, \"2025-04\" = 0.0),   ENSO4 = c(\"2025-03\" = 0.1, \"2025-04\" = 0.2) ) dmi_data <- c(\"2025-03\" = -0.1, \"2025-04\" = 0.0)  update_forecast_json(enso_data, dmi_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/use_mosaic_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Use MOSAIC Python Environment â€” use_mosaic_env","title":"Use MOSAIC Python Environment â€” use_mosaic_env","text":"Note: function maintained backward compatibility. new code, use attach_mosaic_env instead. Switches current R session use MOSAIC Python environment ~/.virtualenvs/r-mosaic. function attempts switch Python environments (like r-keras) MOSAIC environment.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/use_mosaic_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use MOSAIC Python Environment â€” use_mosaic_env","text":"","code":"use_mosaic_env()"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/use_mosaic_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use MOSAIC Python Environment â€” use_mosaic_env","text":"Invisible TRUE successful, FALSE otherwise.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/use_mosaic_env.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Use MOSAIC Python Environment â€” use_mosaic_env","text":"function attempts switch Python environment mid-session. Due reticulate limitations, Python already initialized different environment, complete switch may require restarting R. function provide appropriate guidance based current state. Recommended: Use attach_mosaic_env clearer semantics better error handling. Python environment now automatically attached load MOSAIC via library(MOSAIC).","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/use_mosaic_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use MOSAIC Python Environment â€” use_mosaic_env","text":"","code":"if (FALSE) { # \\dontrun{ # Old approach (still works) use_mosaic_env()  # New approach (recommended) attach_mosaic_env()  # Auto-attach on package load (no action needed) library(MOSAIC)  # Automatically attaches r-mosaic } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_priors_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate priors JSON structure â€” validate_priors_json","title":"Validate priors JSON structure â€” validate_priors_json","text":"Checks priors object file correct structure warns potential issues like array wrapping.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_priors_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate priors JSON structure â€” validate_priors_json","text":"","code":"validate_priors_json(priors_object, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_priors_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate priors JSON structure â€” validate_priors_json","text":"priors_object Priors object (list) file path (character) verbose Logical; whether print validation messages (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_priors_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate priors JSON structure â€” validate_priors_json","text":"TRUE valid (invisibly), otherwise stops error","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_priors_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate priors JSON structure â€” validate_priors_json","text":"","code":"if (FALSE) { # \\dontrun{ # Validate a priors file validate_priors_json(\"priors.json\")  # Validate a priors object validate_priors_json(priors_default) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_sampled_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Sampled Config â€” validate_sampled_config","title":"Validate Sampled Config â€” validate_sampled_config","text":"Helper function validate required parameters present sampled config valid values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_sampled_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Sampled Config â€” validate_sampled_config","text":"","code":"validate_sampled_config(config_sampled, verbose = TRUE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_sampled_config.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Sampled Config â€” validate_sampled_config","text":"config_sampled sampled config validate verbose Logical indicating whether print validation messages","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/validate_sampled_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Sampled Config â€” validate_sampled_config","text":"Logical indicating whether config valid","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Weighted quantiles â€” weighted_quantiles","title":"Weighted quantiles â€” weighted_quantiles","text":"Calculates weighted quantiles vector values using linear interpolation.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weighted quantiles â€” weighted_quantiles","text":"","code":"weighted_quantiles(x, w, probs)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weighted quantiles â€” weighted_quantiles","text":"x Numeric vector values w Numeric vector weights (length x) probs Numeric vector quantile probabilities (0 1)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Weighted quantiles â€” weighted_quantiles","text":"Vector weighted quantiles","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Weighted quantiles â€” weighted_quantiles","text":"Sorts values weights, calculates cumulative weight distribution, uses linear interpolation estimate quantiles specified probability levels.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_quantiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Weighted quantiles â€” weighted_quantiles","text":"","code":"x <- c(1, 2, 3, 4, 5) w <- c(0.1, 0.2, 0.4, 0.2, 0.1) weighted_quantiles(x, w, c(0.25, 0.5, 0.75)) #> [1] 1.75 2.50 3.25"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"Helper functions calculating weighted statistics used posterior parameter distribution analysis. Weighted variance calculation","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"","code":"weighted_var(x, w)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"x Numeric vector values w Numeric vector weights (length x)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"Weighted variance (scalar)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"Calculates bias-corrected weighted variance vector values. Uses bias correction: Var = sum(w * (x - mu)^2) / (sum(w) - sum(w^2)/sum(w)) mu weighted mean. Returns 0 single values invalid denominators.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/weighted_var.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Weighted Statistical Functions for Posterior Analysis â€” weighted_var","text":"","code":"x <- c(1, 2, 3, 4, 5) w <- c(0.1, 0.2, 0.4, 0.2, 0.1) weighted_var(x, w) #> [1] 1.621622"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_hdf5.html","id":null,"dir":"Reference","previous_headings":"","what":"Write an R list to an HDF5 file â€” write_list_to_hdf5","title":"Write an R list to an HDF5 file â€” write_list_to_hdf5","text":"Writes R list HDF5 file (.h5 .h5.gz) format.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_hdf5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write an R list to an HDF5 file â€” write_list_to_hdf5","text":"","code":"write_list_to_hdf5(   data_list,   file_path,   compress_chunks = FALSE,   compress_file = FALSE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_hdf5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write an R list to an HDF5 file â€” write_list_to_hdf5","text":"data_list named list containing data write. file_path character string specifying full file path, including file extension (.h5 .h5.gz). compress_chunks Logical. TRUE, applies internal dataset compression (level 9). compress_file Logical. TRUE, creates gzip-compressed copy (.gz) without removing original file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_hdf5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write an R list to an HDF5 file â€” write_list_to_hdf5","text":"value returned. Prints message upon successful writing.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Write an R List to a JSON File â€” write_list_to_json","title":"Write an R List to a JSON File â€” write_list_to_json","text":"Takes named R list writes JSON file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write an R List to a JSON File â€” write_list_to_json","text":"","code":"write_list_to_json(data_list, file_path, compress = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write an R List to a JSON File â€” write_list_to_json","text":"data_list named list containing data write. file_path character string specifying full file path output JSON file. compress Logical. TRUE, JSON written gzipped format file extension forced .json.gz. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write an R List to a JSON File â€” write_list_to_json","text":"function return value. prints message indicating file successfully written.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Write an R List to a JSON File â€” write_list_to_json","text":"function converts R list JSON text using jsonlite::toJSON() (pretty printing enabled) writes either plain text file gzipped file compress = TRUE. gzipped file created using connection opened gzfile().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write an R List to a JSON File â€” write_list_to_json","text":"","code":"if (FALSE) { # \\dontrun{   sample_data <- list(     group1 = list(       value1 = rnorm(100),       value2 = runif(100)     ),     group2 = list(       message = \"Hello, MOSAIC!\",       timestamp = Sys.time()     )   )    # Write to a plain JSON file.   output_file <- \"output.json\"   write_list_to_json(data_list = sample_data, file_path = output_file, compress = FALSE)    # Write to a gzipped JSON file.   output_file_gz <- \"output.json\"  # Note: the function will change this to output.json.gz   write_list_to_json(data_list = sample_data, file_path = output_file_gz, compress = TRUE)    # Load the plain JSON file to inspect its contents.   json_data <- jsonlite::read_json(output_file)   print(json_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":null,"dir":"Reference","previous_headings":"","what":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"Takes named R list writes Python-compatible .obj .obj.gz file, preserving dictionary-like structure.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"","code":"write_list_to_obj(data_list, file_path, compress = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"data_list named list containing data write. file_path character string specifying full file path output .obj .obj.gz file. compress Logical. TRUE, file saved gzip-compressed .obj.gz file. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"function return value. prints message indicating file successfully written.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"function converts R list Python-compatible dictionary using reticulate::r_to_py() writes .obj .obj.gz file using sciris.sc.save(). Since virtual Python environment already activated via .onAttach(), function assumes correct environment use. function leverages sciris.sc.save() file storage. Full documentation sciris.sc.save() can found : Sciris save() documentation","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_obj.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write an R List to a Python-Compatible Object â€” write_list_to_obj","text":"","code":"if (FALSE) {   sample_data <- list(     group1 = list(       value1 = rnorm(100),       value2 = runif(100)     ),     group2 = list(       message = \"Hello, MOSAIC!\",       timestamp = Sys.time()     )   )    # Write to an uncompressed Python-compatible object file.   output_file <- \"output.obj\"   write_list_to_obj(data_list = sample_data, file_path = output_file, compress = FALSE)    # Write to a compressed Python-compatible object file.   output_file_gz <- \"output.obj.gz\"   write_list_to_obj(data_list = sample_data, file_path = output_file_gz, compress = TRUE)    # Load in Python:   # import sciris as sc   # params = sc.load('output.obj.gz')   # print(params) }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":null,"dir":"Reference","previous_headings":"","what":"Write an R List to a YAML File â€” write_list_to_yaml","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"Takes named R list writes YAML file.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"","code":"write_list_to_yaml(data_list, file_path, compress = FALSE)"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"data_list named list containing data write. file_path character string specifying full file path output YAML file. compress Logical. TRUE, YAML written gzipped format file extension forced .yaml.gz. Default FALSE.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"function return value. prints message indicating file successfully written.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"function converts R list YAML text using yaml::.yaml() writes either plain text file gzipped file compress = TRUE. gzipped file created using connection opened gzfile().","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_list_to_yaml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write an R List to a YAML File â€” write_list_to_yaml","text":"","code":"if (FALSE) { # \\dontrun{   sample_data <- list(     group1 = list(       value1 = rnorm(100),       value2 = runif(100)     ),     group2 = list(       message = \"Hello, MOSAIC!\",       timestamp = Sys.time()     )   )    # Write to a plain YAML file.   output_file <- \"output.yaml\"   write_list_to_yaml(data_list = sample_data, file_path = output_file, compress = FALSE)    # Write to a gzipped YAML file.   output_file_gz <- \"output.yaml\"  # Note: the function will change this to output.yaml.gz   write_list_to_yaml(data_list = sample_data, file_path = output_file_gz, compress = TRUE)    # Load the plain YAML file to inspect its contents.   yaml_data <- yaml::read_yaml(output_file)   print(yaml_data) } # }"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"functions ensure consistent JSON formatting across codebase, particularly priors posteriors files. Write priors posteriors JSON consistent formatting","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"","code":"write_model_json(   object,   path,   type = c(\"priors\", \"posteriors\"),   validate = TRUE )"},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"object List object containing priors posteriors path Output file path type Either \"priors\" \"posteriors\" validation validate Logical; whether validate structure writing (default TRUE)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"Invisibly returns output path","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"function standardizes JSON output across MOSAIC package, ensuring consistent formatting auto_unbox = TRUE avoid array wrapping scalar values.","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/write_model_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardized JSON I/O utilities for MOSAIC model files â€” write_model_json","text":"","code":"if (FALSE) { # \\dontrun{ # Write priors with standardized formatting write_model_json(priors_default, \"priors.json\", type = \"priors\")  # Write posteriors write_model_json(posteriors, \"posteriors.json\", type = \"posteriors\") } # }"},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"improvements-0-13-5","dir":"Changelog","previous_headings":"","what":"Improvements","title":"MOSAIC 0.13.5","text":"Problem: Previously converted NAs 0, artificially introducing â€œcasesâ€ observations mislead model Solution: Linear interpolation within location preserves temporal trends Uses approx(method = \"linear\", rule = 1) interpolate interior NAs rule = 1 prevents extrapolation beyond data range (preserves boundaries) sets start/end NAs 0 interpolation impossible (surrounding data points) Applies independently location multi-location data Handles cases deaths time series Interior NAs interpolated: position 5 â†’ 25 (20 30), position 8 â†’ 45 (40 50) Boundary NAs set 0: positions 1-2 (first data), position 10 (last data) Impact: accurate representation missing data, better model training quality Reports number NAs interpolated vs.Â set 0 â€œInterpolated: Xâ€ shows successful linear interpolation â€œSet 0 (start/end): Yâ€ shows boundary NAs Files modified: R/npe_posterior.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-13-4","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.13.4","text":"Problem: PyTorch silently propagates NaN/Inf values network, causing cryptic training failures Root cause: validation input data (X, y, weights) tensor conversion Impact: parameters observations contain NAs/Infs (corrupted files, invalid samples, bugs), propagate silently cause losses become NaN Fix: Add explicit validation checks X (parameters), y (observations), weights tensor conversion (line 170-266 npe.R) anyNA(X) (!.finite(X)) - parameters matrix anyNA(y) (!.finite(y)) - observations matrix anyNA(weights) (!.finite(weights)) - weight vector data structure failed (X, y, weights) Whether NAs Infs found Affected rows columns (first 5-10 shown) Likely sources corruption Specific solutions diagnose fix Catches data corruption training starts (saves time) Clear diagnostic messages pinpoint exact problem Prevents silent NaN propagation network Helps identify upstream bugs data preparation Files modified: R/npe.R Note: addresses userâ€™s concern NA/NaN errors 25k evenly weighted samples (binary_retained) due numerical instability, rather data corruption","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-13-3","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.13.3","text":"Root cause: Validation loss became NA/NaN training, causing (val_loss < best_val_loss) comparison fail cryptic error Error: Error wrapup: missing value TRUE/FALSE needed followed recursive error abort Trigger: Low ESS (Kish: 1.2, Perplexity: 3.0) continuous_retained weight strategy causing numerical instability Fix: Add explicit NA/NaN checking train_loss val_loss early stopping comparison (line 384-405 npe.R) Impact: Now provides clear, actionable error message diagnostic information solutions epoch failed loss values Common causes (low ESS, weight concentration, architecture complexity) Specific solutions (try â€˜continuous_bestâ€™, use â€˜lightâ€™ tier, reduce learning rate) Files modified: R/npe.R Related: error masked recursive error handling - actual issue numerical instability degenerate weight distributions","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-13-2","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.13.2","text":"Root cause: Used jsonlite::fromJSON(..., simplifyVector = FALSE) loading config/priors disk, keeping JSON arrays R lists instead converting vectors Error: Even v0.13.1 fix get_npe_observed_data(), config$reported_cases still list, creating list columns data frames Fix: Replace jsonlite::fromJSON() read_json_to_list() (MOSAIC standard loader) 3 locations run_NPE.R (lines 244, 264, 284) Uses MOSAIC codebase standard JSON loading (consistent functions) Properly simplifies JSON arrays R vectors (simplifyVector = TRUE default) Supports gzipped JSON files maintainable consistent Impact: Resolves persistent CSV write errors run_NPE() standalone mode Files modified: R/run_NPE.R Verified: JSON loading, get_npe_observed_data(), CSV write succeed","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-13-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.13.1","text":"Root cause: config$location_name config$iso_code list (common LASER config format), single-bracket extraction location_names[1] returned list length 1 instead scalar, creating list columns data frames Error: Error utils::write.table(...): unimplemented type 'list' 'EncodeElement' writing observed_data.csv run_NPE() Fix: Convert location_names character vector using unlist() function start (line 1008) Fix: Changed location_names[index] location_names[[index]] scalar extraction (lines 1032, 1055, 1134) Impact: NPE workflow now handles list-type location identifiers correctly Files modified: R/npe_posterior.R (get_npe_observed_data function) Verified: CSV write succeeds, data frame structure correct, existing tests still pass","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"major-features-0-13-0","dir":"Changelog","previous_headings":"","what":"Major Features","title":"MOSAIC 0.13.0","text":"Complete NPE workflow extracted standalone function R/run_NPE.R (1000+ lines) Embedded mode: Runs inside run_MOSAIC() -memory objects (disk /O) Standalone mode: Runs independently calibration completes, loading disk Automatic mode detection based arguments provided Custom output_dir support experimenting multiple NPE strategies Root directory auto-detection getOption('root_directory') Full control object support NPE hyperparameters Complete error handling validation Post-hoc NPE without re-running expensive BFRS calibration Experiment different weight strategies (continuous_best, continuous_retained, etc.) Cleaner, maintainable code architecture Reusable custom workflows run_MOSAIC.R refactored: Replaced 300+ lines inline NPE code clean run_NPE() call (lines 1500-1523) Standalone examples added: vm/launch_mosaic.R now includes post-hoc NPE usage examples (lines 201-233) See function documentation: ?run_NPE","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"changes-0-11-5","dir":"Changelog","previous_headings":"","what":"Changes","title":"MOSAIC 0.11.5","text":"Function now always creates aggregate per-location plots default Removed argument: by_location (previously: â€œaggregateâ€, â€œâ€, â€œper_locationâ€) New behavior: Always creates comprehensive diagnostics (aggregate + per-location) Simplifies API - configuration needed plot output mode Legacy model mode still creates aggregate plots () Updated function signature: plot_model_ppc(predictions_dir, predictions_files, locations, model, output_dir, verbose) Updated call run_MOSAIC.R remove by_location argument","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-11-4","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.11.4","text":"Wrapped plot_model_ppc call run_MOSAIC tryCatch handle old package versions Issue: Clusters cached old package versions (pre-v0.11.0) different function signature Old signature: plot_model_ppc(model, output_dir, verbose) New signature: plot_model_ppc(predictions_dir, predictions_files, by_location, locations, model, output_dir, verbose) Solution: Try new signature first; â€œunused argumentsâ€ error, log warning skip PPC plots Prevents workflow crashing clusters need package reinstallation Fixed lines 1415-1441 run_MOSAIC.R Note: Users reinstall package cluster get full PPC functionality","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-25","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.25","text":"Fixed gsub order parameter name variant generation seasonality params Root cause: Wrong order gsub() calls generated incorrect variant â€œa1jâ€ instead â€œa1â€ Original: gsub(\"_j$\", \"\", gsub(\"_\", \"\", \"a_1_j\")) â†’ â€œa1jâ€ (WRONG) Fixed: gsub(\"_\", \"\", gsub(\"_j$\", \"\", \"a_1_j\")) â†’ â€œa1â€ (CORRECT) Impact: Prior/BFRS use a1, NPE uses a_1_j - variant â€œa1jâ€ didnâ€™t match either Plotting function now correctly finds seasonality params three JSONs Fixed lines 515-516 plot_model_distributions.R Result: three curves (Prior, BFRS, NPE) now appear seasonality parameters","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-23","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.23","text":"Added uniform distribution handling .fit_distribution() NPE posterior processing Root cause: Function handled beta, gamma, lognormal, normal - uniform dist_type=â€œuniformâ€, function fell normal case, setting mean/sd instead min/max Result: NPE posteriors.json {distribution: \"uniform\", parameters: []} Plotting function couldnâ€™t plot uniform without min/max parameters â†’ NPE curves missing Solution: Calculate min/max 1% 99% quantiles (robust outliers) + 1% buffer Fixed lines 1516-1528 npe_posterior.R Impact: NPE posteriors now appear distribution plots (Prior vs BFRS vs NPE)","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-20","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.20","text":"Modified calc_model_posterior_distributions() dynamically add parameters missing priors template Derived parameters (beta_j0_hum, beta_j0_env) now correctly added posteriors.json Root cause: Function used priors.json template, contains sampled parameters Solution: Dynamically create parameter structure derived parameters priors Handles multiple locations correctly (adds location â€™s processed) Fixed lines 391-420 calc_model_posterior_distributions.R Result: beta_j0_hum beta_j0_env now appear distributions_ETH_Prior_Posterior.pdf","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-19","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.19","text":"Changed distribution type â€œderivedâ€ â€œgammaâ€ estimated_parameters source data Derived rate parameters (beta_j0_hum, beta_j0_env) now fitted gamma distributions Background: beta_j0_hum = p_beta Ã— beta_j0_tot, beta_j0_env = (1 - p_beta) Ã— beta_j0_tot Previously marked â€œfailedâ€ â€œderivedâ€ distribution type unhandled Now appear distributions_ETH_Prior_Posterior.pdf alongside beta_j0_tot p_beta Fixed line 289 data-raw/make_estimated_parameters_inventory.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-17","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.17","text":"Corrected convergence metrics display diagnostic plots Fixed R/plot_model_convergence.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-15","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.15","text":"Fixed regression v0.10.14 targets[[\"ESS_min\"]] error element missing Root cause: safe_numeric() returned numeric(0) NULL inputs, causing elements dropped vectors Solution 1: Enhanced safe_numeric() check NULL empty vectors conversion Solution 2: Changed extraction [[ .numeric(x[\"name\"]) safe handling missing elements [[ throws error missing elements; .numeric(x[\"name\"]) returns NA safely Fixed plot_model_convergence.R plot_model_convergence_loss.R Now properly handles cases JSON diagnostics may missing target values","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-14","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.14","text":"Fixed â€œError formatting: ESS: %.0f [target >= %.0f]â€ messages convergence_diagnostic.pdf Root cause: Using single brackets metrics[\"ESS\"] returns named vector element, just value Solution: Changed double brackets metrics[[\"ESS\"]] extract raw values Fixed plot_model_convergence.R (lines 214-223, 330-336) plot_model_convergence_loss.R (lines 108-114) convergence metrics (ESS, , CVw, B) now format correctly diagnostic text","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-13","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.13","text":"Implemented automatic detection tiny values (< 0.001) posterior distributions Applied scientific notation formatting x-axis labels values < 0.001 Increased padding 10% 30% better visibility tiny value distributions Fixed 8 panels: Prior, Retained, Retained Weighted, Best Unweighted, Best Weighted, Caterpillar, Distributions (Empirical), Distributions (Theoretical) Root cause: E_initial I_initial epidemiologically correct tiny values (~10â»â· proportion, representing ~50-60 people population 126M), appeared flat lines plotted wide [0,1] axis Solution: Tight x-axis limits scientific notation (e.g., â€œ2.0e-07â€, â€œ4.0e-07â€, â€œ6.0e-07â€) Fixed throughout plot_model_posteriors_detail.R (lines 380-769) See claude/initial_EI_plotting_issue.md complete analysis","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-12","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.12","text":"Added explicit dplyr:: prefix slice() function call Fixes â€œfind function â€˜sliceâ€™â€ error Fixed line 908 plot_model_posteriors_detail.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-11","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.11","text":"Replaced / operator explicit patchwork::wrap_plots(ncol=1) calls Fixes â€œCanâ€™t find method generic /(e1, e2)â€ error S7 class system S7 intercepting patchwork / operator ggplot objects Using explicit wrap_plots() avoids operator dispatch conflicts Fixed lines 727-754 plot_model_posteriors_detail.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-10","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.10","text":"Removed density-based weighting caused double-weighting artifact NPE samples drawn directly posterior p(Î¸|x), uniform weights correct Using density weights creating effective distribution [p(Î¸|x)]Â² -emphasized high-density regions -represented uncertainty Now uses uniform weights (NULL) proper posterior predictive sampling Fixed lines 1679-1686 run_MOSAIC.R Impact: NPE ensemble predictions now appropriate uncertainty bands Theory: posterior predictive p(y|x) â‰ˆ (1/N) Î£ p(y|Î¸áµ¢) Î¸áµ¢ ~ p(Î¸|x) Density weights correct importance sampling q(Î¸) â‰  p(Î¸|x) See claude/npe_weighting_analysis.md complete theoretical analysis","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-9","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.9","text":"Added explicit ggplot2:: prefixes ggplot2 functions (68+ occurrences) Added grid:: prefix unit() calls Added arrow:: prefix read_parquet() Added patchwork:: prefixes wrap_plots() plot_layout() Added cowplot:: prefixes plot_grid() get_legend() Fixes â€œfind function â€˜geom_histogramâ€™â€ error Fixed throughout plot_model_posteriors_detail.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-8","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.8","text":"Replaced arbitrary -45/45 defaults -Inf/Inf match fitting function behavior Added intelligent plotting range selection infinite bounds Use mean Â± 4sd plotting range bounds infinite (covers 99.99%) Properly handle one-sided truncation (e.g., =-Inf, b=10) Format display strings show â€œInfâ€ infinite bounds Fixed lines 445-481 plot_model_distributions.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-7","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.7","text":"Fixed â€œmissing value TRUE/FALSE neededâ€ error truncated normal distribution Completed NA handling fix missed v0.10.6 Fixed truncnorm distribution lines 446-453 plot_model_distributions.R Now distribution types properly handle NULL parameters","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-6","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.6","text":"Fixed â€œmissing value TRUE/FALSE neededâ€ error plot_model_distributions() Replaced unsafe .numeric(NULL) pattern explicit NA_real_ conversion Fixed uniform, normal, gompertz distributions (lines 402-427) Prevents crashes parameter bounds NULL Replaced deprecated size= linewidth= geom_line() (14 instances) Replaced deprecated size= linewidth= geom_smooth() (2 instances) Replaced deprecated size= linewidth= element_line() (10 instances) Replaced deprecated size= linewidth= geom_vline() (6 instances) Fixed across 10 files: plot_generation_time.R, plot_vibrio_decay_rate.R, est_symptomatic_prop.R, plot_suspected_cases.R, plot_CFR_by_country.R, plot_vaccine_effectiveness.R, est_WASH_coverage.R, npe_plots.R, plot_africa_map.R, plot_model_distributions.R","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-5","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.5","text":"Removed references run_mosaic_iso() run_MOSAIC() documentation Fixes roxygen2 warnings unresolvable links Updated @description removed @seealso reference","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-4","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.4","text":"Added explicit ggplot2:: prefixes ggplot2 functions throughout function Fixes â€œfind function â€˜facet_wrapâ€™â€ error NPE training visualization Fixed throughout lines 1585-1768 including: facet_wrap, ggplot, aes, geom_smooth, geom_line, geom_vline, geom_point, geom_text, labs, theme_minimal, theme, theme element functions","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-3","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.3","text":"Added explicit ggplot2::ggsave() prefix two save locations Fixes â€œfind function â€˜ggsaveâ€™â€ error saving plots Fixed global parameters plot (line 834) location-specific plots (line 980)","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-2","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.2","text":"Added explicit ggplot2:: prefixes scale_x_continuous() ggplot2 functions Fixes â€œfind function â€˜scale_x_continuousâ€™â€ error create_multi_method_plot() Fixed three locations: main plot creation two legend plot sections Also added grid::unit() prefix grid package function","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-10-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.10.1","text":"Added explicit ggplot2:: prefixes ggplot2 functions Fixes â€œfind function â€˜geom_errorbarâ€™â€ error Functions imported NAMESPACE now called explicit prefix Affects global location-specific plotting sections","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"breaking-changes-0-10-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"MOSAIC 0.10.0","text":"Moved run_mosaic_iso() deprecated/ directory (use run_MOSAIC() directly) Stripped ESS calculation: removed conditional skipping, verbose summaries Stripped convergence diagnostics: removed section banners, verbose logging Stripped posterior sections: removed verbose progress, set verbose=FALSE everywhere Stripped PPC sections: removed conditional checks, verbose status messages Stripped parameter uncertainty: removed ensemble logging Stripped NPE section: removed 66 log_msg calls, verbose diagnostics, section banners Stripped POST-HOC optimization: removed tier--tier logging, convergence messages Stripped WEIGHTS section: removed detailed ESS/temperature logging Removed major section banners (80Ã— â€˜=â€™ decorative headers) Pattern applied: calculate â†’ write â†’ log filepath (defensive checks) Total: removed 180+ verbose log_msg calls 90+ section banners Result: 284 lines removed (2441 â†’ 2157 lines, 12% reduction)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"deprecations-0-10-0","dir":"Changelog","previous_headings":"","what":"Deprecations","title":"MOSAIC 0.10.0","text":"run_mosaic_iso() - Use run_MOSAIC() get_location_config() get_location_priors() instead","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-9-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.9.1","text":"Removed cleanup line 1204 occurred calc_convergence_diagnostics() call Variable now retained convergence diagnostics calculated Fixes â€œobject â€˜ess_resultsâ€™ foundâ€ error runtime","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"breaking-changes-0-9-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"MOSAIC 0.9.0","text":"Removed validation wrapper around calc_convergence_diagnostics() (90 lines â†’ 30 lines) Removed tryCatch blocks around plotting functions (10+ instances) Removed tryCatch around calc_model_posterior_quantiles() Removed tryCatch around calc_model_posterior_distributions() Removed tryCatch around sample_parameters() best model Removed tryCatch around lc$run_model() best model Removed tryCatch around plot_model_fit_stochastic() related plotting Removed defensive -else wrapper around NPE posterior samples processing Functions now fail fast clear error messages source Impact: Errors stop execution immediately rather continuing NA/NULL values Benefit: Much easier debug - errors show exactly problem Note: Parallel worker tryCatch blocks retained (essential batch processing)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"why-this-change-0-9-0","dir":"Changelog","previous_headings":"","what":"Why This Change?","title":"MOSAIC 0.9.0","text":"Excessive defensive programming masking real errors making debugging extremely difficult. new fail-fast approach: - âœ… Errors happen source clear tracebacks - âœ… Simpler code flow â€™s easier understand maintain - âœ… Forces fixing root causes instead papering problems - âœ… Better research/development workflows - âœ… Reduces code complexity (~150+ lines error handling removed) encounter errors upgrading: errors always , just hidden. Fix underlying issue rather relying fallback behavior.","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-8-9","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.8.9","text":"Added defensive initialization ess_results NULL parameter-specific ESS calculation Prevents â€œobject foundâ€ error debugging code execution interrupted Variable properly set later based sample availability (lines 1161 1164)","code":""},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"bug-fixes-0-8-8","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"MOSAIC 0.8.8","text":"Corrected threshold expectations â€œlower betterâ€ metrics (CVw) Changed test values properly demonstrate warn status (within 120-200% target) Updated helper function tests use MOSAIC::: internal function access 70 tests now pass","code":""},{"path":[]},{"path":[]},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"initial-conditions-sampling-development-version","dir":"Changelog","previous_headings":"New Features","what":"Initial Conditions Sampling","title":"MOSAIC (development version)","text":"prop_S_initial: Beta(30, 7.5) - mean 80% susceptible prop_V1_initial: Beta(0.5, 49.5) - mean 1% one-dose vaccination prop_V2_initial: Beta(0.5, 99.5) - mean 0.5% two-dose vaccination prop_E_initial: Beta(0.01, 9999.99) - mean 0.0001% exposed prop_I_initial: Beta(0.01, 9999.99) - mean 0.0001% infected prop_R_initial: Beta(3.5, 14) - mean 20% recovered/immune New sample_initial_conditions argument control IC sampling Automatic normalization compartment proportions sum 1.0 Proper conversion proportions integer counts Rounding error adjustment ensure exact population totals Added â€œinitial_conditions_onlyâ€ pattern sampling just ICs Support new sample_initial_conditions flag","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"data-updates-development-version","dir":"Changelog","previous_headings":"","what":"Data Updates","title":"MOSAIC (development version)","text":"Renamed priors data object priors_default match naming convention config_default Updated priors_default data object include initial condition priors 40 African countries Priors now available R data format (data/priors_default.rda) JSON (inst/extdata/priors.json)","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"documentation-development-version","dir":"Changelog","previous_headings":"","what":"Documentation","title":"MOSAIC (development version)","text":"Added comprehensive documentation priors_default data object Updated sample_parameters() documentation reflect IC sampling capability Added examples demonstrating initial conditions sampling workflow","code":""},{"path":"https://institutefordiseasemodeling.github.io/MOSAIC-pkg/news/index.html","id":"internal-changes-development-version","dir":"Changelog","previous_headings":"","what":"Internal Changes","title":"MOSAIC (development version)","text":"Added sample_initial_conditions_impl() internal function IC sampling logic Updated NAMESPACE import required stats functions (rbeta, rgamma, rlnorm, rnorm, runif)","code":""}]
