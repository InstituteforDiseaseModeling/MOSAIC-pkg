% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_model_R2.R
\name{calc_model_R2}
\alias{calc_model_R2}
\title{Coefficient of Determination (R-squared) Between Observed and Estimated Series}
\usage{
calc_model_R2(
  observed,
  estimated,
  method = c("sse", "corr"),
  bounded = FALSE,
  na_rm = TRUE,
  finite_only = TRUE,
  weights = NULL,
  verbose = FALSE
)
}
\arguments{
\item{observed}{Numeric vector or matrix.}

\item{estimated}{Numeric vector or matrix (same length after flattening).}

\item{method}{One of \code{"sse"} (default) or \code{"corr"}.}

\item{bounded}{Logical; if \code{TRUE}, clamp the result to \eqn{[0,1]}. Default \code{FALSE}.}

\item{na_rm}{Logical; drop NA pairs. Default \code{TRUE}.}

\item{finite_only}{Logical; drop non-finite values. Default \code{TRUE}.}

\item{weights}{Optional non-negative weights (used for \code{method="sse"} and weighted Pearson in \code{"corr"}).}

\item{verbose}{Logical; if \code{TRUE}, emit brief diagnostics.}
}
\value{
Scalar \eqn{R^2}. May be negative for \code{method="sse"} unless \code{bounded=TRUE}.
}
\description{
Computes \eqn{R^2} between an observed series and model estimates.
Supports two definitions:
\itemize{
\item \code{method = "sse"} (default): \eqn{R^2 = 1 - \mathrm{SSE}/\mathrm{SST}} with optional weights.
This can be \emph{negative} when the model underperforms the intercept-only baseline.
\item \code{method = "corr"}: \eqn{R^2 = \mathrm{cor}(y,\hat y)^2} (Pearson), always in \eqn{[0,1]}.
}
}
\seealso{
\code{\link[=calc_model_mse]{calc_model_mse()}}, \code{\link[=calc_model_cor]{calc_model_cor()}}
}
