% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_model_convergence.R,
%   R/calc_model_convergence_loss.R
\name{calc_model_agreement_index}
\alias{calc_model_agreement_index}
\title{Agreement index A based on entropy of weights}
\usage{
calc_model_agreement_index(w)

calc_model_agreement_index(w)
}
\arguments{
\item{w}{Numeric vector of weights (raw or normalized). Only strictly positive entries form \eqn{\mathcal B}.
Internally normalized within \eqn{\mathcal B}; larger \eqn{A} is better.}
}
\value{
A list with \code{A} (agreement index in \[0,1\]), \code{H} (entropy), and \code{B_size} (retained set size).

A list with \code{A} (agreement index in \[0,1\]), \code{H} (entropy), and \code{B_size} (set size).
}
\description{
For the retained set \eqn{\mathcal B = \{i : w_i > 0\}},
computes entropy \eqn{H(\tilde{\mathbf w}) = -\sum_{i\in \mathcal B}\tilde w_i \log \tilde w_i}
and \eqn{A = H(\tilde{\mathbf w}) / \log|\mathcal B|}, with the convention
\eqn{A=0} when \eqn{|\mathcal B| \le 1}.

For the set \eqn{\mathcal B = \{i : w_i > 0\}},
computes entropy \eqn{H(\tilde{\mathbf w}) = -\sum_{i\in \mathcal B}\tilde w_i \log \tilde w_i}
and \eqn{A = H(\tilde{\mathbf w}) / \log|\mathcal B|}, with the convention
\eqn{A=0} when \eqn{|\mathcal B| \le 1}.
}
\examples{
set.seed(1)
ll <- 1000 + rnorm(200, sd = 3)
d  <- calc_model_aic_delta(ll)
aw <- calc_model_akaike_weights(d)
calc_model_agreement_index(aw$w)

set.seed(1)
loss <- 1000 + rnorm(200, sd = 3)
dL  <- calc_model_loss_delta(loss)
gw  <- calc_gibbs_weights(dL)
# pretend top 10 are "B"
wB <- gw$w; wB[-order(loss)[1:10]] <- 0
calc_model_agreement_index(wB)

}
\seealso{
\code{\link[=calc_model_convergence]{calc_model_convergence()}}

\code{\link[=calc_model_convergence_loss]{calc_model_convergence_loss()}}

Other calibration-metrics: 
\code{\link{calc_gibbs_weights}()},
\code{\link{calc_model_aic_delta}()},
\code{\link{calc_model_akaike_weights}()},
\code{\link{calc_model_convergence}()},
\code{\link{calc_model_convergence_loss}()},
\code{\link{calc_model_cvw}()},
\code{\link{calc_model_ess}()},
\code{\link{calc_model_loss_delta}()},
\code{\link{calc_model_max_weight}()},
\code{\link{plot_model_convergence}()},
\code{\link{select_best_by_loss_band}()}

Other calibration-metrics: 
\code{\link{calc_gibbs_weights}()},
\code{\link{calc_model_aic_delta}()},
\code{\link{calc_model_akaike_weights}()},
\code{\link{calc_model_convergence}()},
\code{\link{calc_model_convergence_loss}()},
\code{\link{calc_model_cvw}()},
\code{\link{calc_model_ess}()},
\code{\link{calc_model_loss_delta}()},
\code{\link{calc_model_max_weight}()},
\code{\link{plot_model_convergence}()},
\code{\link{select_best_by_loss_band}()}
}
\concept{calibration-metrics}
