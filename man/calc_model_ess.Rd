% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_model_ess.R
\name{calc_model_ess}
\alias{calc_model_ess}
\title{Calculate Effective Sample Size (ESS)}
\usage{
calc_model_ess(w, method = c("kish", "perplexity"), na_rm = TRUE)
}
\arguments{
\item{w}{Numeric vector of nonnegative weights (normalized or not).}

\item{method}{Character string specifying the calculation method:
\code{"kish"} (default) or \code{"perplexity"}.}

\item{na_rm}{Logical; remove non-finite entries in \code{w}. Default \code{TRUE}.}
}
\value{
Numeric scalar: the effective sample size.
}
\description{
Computes the effective sample size using either the Kish formula or
the perplexity (entropy-based) method.
}
\details{
Two methods are available:

\strong{Kish method} (\code{method = "kish"}):
Uses the standard Kish ESS formula: \eqn{\mathrm{ESS} = (\sum w)^2 / \sum w^2}.
This provides a measure of how much information is retained when using weighted
samples compared to an unweighted sample of the same size.

\strong{Perplexity method} (\code{method = "perplexity"}):
Uses the exponential of the entropy: \eqn{\mathrm{ESS} = \exp(-\sum w_i \log w_i)},
where weights are first normalized to sum to 1. This measures the effective number
of models based on the entropy of the weight distribution. Also known as the
perplexity or exponential entropy.

Both methods yield values between 1 (all weight on one model) and \eqn{n}
(uniform weights), but they measure slightly different aspects of weight
concentration. The Kish formula is more commonly used in survey sampling,
while perplexity is common in information theory and model averaging.
}
\examples{
# Uniform weights
w_uniform <- rep(1/10, 10)
calc_model_ess(w_uniform, method = "kish")       # 10
calc_model_ess(w_uniform, method = "perplexity") # 10

# Concentrated weights
w_conc <- c(0.9, rep(0.01, 10))
calc_model_ess(w_conc, method = "kish")       # ~1.2
calc_model_ess(w_conc, method = "perplexity") # ~1.5

}
\references{
Kish, L. (1965). \emph{Survey Sampling}. Wiley.
}
\seealso{
Other calibration-metrics: 
\code{\link{calc_convergence_diagnostics}()},
\code{\link{calc_model_agreement_index}()},
\code{\link{calc_model_aic_delta}()},
\code{\link{calc_model_akaike_weights}()},
\code{\link{calc_model_convergence}()},
\code{\link{calc_model_cvw}()},
\code{\link{calc_model_max_weight}()},
\code{\link{plot_model_convergence}()}
}
\concept{calibration-metrics}
