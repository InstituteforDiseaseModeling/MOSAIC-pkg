% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_model_posterior_distributions.R
\name{calc_model_posterior_distributions}
\alias{calc_model_posterior_distributions}
\title{Calculate Model Posterior Distributions from Quantiles}
\usage{
calc_model_posterior_distributions(
  quantiles_file = "./results/posterior_quantiles.csv",
  priors_file,
  output_dir = "./results",
  verbose = TRUE
)
}
\arguments{
\item{quantiles_file}{Path to the posterior_quantiles.csv file (default: "./results/posterior_quantiles.csv")}

\item{priors_file}{Path to the priors.json file to use as template}

\item{output_dir}{Directory to save posteriors.json (default: "./results")}

\item{verbose}{Logical; print progress messages (default: TRUE)}
}
\value{
List containing:
\describe{
\item{posteriors}{The complete posteriors object}
\item{n_parameters_updated}{Number of parameters successfully updated}
\item{n_parameters_failed}{Number of parameters that failed to fit}
\item{output_file}{Path to the created posteriors.json file}
}
}
\description{
Fits theoretical distributions to posterior quantiles and creates a posteriors.json
file that mirrors the structure of the priors.json file with updated parameter values.
}
\details{
The function:
\enumerate{
\item Reads the posterior_quantiles.csv file produced by calc_model_posterior_quantiles or est_npe_posterior
\item Processes all quantile rows in the file (user controls what to include)
\item Loads the priors.json as a template structure
\item For each posterior parameter in the quantiles table:
\itemize{
\item Extracts the 2.5\%, 50\%, and 97.5\% quantiles
\item Calls the appropriate fit_*_from_ci function based on distribution type
\item Updates the corresponding entry in the posteriors structure
}
\item Preserves all non-estimated parameters from the priors unchanged
\item Properly handles location-specific parameters for single or multiple countries
\item Writes posteriors.json to the output directory
}
}
\examples{
\dontrun{
# Standard usage after running calc_model_posterior_quantiles
posterior_dists <- calc_model_posterior_distributions(
  quantiles_file = "./results/posterior_quantiles.csv",
  priors_file = "./config/priors.json",
  output_dir = "./results"
)
}

}
