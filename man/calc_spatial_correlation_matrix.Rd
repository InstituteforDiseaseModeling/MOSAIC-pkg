% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_spatial_correlation_matrix.R
\name{calc_spatial_correlation_matrix}
\alias{calc_spatial_correlation_matrix}
\title{Build the full spatial–correlation matrix across all locations}
\usage{
calc_spatial_correlation_matrix(I_sym, I_asym, N)
}
\arguments{
\item{I_sym}{Numeric \strong{matrix} (J × T).  Symptomatic infections.}

\item{I_asym}{Numeric \strong{matrix} (J × T).  Asymptomatic infections.
Must have the same dimensions as \code{I_sym}.}

\item{N}{Population sizes. Accepts
\itemize{
\item a single scalar (same for every j & t),
\item a length-\emph{J} vector (different per location, constant in time), \strong{or}
\item a full \emph{J × T} matrix (time‑varying populations).
}}
}
\value{
A \strong{J × J} symmetric numeric matrix whose \((i,j)\) entry is
\eqn{\mathcal{C}_{ij}}; diagonal elements are set to 1.
Pairs that cannot be computed (all \code{NA}, zero variance, etc.) are \code{NA_real_}.
}
\description{
Given LASER simulation outputs, this function constructs the
\eqn{J \times J} matrix
\eqn{\mathbf C = [\mathcal{C}_{ij}]} of Pearson
spatial–correlation coefficients (Keeling & Rohani 2002) for every pair of
locations.
}
\details{
\emph{All three input objects must be arranged as} \strong{\link[=locations \\(J\\) × time \\(T\\)]{locations \(J\) × time \(T\)}}
(rows are the \emph{J} locations; columns are the \emph{T} time steps).

Total infections at time \emph{t} in location \emph{j} are taken as
\eqn{I_{jt} = I^{(\mathrm{sym})}_{jt} + I^{(\mathrm{asym})}_{jt}}; these
are converted to prevalence by dividing by the matching population size
\eqn{N_{jt}}.  Pair-wise correlations are then computed with
\code{\link[=calc_spatial_correlation]{calc_spatial_correlation()}}.
}
\seealso{
\code{\link{calc_spatial_correlation}}
}
