% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/combine_vaccination_data.R
\name{combine_vaccination_data}
\alias{combine_vaccination_data}
\title{Combine WHO and GTFCC Vaccination Data}
\usage{
combine_vaccination_data(PATHS, date_tolerance = 60, dose_tolerance = 0.2)
}
\arguments{
\item{PATHS}{A list containing file paths for input and output data. The list should include:
\itemize{
\item \strong{MODEL_INPUT}: Path to the directory containing processed vaccination data files and where combined data will be saved.
}}

\item{date_tolerance}{Number of days tolerance for matching campaign dates between sources (default: 60 days)}

\item{dose_tolerance}{Proportion tolerance for matching doses between sources (default: 0.2 = 20\%)}
}
\value{
The function saves the combined vaccination data to a CSV file in the directory specified by \code{PATHS$MODEL_INPUT}.
It also returns the combined data as a data frame for further use in R.
}
\description{
This function intelligently combines vaccination data from WHO and GTFCC sources, prioritizing GTFCC data
while identifying and including WHO campaigns that are missing from GTFCC. It uses multiple matching
criteria to determine if campaigns are duplicates, accounting for date discrepancies and dose variations.
}
\details{
The function performs intelligent campaign matching using the following approach:
\enumerate{
\item \strong{Load Processed Data}:
- Reads WHO and GTFCC processed vaccination data files
\item \strong{Intelligent Matching}:
- Matches campaigns by country, approximate date (within tolerance), and dose similarity
- Uses multiple passes with different tolerance levels to maximize accurate matching
- Identifies truly unique WHO campaigns not present in GTFCC
\item \strong{Data Combination}:
- Prioritizes GTFCC data (marked as source = "GTFCC")
- Adds unique WHO campaigns (marked as source = "WHO")
- Includes campaigns present in both (marked as source = "GTFCC_WHO_matched")
\item \strong{Quality Assurance}:
- Validates data structure matches downstream requirements
- Ensures all required columns are present
- Maintains date and ID formatting standards
}
}
\examples{
# Example usage
PATHS <- get_paths()
combined_data <- combine_vaccination_data(PATHS)

# With custom tolerance settings
combined_data <- combine_vaccination_data(PATHS, date_tolerance = 30, dose_tolerance = 0.1)

}
