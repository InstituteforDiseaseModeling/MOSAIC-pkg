% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_config_npe.R
\name{create_config_npe}
\alias{create_config_npe}
\title{Create NPE Configuration with Median Parameter Values}
\usage{
create_config_npe(
  posterior_quantiles_file,
  config_base,
  output_file,
  verbose = TRUE
)
}
\arguments{
\item{posterior_quantiles_file}{Path to NPE posterior_quantiles.csv file containing
parameter quantiles from NPE estimation}

\item{config_base}{Base configuration object (list) or file path (character string)
containing the original LASER model configuration}

\item{output_file}{Path where config_npe.json should be saved}

\item{verbose}{Logical, whether to print progress messages (default TRUE)}
}
\value{
List containing the updated configuration with median posterior values
}
\description{
Creates a configuration file where all NPE-estimated parameters are set to their
median posterior values from posterior_quantiles.csv. Non-estimated parameters
retain their original values from the base configuration.
}
\details{
This function performs the following steps:
\enumerate{
\item Reads NPE posterior quantiles from CSV file
\item Loads the base configuration
\item Updates each NPE-estimated parameter with its median (q0.5) value
\item Handles both global and location-specific parameters
\item Preserves all non-estimated parameters from base configuration
\item Adds metadata tracking the update process
\item Saves the result as config_npe.json
}

Location-specific parameters are identified by a 3-letter ISO code suffix
(e.g., "beta_j0_hum_ETH"). The function automatically maps these to the
correct location index in the configuration vectors.
}
\examples{
\dontrun{
# Create NPE configuration from posterior quantiles
config_npe <- create_config_npe(
  posterior_quantiles_file = "output/npe/posterior/posterior_quantiles.csv",
  config_base = config_base,
  output_file = "output/npe/config_npe.json"
)

# Or using a config file path
config_npe <- create_config_npe(
  posterior_quantiles_file = "output/npe/posterior/posterior_quantiles.csv",
  config_base = "output/config_base.json",
  output_file = "output/npe/config_npe.json"
)
}

}
\seealso{
\code{\link{train_npe}} for training the NPE model
\code{\link{calc_npe_diagnostics}} for NPE model diagnostics
}
