% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est_initial_V1_V2.R
\name{est_initial_V1_V2}
\alias{est_initial_V1_V2}
\title{Estimate Initial V1 and V2 Compartments for All Locations}
\usage{
est_initial_V1_V2(
  PATHS,
  priors,
  config,
  n_samples = 1000,
  t0 = NULL,
  verbose = TRUE,
  parallel = FALSE,
  variance_inflation = 1
)
}
\arguments{
\item{PATHS}{List object from get_paths() containing data directory paths}

\item{priors}{Prior distributions object (e.g., from priors_default or custom)}

\item{config}{Configuration object containing location names (location_name or location_codes) and parameters}

\item{n_samples}{Integer, number of Monte Carlo samples for uncertainty (default 1000)}

\item{t0}{Date object for initial condition estimation (default from config$date_start or config$t0)}

\item{verbose}{Logical, whether to print progress messages (default TRUE)}

\item{parallel}{Logical, whether to use parallel processing (default FALSE).
When TRUE, automatically detects cores and handles platform differences.}

\item{variance_inflation}{Numeric factor to inflate variance of fitted Beta distributions (default 1 = no inflation).
Values > 1 increase uncertainty while preserving the mean. For example, 2 doubles the variance.}
}
\value{
A list with priors_default-compatible structure containing:
\describe{
\item{metadata}{Information about the estimation run including summary statistics}
\item{parameters_location}{Parameter-first hierarchy matching priors_default:
\itemize{
\item prop_V1_initial: Beta distribution parameters for V1/N by location
\item prop_V2_initial: Beta distribution parameters for V2/N by location
}
Each parameter contains $parameters$location$\link{ISO_CODE} with shape1, shape2, and metadata
}
}
}
\description{
Estimates initial V1 (one-dose) and V2 (two-dose) vaccination compartment values
for all locations specified in a config, with uncertainty quantification through
Monte Carlo sampling from prior distributions. Returns results formatted as a
priors-like object with Beta distribution parameters for V1/N and V2/N proportions.
}
\details{
The function performs the following steps for each location:
\enumerate{
\item Loads vaccination and population data
\item Runs Monte Carlo simulation sampling from priors for omega and phi
\item Calculates V1 and V2 for each sample
\item Fits Beta distributions to V1/N and V2/N proportions
\item Compiles results in standardized format
}
}
\examples{
\dontrun{
# Standard usage
PATHS <- get_paths()
initial_conditions <- est_initial_V1_V2(
  PATHS = PATHS,
  priors = priors_default,
  config = config_example,
  n_samples = 1000
)

# Access results for a location (priors_default-compatible structure)
eth_v1_params <- initial_conditions$parameters_location$prop_V1_initial$parameters$location$ETH
eth_v1_shape1 <- eth_v1_params$shape1
eth_v1_mean <- eth_v1_params$metadata$mean
}

}
