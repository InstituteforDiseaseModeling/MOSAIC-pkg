% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est_suitability.R
\name{est_suitability}
\alias{est_suitability}
\title{Estimate Environmental Suitability (psi) for Cholera Transmission}
\usage{
est_suitability(PATHS, include_lagged_covariates = FALSE)
}
\arguments{
\item{PATHS}{A list containing paths where the data is stored. Typically generated by the \code{get_paths()} function and should include:
\itemize{
\item \strong{DATA_CLIMATE}: Path to the directory where processed climate data is stored.
\item \strong{DATA_ENSO}: Path to the directory where ENSO data is stored.
\item \strong{DATA_WHO_WEEKLY}: Path to the directory containing processed weekly cholera cases data.
\item \strong{MODEL_INPUT}: Path to save the processed model inputs and outputs.
\item \strong{DOCS_FIGURES}: Path to save the generated plots.
}}
}
\value{
This function processes climate and cholera case data, fits an LSTM model, makes predictions on
environmental suitability (psi), and saves both the predictions and covariate data. It also
generates a plot showing the model fit (accuracy and loss over training epochs) and saves it to a
specified directory.
}
\description{
This function loads climate data, ENSO data, and weekly cholera cases data to estimate the environmental
suitability for cholera transmission based on various environmental factors. It uses lagged climate
covariates, scales them, and then fits an LSTM-based RNN model to predict cholera outbreaks. The model
is trained using past cholera case data and climate conditions, and predictions are made for environmental
suitability (psi) based on the climate covariates.
}
\details{
The function performs the following steps:
\itemize{
\item Loads processed climate and cholera data.
\item Creates lagged versions of relevant climate variables (e.g., temperature, precipitation, ENSO data).
\item Scales the climate covariates.
\item Splits the data into training and test sets.
\item Builds an LSTM-based recurrent neural network (RNN) model for predicting cholera outbreaks.
\item Trains the model on the training set and evaluates its performance on the test set.
\item Makes predictions on both the test set and the full dataset.
\item Saves the predictions, covariate data, and model fit plots to the specified directories.
}
}
\note{
The LSTM model uses lagged climate variables to predict cholera suitability. The model's predictions are saved as
a CSV file and a plot showing the model fit (accuracy and loss) is generated.
}
\examples{
\dontrun{
# Assuming PATHS is defined and points to the correct data directories:
est_suitability(PATHS)
}

}
\seealso{
\code{\link[keras]{layer_lstm}}, \code{\link[keras]{fit}}, \code{\link[ggplot2]{ggplot}}
}
