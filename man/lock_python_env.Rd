% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/lock_python_env.R
\name{lock_python_env}
\alias{lock_python_env}
\title{Lock Python Environment to r-mosaic}
\usage{
lock_python_env()
}
\value{
Invisible TRUE if successful, stops with error otherwise
}
\description{
Ensures the r-mosaic Python environment is active and prevents switching.
This function should be called at the start of parallel workflows or
any script that requires stable Python environment access.

The function:
\itemize{
\item Verifies the r-mosaic environment exists
\item Sets and locks the RETICULATE_PYTHON environment variable
\item Initializes Python with the r-mosaic environment
\item Imports laser_cholera to ensure it's available
\item Fails loudly if any step fails
}
}
\details{
Once Python is initialized with a specific environment in an R session,
reticulate prevents switching to a different environment. This function
leverages that behavior by initializing with r-mosaic first, effectively
locking the session to that environment.

Best practice: Call this function immediately after loading the MOSAIC
package and before any other operations that might initialize Python.
}
\examples{
\dontrun{
# At the start of a calibration script
library(MOSAIC)
set_root_directory("/path/to/MOSAIC")

# Lock Python environment before creating cluster
lock_python_env()

# Now safe to create cluster and run simulations
cl <- makeCluster(9)
# ... rest of script
}

}
\seealso{
\code{\link{check_python_env}} for checking the current environment,
\code{\link{use_mosaic_env}} for switching to MOSAIC environment,
\code{\link{check_dependencies}} for verifying the setup,
\code{\link{install_dependencies}} for installing the environment
}
