% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_LASER_config.R
\name{make_LASER_config}
\alias{make_LASER_config}
\title{Create a Configuration File for LASER}
\usage{
make_LASER_config(
  output_file_path = NULL,
  compress = FALSE,
  seed = NULL,
  date_start = NULL,
  date_stop = NULL,
  location_name = NULL,
  S_j_initial = NULL,
  E_j_initial = NULL,
  I_j_initial = NULL,
  R_j_initial = NULL,
  V1_j_initial = NULL,
  V2_j_initial = NULL,
  b_jt = NULL,
  d_jt = NULL,
  nu_1_jt = NULL,
  nu_2_jt = NULL,
  phi_1 = NULL,
  phi_2 = NULL,
  omega_1 = NULL,
  omega_2 = NULL,
  iota = NULL,
  gamma_1 = NULL,
  gamma_2 = NULL,
  epsilon = NULL,
  mu_jt = NULL,
  rho = NULL,
  sigma = NULL,
  longitude = NULL,
  latitude = NULL,
  mobility_omega = NULL,
  mobility_gamma = NULL,
  tau_i = NULL,
  beta_j0_hum = NULL,
  a_1_j = NULL,
  a_2_j = NULL,
  b_1_j = NULL,
  b_2_j = NULL,
  p = NULL,
  alpha_1 = NULL,
  alpha_2 = NULL,
  beta_j0_env = NULL,
  theta_j = NULL,
  psi_jt = NULL,
  zeta_1 = NULL,
  zeta_2 = NULL,
  kappa = NULL,
  decay_days_short = NULL,
  decay_days_long = NULL,
  decay_shape_1 = NULL,
  decay_shape_2 = NULL,
  return = NULL
)
}
\arguments{
\item{output_file_path}{A character string representing the full file path of the output file.
Must have a .json, .json.gz, .h5, .hdf5, .h5.gz, .yaml, or .yaml.gz extension.
If NULL, no file is written and the parameters are returned.}

\item{seed}{Integer scalar giving the random seed value for the simulation run.
\subsection{Initialization}{
}}

\item{date_start}{Start date for the simulation period in "YYYY-MM-DD" format. If provided as a character string,
it will be converted to a Date object.}

\item{date_stop}{End date for the simulation period in "YYYY-MM-DD" format. If provided as a character string,
it will be converted to a Date object.}

\item{location_name}{A character vector giving the names of each metapopulation location.
The order and names here must match those used in the initial population vectors.}

\item{S_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of susceptible individuals for each location. Names must match location_name.}

\item{E_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of exposed individuals for each location. Names must match location_name.}

\item{I_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of infected individuals for each location. Names must match location_name.}

\item{R_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of recovered individuals for each location. Names must match location_name.}

\item{V1_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of individuals in vaccine compartment V1 for each location. Names must match location_name.}

\item{V2_j_initial}{A named numeric or integer vector of length equal to location_name giving the starting number
of individuals in vaccine compartment V2 for each location. Names must match location_name.
\subsection{Demographics}{
}}

\item{b_jt}{A matrix of birth rates with rows equal to length(location_name) and columns equal to the daily
sequence from date_start to date_stop.}

\item{d_jt}{A matrix of mortality rates with rows equal to length(location_name) and columns equal to the daily
sequence from date_start to date_stop.
\subsection{Vaccination}{
}}

\item{nu_1_jt}{A matrix of first-dose OCV vaccinations for each location and time step.}

\item{nu_2_jt}{A matrix of second-dose OCV vaccinations for each location and time step.}

\item{phi_1}{Effectiveness of one dose of OCV (numeric in \link{0, 1}).}

\item{phi_2}{Effectiveness of two doses of OCV (numeric in \link{0, 1}).}

\item{omega_1}{Waning immunity rate for one dose (numeric >= 0).}

\item{omega_2}{Waning immunity rate for two doses (numeric >= 0).
\subsection{Infection dynamics}{
}}

\item{iota}{Incubation period (numeric > 0).}

\item{gamma_1}{Recovery rate for severe infection (numeric >= 0).}

\item{gamma_2}{Recovery rate for mild infection (numeric >= 0).}

\item{epsilon}{Waning immunity rate (numeric >= 0).}

\item{mu_jt}{A matrix of time-varying probabilities of mortality due to infection, with rows equal to length(location_name)
and columns equal to length(t). All values must be numeric and between 0 and 1.
\subsection{Observation Processes}{
}}

\item{rho}{Proportion of true infections (numeric in \link{0, 1}).}

\item{sigma}{Proportion of symptomatic infections (numeric in \link{0, 1}).
\subsection{Spatial model}{
}}

\item{longitude}{A numeric vector of longitudes for each location. Must be same length as location_name.}

\item{latitude}{A numeric vector of latitudes for each location. Must be same length as location_name.}

\item{mobility_omega}{Exponent weight for destination population in the gravity mobility model. Must be numeric ≥ 0.}

\item{mobility_gamma}{Exponent weight for distance decay in the gravity mobility model. Must be numeric ≥ 0.}

\item{tau_i}{Departure probability for each origin location (numeric vector of length(location_name) in \link{0, 1}).
\subsection{Force of Infection (human-to-human)}{
}}

\item{beta_j0_hum}{Baseline human-to-human transmission rate (numeric vector of length(location_name)).}

\item{a_1_j}{Vector of sine amplitude coefficients (1st harmonic) for each location. Numeric, length = length(location_name).}

\item{a_2_j}{Vector of sine amplitude coefficients (2nd harmonic) for each location. Numeric, length = length(location_name).}

\item{b_1_j}{Vector of cosine amplitude coefficients (1st harmonic) for each location. Numeric, length = length(location_name).}

\item{b_2_j}{Vector of cosine amplitude coefficients (2nd harmonic) for each location. Numeric, length = length(location_name).}

\item{p}{Period of the seasonal forcing function. Scalar numeric > 0. Default is 366 for daily annual seasonality including the leap year.}

\item{alpha_1}{Transmission parameter for mixing (numeric in \link{0, 1}).}

\item{alpha_2}{Transmission parameter for density dependence (numeric in \link{0, 1}).
\subsection{Force of Infection (environment-to-human)}{
}}

\item{beta_j0_env}{Baseline environment-to-human transmission rate (numeric vector of length(location_name)).}

\item{theta_j}{Proportion with adequate WASH (numeric vector of length(location_name) in \link{0, 1}).}

\item{psi_jt}{Matrix of environmental suitability values (matrix with rows = length(location_name) and columns equal to the daily sequence from date_start to date_stop).}

\item{zeta_1}{Shedding rate (numeric > 0).}

\item{zeta_2}{Shedding rate (numeric > 0; must be less than zeta_1).}

\item{kappa}{Concentration required for 50\% infection (numeric > 0).}

\item{decay_days_short}{Time constant (in days) for short-term survival of \emph{V. cholerae} in the environment. Must be > 0 and < decay_days_long.}

\item{decay_days_long}{Time constant (in days) for long-term survival of \emph{V. cholerae} in the environment. Must be > 0 and > decay_days_short.}

\item{decay_shape_1}{First shape parameter for beta distribution controlling how environmental suitability maps to the decay rate of \emph{V. cholerae} in the environment. Must be numeric > 0.}

\item{decay_shape_2}{Second shape parameter for beta distribution controlling how environmental suitability maps to the decay rate of \emph{V. cholerae} in the environment. Must be numeric > 0.
\subsection{Outputs}{
}}

\item{return}{A character vector of model quantities to return after running the LASER model. Each element should be one of the following:
\describe{
\item{"LL"}{Log-likelihood of the fitted model.}
\item{"S"}{Number of susceptible individuals.}
\item{"E"}{Number of exposed (latent) individuals.}
\item{"I"}{Number of infectious individuals.}
\item{"R"}{Number of recovered individuals.}
\item{"V1"}{Number of individuals with one dose of vaccine. Includes all V1 subcompartments.}
\item{"V2"}{Number of individuals with two doses of vaccine. Includes all V2 subcompartments.}
\item{"W"}{Environmental concentration of \emph{V. cholerae}.}
\item{"C"}{Estimated number of symptomatic cholera cases.}
\item{"D"}{Estimated number of cholera deaths.}
}}
}
\value{
Returns the validated list of parameters. If output_file_path is provided, the parameters are written to a file
in the format determined by the file extension.
}
\description{
This function generates a JSON/HDF5/YAML/OBJ configuration file to be used as LASER model simulation parameters.
It validates all input parameters and, if an output file path is provided, writes the parameters to a file.
The file extension determines which output format is used:
\itemize{
\item .json or .json.gz → written with write_list_to_json,
\item .h5, or .h5.gz → written with write_list_to_hdf5,
\item .yaml or .yaml.gz → written with write_list_to_yaml.
\item .obj or .obj.gz → written with write_list_to_obj (Python-compatible).
}
}
\examples{
\dontrun{
make_LASER_config(
     output_file_path = "parameters.json",
     compress = TRUE,
     seed = 123,
     date_start = "2024-12-01",
     date_stop = "2024-12-31",
     location_name = c("Location A", "Location B"),
     S_j_initial = c("Location A" = 900, "Location B" = 900),
     E_j_initial = c("Location A" = 0, "Location B" = 0),
     I_j_initial = c("Location A" = 50, "Location B" = 50),
     R_j_initial = c("Location A" = 50, "Location B" = 50),
     V1_j_initial = c("Location A" = 0, "Location B" = 0),
     V2_j_initial = c("Location A" = 0, "Location B" = 0),
     b_jt = matrix(data = 0.0015, nrow = 2, ncol = 366),
     d_jt = matrix(data = 0.001, nrow = 2, ncol = 366),
     nu_1_jt = matrix(data = 0, nrow = 2, ncol = 366),
     nu_2_jt = matrix(data = 0, nrow = 2, ncol = 366),
     phi_1 = 0.8,
     phi_2 = 0.85,
     omega_1 = 0.1,
     omega_2 = 0.12,
     iota = 1.4,
     gamma_1 = 0.2,
     gamma_2 = 0.25,
     epsilon = 0.05,
     mu_jt = matrix(0.01, nrow = 2, ncol = 31),
     rho = 0.9,
     sigma = 0.5,
     beta_j0_hum = c(0.05, 0.03),
     a_1_j = c(0.02, 0.02),
     a_2_j = c(0.01, 0.01),
     b_1_j = c(0.03, 0.03),
     b_2_j = c(0.01, 0.01),
     p     = 365,
     longitude = c(36.8, 37.0),
     latitude = c(-1.3, -1.2),
     mobility_omega = 1.0,
     mobility_gamma = 2.0,
     tau_i = c(0.1, 0.2),
     alpha_1 = 0.95,
     alpha_2 = 1,
     beta_j0_env = c(0.02, 0.04),
     theta_j = c(0.6, 0.7),
     psi_jt = matrix(data = 0, nrow = 2, ncol = 366),
     zeta_1 = 0.5,
     zeta_2 = 0.4,
     kappa = 10^5,
     decay_days_short  = 3,
     decay_days_long   = 90,
     decay_shape_1     = 1,
     decay_shape_2     = 1,
     return = "LL"
)
}

}
