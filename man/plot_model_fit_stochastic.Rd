% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_model_fit_stochastic.R
\name{plot_model_fit_stochastic}
\alias{plot_model_fit_stochastic}
\title{Plot Stochastic Model Fit: Timeseries with Uncertainty Envelopes}
\usage{
plot_model_fit_stochastic(
  config,
  n_simulations = 100,
  output_dir,
  envelope_quantiles = c(0.1, 0.9),
  verbose = TRUE
)
}
\arguments{
\item{config}{A configuration list/object as produced by sample_parameters().
Must contain all necessary parameters for running laser_cholera model including:
\itemize{
\item reported_cases - observed cases data
\item reported_deaths - observed deaths data
\item location_name - location identifiers
\item date_start and date_stop - time range for the plot
}}

\item{n_simulations}{Integer specifying number of stochastic simulations to run.
Default is 100.}

\item{output_dir}{Character string specifying the directory where plots should
be saved. Directory will be created if it doesn't exist.}

\item{envelope_quantiles}{Numeric vector of length 2 specifying the quantiles
for the confidence envelope. Default is c(0.1, 0.9) for 80\% CI.}

\item{verbose}{Logical indicating whether to print progress messages. Default is TRUE.}
}
\value{
Invisibly returns a list containing:
\itemize{
\item \code{individual}: Named list of plots for each location
\item \code{cases_faceted}: Faceted plot of cases by location (if n_locations > 1)
\item \code{deaths_faceted}: Faceted plot of deaths by location (if n_locations > 1)
\item \code{simulation_stats}: Statistics from the simulations including
successful run count and aggregated predictions
}
}
\description{
Runs multiple stochastic simulations of a model configuration and creates
timeseries plots showing mean predictions with confidence envelopes.
}
\details{
This function performs multiple stochastic runs of the laser-cholera model
with identical configuration but different random seeds. It then aggregates
the results to show:
\itemize{
\item Mean predictions across all simulations
\item Confidence envelopes based on specified quantiles
\item Observed data for comparison
\item Summary statistics (total counts, correlations)
}

Unlike plot_model_fit(), this function does not calculate or display likelihood
values, focusing instead on prediction uncertainty through stochastic simulation.
}
\examples{
\dontrun{
# Sample parameters for best model
best_config <- sample_parameters(PATHS, priors = priors,
                                 config = base_config, seed = 123)

# Create stochastic plots with 100 simulations
plots <- plot_model_fit_stochastic(
    config = best_config,
    n_simulations = 100,
    output_dir = "output/plots",
    envelope_quantiles = c(0.1, 0.9)
)

# Access individual plots
plots$individual[["ETH"]]  # Individual location plot for Ethiopia
}

}
