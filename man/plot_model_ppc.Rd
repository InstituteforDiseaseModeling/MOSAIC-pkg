% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_model_ppc.R
\name{plot_model_ppc}
\alias{plot_model_ppc}
\title{Plot Best Model Replications}
\usage{
plot_model_ppc(
  ppc_results,
  output_dir,
  location_names = NULL,
  location_codes = NULL,
  time_labels = NULL,
  credible_intervals = c(0.5, 0.8, 0.95),
  max_predictions = 20,
  plot_width = 16,
  plot_height = 14,
  verbose = TRUE
)
}
\arguments{
\item{ppc_results}{List returned by \code{\link[=calc_model_ppc]{calc_model_ppc()}}. Must contain
\code{observed}, \code{predictions}, \code{summary_stats}, and \code{best_model}.}

\item{output_dir}{Character string specifying directory where plots should be saved.
Directory will be created if it doesn't exist.}

\item{location_names}{Optional character vector of location names for labeling.
If NULL, uses generic location indices.}

\item{location_codes}{Optional character vector of location codes (e.g., "ETH")
for file naming. If NULL, uses \code{location_names} or indices (sanitized).}

\item{time_labels}{Optional character/Date vector for time axis labels.
If NULL, uses sequential time indices.}

\item{credible_intervals}{Numeric vector of credible interval levels to display
(default c(0.5, 0.8, 0.95)). Values must be in (0,1).}

\item{max_predictions}{Integer. Max number of individual replication traces
to show in time series (default 20) to reduce clutter.}

\item{plot_width}{Numeric. Width of saved plots in inches (default 16).}

\item{plot_height}{Numeric. Height of saved plots in inches (default 14).}

\item{verbose}{Logical. Whether to print progress messages (default TRUE).}
}
\value{
Invisibly returns a list of ggplot objects for each location:
\itemize{
\item \code{[location]_timeseries}: Time series plots (cases and deaths)
\item \code{[location]_diagnostics}: Diagnostic plots (distributions, scatter, Q-Q, residuals)
}
}
\description{
Creates diagnostic plots for best model replication results, comparing
observed data with multiple replications of the \strong{single best-fitting model}
to assess model adequacy and show stochastic variability.
}
\details{
\strong{Time series} show observed points, mean prediction, and layered credible-interval ribbons
computed \strong{only from replications of the best model}. Individual replicate traces (up to
\code{max_predictions}) visualize stochastic variability.

\strong{Diagnostics} compare empirical distributions and residual patterns for the best model.
}
\examples{
\dontrun{
best_model_plots <- plot_model_ppc(
  ppc_results = ppc_results,
  output_dir = "best_model_validation",
  location_names = c("Region A", "Region B"),
  credible_intervals = c(0.5, 0.8, 0.95)
)
print(best_model_plots$ETH_timeseries)
print(best_model_plots$ETH_diagnostics)
}

}
\seealso{
\code{\link[=calc_model_ppc]{calc_model_ppc()}}, \code{\link[=plot_model_fit]{plot_model_fit()}}

Other model-validation: 
\code{\link{calc_model_ppc}()}
}
\concept{model-validation}
