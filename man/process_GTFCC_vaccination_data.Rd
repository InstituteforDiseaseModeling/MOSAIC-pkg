% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_GTFCC_vaccination_data.R
\name{process_GTFCC_vaccination_data}
\alias{process_GTFCC_vaccination_data}
\title{Process GTFCC Vaccination Data for MOSAIC Model}
\usage{
process_GTFCC_vaccination_data(PATHS)
}
\arguments{
\item{PATHS}{A list containing file paths for input and output data. The list should include:
\itemize{
\item \strong{DATA_DEMOGRAPHICS}: Path to the directory where demographic data is stored.
\item \strong{MODEL_INPUT}: Path to the directory where processed vaccination data will be saved.
}}
}
\value{
The function saves the processed vaccination data to a CSV file in the directory specified by \code{PATHS$MODEL_INPUT}.
It also returns the processed data as a data frame for further use in R.
}
\description{
This function processes raw GTFCC vaccination data that has been scraped from the GTFCC OCV dashboard
by the ees-cholera-mapping repository. It transforms the event-based data structure into a clean,
structured dataset matching the WHO vaccination data format for use in the MOSAIC model.
}
\details{
This function performs the following steps:
\enumerate{
\item \strong{Load and Transform GTFCC Data}:
- Reads the scraped GTFCC data from ees-cholera-mapping repository.
- Transforms event-based structure (Request, Decision, Delivery, Round events) to request-based structure.
\item \strong{Map to WHO Format}:
- Aggregates events by request ID to extract doses requested, approved, and shipped.
- Uses Delivery event dates as campaign dates.
- Converts country names to ISO codes for consistency.
\item \strong{Load and Merge Demographic Data}:
- Reads demographic data for African countries from a CSV file.
- Filters the data for the year 2023 and retains population sizes.
\item \strong{Infer Missing Campaign Dates}:
- Computes the delay between decision and campaign dates.
- Infers missing campaign dates based on the mean delay where possible.
- Fixes missing decision dates for grouped request numbers.
\item \strong{Validate and Filter Data}:
- Ensures all rows have valid campaign dates.
- Removes rows where \code{doses_shipped} is zero or missing.
- Filters for MOSAIC countries only.
\item \strong{Save Processed Data}:
- Writes the cleaned and processed dataset to a CSV file for further modeling.
}
}
\examples{
# Example usage
PATHS <- list(
  DATA_DEMOGRAPHICS = "path/to/demographics",
  MODEL_INPUT = "path/to/model/input"
)

processed_data <- process_GTFCC_vaccination_data(PATHS)

}
