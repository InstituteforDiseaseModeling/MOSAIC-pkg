% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_cholera_surveillance_data.R
\name{process_cholera_surveillance_data}
\alias{process_cholera_surveillance_data}
\title{Process Combined Weekly and Daily Cholera Surveillance Data with Truly Square Data Structure}
\usage{
process_cholera_surveillance_data(PATHS, keep_source = c("WHO", "JHU", "SUPP"))
}
\arguments{
\item{PATHS}{A list of file paths. Must include:
\itemize{
\item \strong{DATA_WHO_WEEKLY}: Directory containing \code{cholera_country_weekly_processed.csv} from WHO.
\item \strong{DATA_JHU_WEEKLY}: Directory containing \code{cholera_country_weekly_processed.csv} from JHU.
\item \strong{DATA_SUPP_WEEKLY}: Directory containing \code{cholera_country_weekly_processed.csv} from supplemental source (may include extra columns).
\item \strong{DATA_CHOLERA_WEEKLY}: Directory where the combined weekly output will be saved.
\item \strong{DATA_CHOLERA_DAILY}: Directory where the combined daily output will be saved.
}}

\item{keep_source}{Character; one of "WHO", "JHU", or "SUPP". When duplicate country–week entries
occur across sources, the entry from \code{keep_source} will be used preferentially.}
}
\value{
Invisibly returns \code{NULL}. Side effects:
\itemize{
\item Reads weekly CSVs from all three sources and adds a \code{source} column.
\item Cleans rows with missing key grouping fields (iso_code, year, week).
\item Harmonizes columns by keeping only those present in all three dataframes.
\item Deduplicates by \code{iso_code}, \code{year}, \code{week}, choosing rows from \code{keep_source}.
\item Creates truly square data structure with all country-week combinations from min to max date (missing data = NA).
\item Saves the combined weekly data to
\code{PATHS$DATA_CHOLERA_WEEKLY/cholera_surveillance_weekly_combined.csv}.
\item Downscales weekly \code{cases} and \code{deaths} to daily counts,
preserving square structure (keeping days with NA), and carries over the \code{source}.
\item Saves the combined daily data to
\code{PATHS$DATA_CHOLERA_DAILY/cholera_surveillance_daily_combined.csv}.
}
}
\description{
This function reads the processed weekly cholera data from WHO, JHU, and supplemental (SUPP) sources,
labels each record by its source, combines them (removing duplicate country–week entries according to
the specified source preference), creates a truly square data structure with all country-week combinations
from min to max date across the entire dataset, and downscales the combined weekly totals to a daily time series
using \code{MOSAIC::downscale_weekly_values} with integer allocation.
}
