# Fit Mobility Model Using Flight Data and Distance Matrices

This function estimates the departure probability (tau_i) and diffusion
model (pi_ij) using flight data, distance matrices, and population
sizes. It processes flight data, builds mobility and distance matrices,
fits the mobility model, and saves the results in CSV format.

## Usage

``` r
est_mobility(PATHS)
```

## Arguments

- PATHS:

  A list containing paths where data, models, and figures are stored.
  Typically generated by the
  [`get_paths()`](https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.md)
  function and should include:

  - **DATA_OAG**: Path to the directory containing flight data (OAG).

  - **DATA_SHAPEFILES**: Path to the directory containing shapefiles for
    African countries.

  - **DATA_DEMOGRAPHICS**: Path to the directory containing demographic
    data.

  - **MODEL_INPUT**: Path to the directory where the model input files
    will be saved.

  - **DOCS_FIGURES**: Path to the directory where figures will be saved.

## Value

The function saves mobility matrices (M, D, N), travel probabilities
(tau_j), and diffusion matrices (pi_ij) as CSV files in the specified
directory. It also generates and saves visualizations as PNG files.

## Note

This function requires the optional `mobility` package from GitHub.
Install with:
`remotes::install_github("COVID-19-Mobility-Data-Network/mobility")`

The `mobility` package requires JAGS (\>= 4.3.0) to be installed on your
system. Most users will not need to regenerate mobility data, as
pre-computed files are included in the package.
