# Process Weekly Cholera Data: Convert Country Names to ISO3 and Filter by WHO AFRO Region

This function processes weekly cholera data by converting country names
to ISO3 codes, filtering the data for countries in the WHO AFRO region,
and organizing the data by year and week. It also generates start and
stop dates for each ISO week.

## Usage

``` r
process_WHO_weekly_data(PATHS)
```

## Arguments

- PATHS:

  A list containing paths to the raw and processed data directories.
  Typically generated by the
  [`get_paths()`](https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/get_paths.md)
  function and should include:

  - **DATA_SCRAPE_WHO_WEEKLY**: Path to the raw cholera data file (e.g.,
    `cholera_country_weekly.csv`).

  - **DATA_WHO_WEEKLY**: Path to save the processed cholera data (e.g.,
    `cholera_country_weekly_processed.csv`).

## Value

Invisibly returns `NULL`. Side effects:

- Reads raw data with
  [`read.csv()`](https://rdrr.io/r/utils/read.table.html).

- Writes processed data to
  `PATHS$DATA_WHO_WEEKLY/cholera_country_weekly_processed.csv` via
  [`write.csv()`](https://rdrr.io/r/utils/write.table.html).

## Details

This function performs the following tasks:

- Reads raw cholera data from a CSV file.

- Converts country names to ISO3 codes using the
  [`MOSAIC::convert_country_to_iso`](https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_country_to_iso.md)
  and
  [`MOSAIC::convert_iso_to_country`](https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/convert_iso_to_country.md)
  functions.

- Filters the dataset to include only countries in the WHO AFRO region
  (based on
  [`MOSAIC::iso_codes_who_afro`](https://institutefordiseasemodeling.github.io/MOSAIC-pkg/reference/iso_codes_who_afro.md)).

- Orders the data by year, week, and country.

- Renames columns for consistency: `cases_by_week` to `cases` and
  `deaths_by_week` to `deaths`.

- Adds `date_start` and `date_stop` columns based on ISO week, using the
  [`ISOweek::ISOweek2date`](https://rdrr.io/pkg/ISOweek/man/ISOweek2date.html)
  function.

- Computes the `month` from `date_start`.

- Filters out countries with fewer than ten observations.

- Checks that no ISO week index 53 remains.

## Examples

``` r
if (FALSE) { # \dontrun{
PATHS <- get_paths()
process_WHO_weekly_data(PATHS)
} # }
```
